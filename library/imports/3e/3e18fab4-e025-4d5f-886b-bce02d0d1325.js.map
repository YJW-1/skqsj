{"version":3,"sources":["assets\\resources\\SDK\\module\\qgameMoreGame\\lieyou_qGamemoreGame_icon.js"],"names":["cc","Class","Component","properties","image","Node","redNode","onLoad","start","setData","obj","touchType","_touchType","jumpData","_id","id","gameName","url","loadSpriteFrame","lieyou_showLog","lieyou_Userdefault","getBoolForKey","active","node","sys","platform","WECHAT_GAME","replace","loadFile","type","loader","load","err","tex","isValid","getComponent","Sprite","spriteFrame","SpriteFrame","callBackTouch","setBoolForKey","lieyou_SdkManager","newJumpApp","data","success","clickAdSuccessCallBack","bind","setadtrack","error","JSON","stringify","setDataForHttp","xhr","XMLHttpRequest","onreadystatechange","readyState","status","response","responseText","open","send"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        image: cc.Node,\r\n        redNode: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n    },\r\n   \r\n    start () {\r\n        \r\n    },\r\n    setData(obj,touchType){\r\n        this._touchType = touchType;\r\n        this.jumpData = obj.jumpData;\r\n        this._id = obj.id;\r\n        //var name = obj.gameName\r\n        this.jumpData.gameName = obj.gameName;\r\n        this.jumpData.id = obj.id;\r\n        if(obj.url){\r\n            this.loadSpriteFrame(obj.url,this.image);\r\n            this.jumpData.url = obj.url;\r\n        }else{\r\n            lieyou_showLog('qgame more game url null');\r\n        }\r\n        if(lieyou_Userdefault.getBoolForKey('ag_moreGame_isTouch_'+this._id,false)){\r\n            this.redNode.active = false;\r\n        }else{\r\n            this.redNode.active = true;\r\n        }\r\n    },\r\n    loadSpriteFrame: function(url,node){\r\n        if(url == \"\") {\r\n\t\t\treturn;\r\n        }\r\n        if(cc.sys.platform === cc.sys.WECHAT_GAME){\r\n            url = url.replace(\"http\",\"https\");\r\n        }\r\n\t\tvar loadFile = {\r\n            url: url,\r\n            type: \"image\"\r\n        };\r\n\t\tcc.loader.load(loadFile, function (err, tex) {\r\n            if (err) {\r\n                return;\r\n            }\r\n            if(node && node.isValid)\r\n                node.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(tex);\r\n        });\r\n    },\r\n    callBackTouch(){\r\n        lieyou_Userdefault.setBoolForKey('ag_moreGame_isTouch_'+this._id,true);\r\n        this.redNode.active = false;\r\n        lieyou_SdkManager.newJumpApp({\r\n            data:this.jumpData,\r\n            success:this.clickAdSuccessCallBack.bind(this)\r\n        });\r\n    },\r\n    clickAdSuccessCallBack(){\r\n        try {\r\n            lieyou_SdkManager.setadtrack(this._id,this._touchType)\r\n        } catch (error) {\r\n            lieyou_showLog('jump game fail + '+ JSON.stringify(error));\r\n        }\r\n    },\r\n\r\n    setDataForHttp: function(url){\r\n\t\t//提交数据到服务器 无返回值 \r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.onreadystatechange = function () {\r\n\t\t\tif (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\r\n\t\t\t\tvar response = xhr.responseText;\r\n\t\t\t\tif(response=='-1'){\r\n\t\t\t\t}\r\n\t\t\t\telse if(response=='-2'){\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\txhr.open(\"GET\", url, true);\r\n\t\txhr.send();\r\n\t},\r\n    // update (dt) {},\r\n});\r\n"]}