{"version":3,"sources":["assets\\script\\Ui\\UiFailed.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIPage from \"./UIPage\";\r\nimport { cocosz } from \"../Framework/CocosZ\";\r\nimport Constant, { PageName, PanelName } from \"../Framework/Constant\";\r\nimport Msg from \"../Framework/Msg\";\r\n// import { utils } from \"../statistic/Utils\";\r\n// import { BannerLocation } from \"../common-plugin/Scripts/YZ_Constant\";\r\n// import { utils } from \"../common-plugin/Scripts/Utils\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UiFailed extends UIPage {\r\n\r\n    private btnAgain: cc.Node = null;\r\n\r\n    private btnSkip: cc.Node = null;\r\n    private btnBack: cc.Node = null;\r\n\r\n    private curFraction: cc.Label = null;\r\n    private maxFraction: cc.Label = null;\r\n\r\n\r\n    private scaleNode: cc.Node = null\r\n    private _Ske: dragonBones.ArmatureDisplay = null;\r\n    // private coin: cc.Label = null;\r\n\r\n    private man: dragonBones.ArmatureDisplay = null;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        this._init();\r\n    }\r\n    private _init() {\r\n\r\n        let Game: cc.Prefab = cocosz.resMgr.getRes(PanelName.UiFailed, cc.Prefab);\r\n        if (Game) {\r\n            let node: cc.Node = cc.instantiate(Game);\r\n            if (node) {\r\n                this._page = node;\r\n                cc.find(\"Canvas/ui\").addChild(node);\r\n                node.active = false;\r\n                node.position = cc.Vec2.ZERO;\r\n                this._onLoad();\r\n            }\r\n        }\r\n    }\r\n    private _onLoad() {\r\n        this.btnAgain = cc.find(\"Canvas/ui/UiFailed/ScaleNode/BtnAgain\");\r\n        this.btnSkip = cc.find(\"Canvas/ui/UiFailed/ScaleNode/BtnSkip\");\r\n        this.btnBack = cc.find(\"Canvas/ui/UiFailed/ScaleNode/BtnBack\");\r\n        this.curFraction = cc.find(\"Canvas/ui/UiFailed/ScaleNode/fraction/curFraction\").getComponent(cc.Label);\r\n        this.maxFraction = cc.find(\"Canvas/ui/UiFailed/ScaleNode/fraction/maxFraction\").getComponent(cc.Label);\r\n        this.scaleNode = cc.find(\"Canvas/ui/UiFailed/ScaleNode\");\r\n        this.man = cc.find(\"Canvas/ui/UiFailed/ScaleNode/man/man\").getComponent(dragonBones.ArmatureDisplay);\r\n        // this.coin = cc.find(\"Canvas/ui/UiFailed/ScaleNode/Coin/num\").getComponent(cc.Label);\r\n        this._Ske = this.scaleNode.getChildByName(\"bg\").getChildByName(\"ske\").getComponent(dragonBones.ArmatureDisplay);\r\n        this._Start();\r\n    }\r\n    private _Start() {\r\n\r\n        this._page.zIndex += 99999;\r\n\r\n        this.btnAgain.on(cc.Node.EventType.TOUCH_END, this._Again, this);\r\n        this.btnSkip.on(cc.Node.EventType.TOUCH_END, this._Skip, this);\r\n        this.btnBack.on(cc.Node.EventType.TOUCH_END, this._Back, this);\r\n\r\n\r\n        cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID;\r\n\r\n        cc.game.on(Constant.E_ADClOSE, () => {\r\n            lieyou_SdkManager.showBanner();\r\n            console.log(\"-----------------------showBannerSucceed\")\r\n        }, this)\r\n    }\r\n\r\n    private _Back() {\r\n        cocosz.audioMgr.playbtnEffect();\r\n\r\n        cocosz.sceneMgr.loadScene(\"Home\", () => {\r\n            cocosz.uiMgr.openPage(PageName.UiHome);\r\n        });\r\n    }\r\n\r\n    private _Again() {\r\n        // cocosz.audioMgr.playbtnEffect();\r\n        // cocosz.sceneMgr.loadScene(\"LoadGame\", () => {\r\n        //     cocosz.uiMgr.openPage(PageName.UiLoadGame);\r\n        //     cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_LEVEL_FAILED });\r\n        // });\r\n\r\n        // cocosz.dataMgr.CurSkinId\r\n        cocosz.audioMgr.playbtnEffect();\r\n        cocosz.sceneMgr.loadScene(cocosz.sceneMgr.sceneName, () => {\r\n            cocosz.uiMgr.openPage(PageName.UiGame);\r\n            cocosz.gameMgr.initGame();\r\n        });\r\n    }\r\n\r\n    onTips(msg) {\r\n        Msg.Show(msg);\r\n    }\r\n\r\n\r\n    private _Skip() {\r\n\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n\r\n            // this.BtnSkip.active = false;\r\n            // cocosz.scheduleOnce(() => {\r\n            cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID;\r\n            window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n\r\n            cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n            cocosz.dataMgr.CurLevelId++;\r\n            cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n                cocosz.uiMgr.openPage(PageName.UiGame);\r\n                cocosz.gameMgr.initGame();\r\n            });\r\n            // }, 1)\r\n            return;\r\n        }\r\n\r\n        cocosz.audioMgr.playbtnEffect();\r\n        // if (cocosz.dataMgr.SkinVedioNum > 0) {\r\n        //     cocosz.dataMgr.SkinVedioNum--;\r\n        //     Msg.Show(\"您拥有关卡跳过卡，本次消耗该道具直接获得奖励\")\r\n\r\n        //     cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID;\r\n        //     window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n\r\n        //     cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n        //     cocosz.dataMgr.CurLevelId++;\r\n        //     cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n        //         cocosz.uiMgr.openPage(PageName.UiGame);\r\n        //         cocosz.gameMgr.initGame();\r\n        //     });\r\n        // }\r\n        // if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n        //     cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID;\r\n        //     window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n\r\n        //     cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n        //     cocosz.dataMgr.CurLevelId++;\r\n        //     cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n        //         cocosz.uiMgr.openPage(PageName.UiGame);\r\n        //         cocosz.gameMgr.initGame();\r\n        //     });\r\n        // }\r\n        // else if ((cc.sys.platform === cc.sys.VIVO_GAME || cc.sys.platform === cc.sys.OPPO_GAME)) {\r\n\r\n        //     lieyou_SdkManager.showRewardedVideoAd((res) => {\r\n        //         cocosz.audioMgr.resumAllMusic();\r\n        //         if (res) {\r\n        //             cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID;\r\n        //             window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n\r\n        //             cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n        //             cocosz.dataMgr.CurLevelId++;\r\n        //             cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n        //                 cocosz.uiMgr.openPage(PageName.UiGame);\r\n        //                 cocosz.gameMgr.initGame();\r\n        //             });\r\n        //             this.onTips(\"跳过关卡成功\");\r\n        //         } else {\r\n        //             this.onTips('视频播放完成才能获取奖励');\r\n        //         }\r\n        //     });\r\n\r\n        // }\r\n\r\n        // return;\r\n\r\n        cocosz.audioMgr.stopAll();\r\n        lieyou_SdkManager.showRewardedVideoAd(function (res) {\r\n            cocosz.audioMgr.resumAllMusic();\r\n            if (res) {\r\n                Msg.Show('获取视频奖励成功');\r\n\r\n\r\n                window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n                // this.BtnSkip.off(cc.Node.EventType.TOUCH_END);\r\n                cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n                cocosz.audioMgr.playbtnEffect();\r\n                if (cocosz.dataMgr.CurLevelId >= 119) {\r\n                    Msg.Show(\"敬请期待更多关卡!!!\");\r\n                    cocosz.scheduleOnce(() => {\r\n                        cocosz.dataMgr.CurLevelId = 119;\r\n                        cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n                            cocosz.uiMgr.openPage(PageName.UiGame);\r\n                            cocosz.gameMgr.initGame();\r\n                        });\r\n                    }, 1.5);\r\n                    return;\r\n                }\r\n\r\n                cocosz.dataMgr.CurLevelId++;\r\n                cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n                    cocosz.uiMgr.openPage(PageName.UiGame);\r\n                    cocosz.gameMgr.initGame();\r\n                });\r\n\r\n                // Msg.Show(\"---------跳过关卡--------------------\")\r\n            } else {\r\n                Msg.Show('视频播放完成才能获取奖励');\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    protected onOpen() {\r\n        // utils.GameFail((cocosz.dataMgr.CurLevelId + 1).toString());\r\n        // utils.adManager.ShowInterstitial(BannerLocation.Over);\r\n        // cocosz.audioMgr.stopAll();\r\n        // cc.log(this._Ske.armature())\r\n        // this._Ske.armature().getSlot(\"ribbon\").displayIndex = 1;\r\n        // let dragon: dragonBones.ArmatureDisplay = cc.instantiate(this._Ske)\r\n        // let robotArmature = this._Ske.armature();\r\n        // let robotSlot = robotArmature.getSlot(\"weapon_hand_r\");\r\n        // let factory = dragonBones.CCFactory.getInstance();\r\n        // factory.replaceSlotDisplay(\r\n        //     dragon.getArmatureKey(),\r\n        //     \"weapon\",\r\n        //     \"weapon_r\",\r\n        //     \"weapon_1004c_r\",\r\n        //     robotSlot\r\n        // );\r\n\r\n        // if (cc.sys.platform === cc.sys.VIVO_GAME) {\r\n        //     lieyou_SdkManager.showSpotByFinish();\r\n        // }\r\n\r\n        // lieyou_SdkManager.showBanner();\r\n\r\n        // if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n        //     lieyou_SdkManager.showMoreGameMiddle_three({ \"node\": this.scaleNode.getChildByName(\"nativePos\"), \"bgPath\": \"texture/ss\", \"scale\": 0.9 });\r\n        //     // this.scaleNode.x+=170;\r\n        // }\r\n        // else if ((cc.sys.platform === cc.sys.VIVO_GAME)) {\r\n        //     lieyou_SdkManager.showSpotByPause();\r\n        // }\r\n        // else if (cc.sys.platform === cc.sys.OPPO_GAME) {\r\n        //     this.scaleNode.x = -357;\r\n        //     let sp = cocosz.resMgr.getRes(\"ss\", cc.SpriteFrame);\r\n        //     lieyou_SdkManager.showNativeAd_big({\r\n        //         node: this.scaleNode.getChildByName(\"nativePos\"), \"titleColor\": cc.color(255, 255, 255, 255,),\r\n        //         \"descColor\": cc.color(255, 255, 255, 255,), bgPath: 'texture/ss', texture: sp, scale: 0.9, insetTop: 10, insetBottom: 10, insetLeft: 10, insetRight: 10\r\n        //     });\r\n        // }\r\n\r\n\r\n        this.curFraction.string = cocosz.gameMgr.game2Fraction.toString()\r\n\r\n        if (cocosz.gameMgr.game2Fraction > cocosz.dataMgr.fraction) {\r\n            cocosz.dataMgr.fraction = cocosz.gameMgr.game2Fraction;\r\n        }\r\n\r\n        this.maxFraction.string = cocosz.dataMgr.fraction;\r\n        cc.log(cocosz.sceneMgr.sceneName, \"ocosz.sceneMgr.sceneName\")\r\n        if (cocosz.sceneMgr.sceneName == \"Game\") {\r\n            this.curFraction.node.parent.active = false;\r\n            this.btnSkip.active = true;\r\n\r\n            window.onGameFail(1, (cocosz.gameMgr.curLevelID + 1));\r\n        } else if (cocosz.sceneMgr.sceneName == \"Game2\") {\r\n\r\n            window.onGameEvent(4, \"无尽关卡失败\", (cocosz.gameMgr.curLevelID + 1) + \"-\" + cocosz.dataMgr.fraction);\r\n        }\r\n\r\n\r\n        cc.tween(this.scaleNode.getChildByName(\"bg\").getChildByName(\"2\"))\r\n            .repeatForever(cc.tween().by(3, { angle: 360 }))\r\n            .start()\r\n\r\n        cc.tween(this.scaleNode.getChildByName(\"bg\").getChildByName(\"3\"))\r\n            .repeatForever(cc.tween().by(3, { angle: -360 }))\r\n            .start()\r\n\r\n\r\n        cocosz.audioMgr.playFeildEffect();\r\n\r\n        this.btnAgain.active = false;\r\n\r\n        this.btnAgain.opacity = 0;\r\n\r\n        cc.tween(this.scaleNode)\r\n            .by(0.4, { position: cc.v2(0, -850) })\r\n            .call(() => {\r\n                this._Ske.playAnimation(\"ani_in\", 1);\r\n                this._Ske.on(dragonBones.EventObject.LOOP_COMPLETE, () => {\r\n                    this._Ske.off(dragonBones.EventObject.LOOP_COMPLETE);\r\n\r\n                    this._Ske.playAnimation(\"ani_idle\", 0);\r\n                }, this)\r\n\r\n                this.man.playAnimation(\"lose01\", 1)\r\n                this.man.on(dragonBones.EventObject.LOOP_COMPLETE, () => {\r\n                    this.man.off(dragonBones.EventObject.LOOP_COMPLETE);\r\n                    this.man.playAnimation(\"lose02\", 0);\r\n                }, this)\r\n                cocosz.scheduleOnce(() => {\r\n                    this.btnAgain.active = true;\r\n                    this.btnAgain.opacity = 0;\r\n                    cc.tween(this.btnAgain)\r\n                        .to(0.3, { opacity: 255 })\r\n                        .start();\r\n                }, 0.4)\r\n            })\r\n            .start()\r\n        // this.scaleNode.scale = 0;\r\n\r\n        // cc.tween(this.scaleNode)\r\n        //     .to(0.2, { scale: 1.5 })\r\n        //     .start()\r\n\r\n\r\n        // cocosz.gameMgr.tweeBtn(this.btnSkip, 1.05, 1);\r\n        // let num = Math.floor(Math.random() * 4);\r\n        // this.randomNum(num);\r\n        // cocosz.dataMgr.LevelFaild(cocosz.dataMgr.CurLevelId);\r\n\r\n\r\n        // let coinNum = cocosz.gameMgr.bigCoin > 2 ? cocosz.gameMgr.bigCoin : 2;\r\n        // cocosz.dataMgr.CoinCount += coinNum * 10;\r\n        // this.coin.string = (coinNum * 10).toString();\r\n        cc.game.emit(Constant.E_UPDATE_COIN);\r\n        // this.scaleNode.getChildByName(\"a\").y = -cc.winSize.height / 3;\r\n    }\r\n\r\n    private randomNum(num: number) {\r\n        if (num <= 0 || num > 3) {\r\n            num = Math.floor(Math.random() * 4);\r\n            this.randomNum(num);\r\n        } else {\r\n            cocosz.dataMgr.setFaceNum(cocosz.dataMgr.CurLevelId, num);\r\n        }\r\n    }\r\n    protected onClose() {\r\n        cc.game.targetOff(this);\r\n    }\r\n\r\n    protected onDestroy() {\r\n        cc.game.targetOff(this);\r\n    }\r\n}\r\n"]}