{"version":3,"sources":["assets\\script\\Ui\\UiShop.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIPage from \"./UIPage\";\r\nimport { cocosz } from \"../Framework/CocosZ\";\r\nimport Constant, { PageName, PanelName, FloorType } from \"../Framework/Constant\";\r\nimport Msg from \"../Framework/Msg\";\r\nimport { truncateSync } from \"fs\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UiShop extends UIPage {\r\n\r\n    private back_btn: cc.Node = null;\r\n    private prop_btn: cc.Node = null;\r\n    private role_btn: cc.Node = null;\r\n    private buy_btn: cc.Node = null;\r\n    private ballbon_btn: cc.Node = null;\r\n    private getCoin_btn: cc.Node = null;\r\n    private role: cc.Node = null;\r\n    private prop: cc.Node = null;\r\n    private isRolePage: boolean = true;\r\n\r\n    // private prop_telescope_buy: cc.Node = null;\r\n    private prop_shield_buy: cc.Node = null;\r\n    private prop_video: cc.Node = null;\r\n\r\n\r\n    // private prop_telescope_num: cc.Label = null;\r\n    private prop_shield_num: cc.Label = null;\r\n    private scaleNode: cc.Node = null;\r\n\r\n\r\n    private propScroll: cc.Node = null;\r\n    private roleScroll: cc.Node = null;\r\n    private ballbonScroll: cc.Node = null;\r\n    private information: cc.Node = null;\r\n\r\n\r\n    private coinLabel: cc.Label = null;\r\n\r\n    curSkinID: number = 0;\r\n\r\n    curBalloonSkinID: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        let Game: cc.Prefab = cocosz.resMgr.getRes(PanelName.UiShop, cc.Prefab);\r\n        if (Game) {\r\n            let node: cc.Node = cc.instantiate(Game);\r\n            if (node) {\r\n                this._page = node;\r\n                cc.find(\"Canvas/ui\").addChild(node);\r\n                node.active = true;\r\n                node.position = cc.Vec2.ZERO;\r\n                this._onLoad();\r\n            }\r\n        }\r\n    }\r\n    private _onLoad() {\r\n        this.back_btn = cc.find(\"Canvas/ui/UiShop/ScaleNode/btn_back\");\r\n        this.prop_btn = cc.find(\"Canvas/ui/UiShop/ScaleNode/shop_btn_prop\");\r\n\r\n        this.role_btn = cc.find(\"Canvas/ui/UiShop/ScaleNode/shop_btn_cloth\");\r\n\r\n        this.ballbon_btn = cc.find(\"Canvas/ui/UiShop/ScaleNode/shop_btn_ballbon\");\r\n\r\n        this.buy_btn = cc.find(\"Canvas/ui/UiShop/ScaleNode/btn_buy\");\r\n        this.getCoin_btn = cc.find(\"Canvas/ui/UiShop/ScaleNode/btn_video\");\r\n\r\n        this.scaleNode = cc.find(\"Canvas/ui/UiShop/ScaleNode\");\r\n        this.coinLabel = cc.find(\"Canvas/ui/UiShop/ScaleNode/Coin/num\").getComponent(cc.Label);\r\n        // this.role = cc.find(\"Canvas/ui/UiShop/ScaleNode/role\");\r\n        this.information = cc.find(\"Canvas/ui/UiShop/ScaleNode/information\");\r\n\r\n        // this.prop_shield_buy = cc.find(\"Canvas/ui/UiShop/ScaleNode/prop/shield/btn_buy\");\r\n        // this.prop_shield_num = cc.find(\"Canvas/ui/UiShop/ScaleNode/prop/shield/num\").getComponent(cc.Label);\r\n        // this.prop_video = cc.find(\"Canvas/ui/UiShop/ScaleNode/prop/btn\");\r\n        this.roleScroll = this.role_btn.getChildByName(\"shop_btn_select_cloth\").getChildByName(\"ScrollView\").getChildByName(\"view\").getChildByName(\"content\");\r\n        // this.propScroll = this.prop_btn.getChildByName(\"shop_btn_select__prop\").getChildByName(\"ScrollView\").getChildByName(\"view\").getChildByName(\"content\");\r\n        this.ballbonScroll = this.ballbon_btn.getChildByName(\"shop_btn_select_ballboon\").getChildByName(\"ScrollView\").getChildByName(\"view\").getChildByName(\"content\");\r\n\r\n\r\n\r\n        this._Start();\r\n    }\r\n\r\n\r\n    private _Start() {\r\n        // this._initShop();\r\n        this.back_btn.on(cc.Node.EventType.TOUCH_START, () => {\r\n            this.onBack();\r\n        }, this);\r\n        this.prop_btn.on(cc.Node.EventType.TOUCH_START, () => {\r\n            this.onProp();\r\n        }, this);\r\n        this.role_btn.on(cc.Node.EventType.TOUCH_START, () => {\r\n            this.onRole();\r\n        }, this);\r\n        this.ballbon_btn.on(cc.Node.EventType.TOUCH_START, () => {\r\n            this.onBallbon();\r\n        }, this);\r\n\r\n        let btnBuy = this.information.getChildByName(\"btnBuySkin\");\r\n        let btnChange = this.information.getChildByName(\"btnChangeSkin\");\r\n\r\n        btnBuy.on(cc.Node.EventType.TOUCH_START, () => {\r\n            this.onBuySkin();\r\n        }, this);\r\n\r\n        btnChange.on(cc.Node.EventType.TOUCH_START, () => {\r\n            this.onChangeSkin();\r\n        }, this);\r\n\r\n\r\n        // this.buy_btn.on(cc.Node.EventType.TOUCH_START, () => {\r\n        //     this.onBuyRole();\r\n        // }, this);\r\n        // this.getCoin_btn.on(cc.Node.EventType.TOUCH_START, () => {\r\n        //     this.onGetCoinByVideo();\r\n        // }, this);\r\n        // this.prop_telescope_buy.on(cc.Node.EventType.TOUCH_START, () => {\r\n        //     this.onBuyTelescope();\r\n        // }, this);\r\n        // this.prop_shield_buy.on(cc.Node.EventType.TOUCH_START, () => {\r\n        //     this.onBuyShield();\r\n        // }, this);\r\n        // this.prop_video.on(cc.Node.EventType.TOUCH_START, () => {\r\n        //     this.onGetPropByVideo();\r\n        // }, this);\r\n\r\n\r\n\r\n        if ((cc.sys.platform === cc.sys.VIVO_GAME)) {\r\n            lieyou_SdkManager.showBannerByBottom();\r\n        }\r\n        else if (cc.sys.platform === cc.sys.OPPO_GAME) {\r\n            let sp = cocosz.resMgr.getRes(\"ss\", cc.SpriteFrame);\r\n            lieyou_SdkManager.hideBanner();\r\n            lieyou_SdkManager.showNativeAd_small({\r\n                node: this.scaleNode.getChildByName(\"nativePos\"), \"titleColor\": cc.color(255, 255, 255, 255,),\r\n                \"descColor\": cc.color(255, 255, 255, 255,), bgPath: 'texture/ss', texture: sp, scale: 0.9, insetTop: 10, insetBottom: 10, insetLeft: 10, insetRight: 10\r\n            });\r\n        }\r\n\r\n\r\n        this.coinLabel.string = cocosz.dataMgr.CoinCount + \"\";\r\n        cc.log(cocosz.dataMgr.CoinCount)\r\n        cocosz.schedule(() => {\r\n\r\n            this.coinLabel.string = cocosz.dataMgr.CoinCount + \"\";\r\n            // cc.log(this.roleScroll.x);\r\n\r\n            if (this.role_btn.getChildByName(\"shop_btn_select_cloth\").active == true) {\r\n                let num = Math.floor(Math.abs(this.roleScroll.x + 337.5 - 100) / 225);\r\n                // cc.log(num)\r\n                this.curSkinID = num;\r\n                let sp = this.information.getChildByName(\"role\").getChildByName(\"sp\");\r\n                sp.getComponent(cc.Sprite).spriteFrame = this.roleScroll.getChildByName(\"role\" + num).getComponent(cc.Sprite).spriteFrame;\r\n\r\n                sp.scale = 1;\r\n                let btnBuy = this.information.getChildByName(\"btnBuySkin\");\r\n                let btnChange = this.information.getChildByName(\"btnChangeSkin\");\r\n                let box = this.information.getChildByName(\"box\");\r\n                let using = this.information.getChildByName(\"using\");\r\n                let sprice = this.information.getChildByName(\"sprice\").getComponent(cc.Label);\r\n\r\n\r\n                let info = cocosz.dataMgr.getSkinInfo(num);\r\n\r\n                sprice.string = info.Price;\r\n\r\n                switch (info.State) {\r\n                    case 0: {\r\n                        sprice.node.active = true;\r\n                        using.active = false;\r\n                        box.active = true;\r\n                        btnChange.active = false;\r\n                        btnBuy.active = true;\r\n                        break;\r\n                    }\r\n                    case 1: {\r\n                        sprice.node.active = false;\r\n                        using.active = false;\r\n                        box.active = false;\r\n                        btnChange.active = true;\r\n                        btnBuy.active = false;\r\n                        break;\r\n                    }\r\n                    case 2: {\r\n                        sprice.node.active = false;\r\n                        using.active = true;\r\n                        box.active = false;\r\n                        btnChange.active = false;\r\n                        btnBuy.active = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                let num = Math.floor(Math.abs(this.ballbonScroll.x + 337.5 - 100) / 225);\r\n                this.curBalloonSkinID = num;\r\n\r\n                let sp = this.information.getChildByName(\"role\").getChildByName(\"sp\");\r\n\r\n                sp.getComponent(cc.Sprite).spriteFrame = this.ballbonScroll.getChildByName(\"balloon\" + (num + 1)).getComponent(cc.Sprite).spriteFrame;\r\n\r\n                sp.scale = 1.4;\r\n                let btnBuy = this.information.getChildByName(\"btnBuySkin\");\r\n                let btnChange = this.information.getChildByName(\"btnChangeSkin\");\r\n                let box = this.information.getChildByName(\"box\");\r\n                let using = this.information.getChildByName(\"using\");\r\n                let sprice = this.information.getChildByName(\"sprice\").getComponent(cc.Label);\r\n\r\n                let info = cocosz.dataMgr.getBallbonSkinInfo(num);\r\n\r\n                sprice.string = info.Price;\r\n\r\n                switch (info.State) {\r\n                    case 0: {\r\n                        sprice.node.active = true;\r\n                        using.active = false;\r\n                        box.active = true;\r\n                        btnChange.active = false;\r\n                        btnBuy.active = true;\r\n                        break;\r\n                    }\r\n                    case 1: {\r\n                        sprice.node.active = false;\r\n                        using.active = false;\r\n                        box.active = false;\r\n                        btnChange.active = true;\r\n                        btnBuy.active = false;\r\n                        break;\r\n                    }\r\n                    case 2: {\r\n                        sprice.node.active = false;\r\n                        using.active = true;\r\n                        box.active = false;\r\n                        btnChange.active = false;\r\n                        btnBuy.active = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n        }, 0.025)\r\n\r\n    }\r\n\r\n    private _initShop() {\r\n        this.onRole();\r\n\r\n        let prefab1 = cocosz.resMgr.getRes(\"ballbonItem\", cc.Prefab);\r\n        let prefab2 = cocosz.resMgr.getRes(\"roleItem\", cc.Prefab);\r\n        let prefab3 = cocosz.resMgr.getRes(\"propItem\", cc.Prefab);\r\n\r\n        this.ballbonScroll.removeAllChildren();\r\n        this.roleScroll.removeAllChildren();\r\n        for (let i = 0; i < 7; i++) {\r\n            let node = cc.instantiate(prefab1);\r\n            node.x = 100 + i * 200;\r\n            this.ballbonScroll.addChild(node);\r\n            node.getComponent(\"shopItem\").init(i);\r\n\r\n        }\r\n\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            let node = cc.instantiate(prefab2);\r\n            node.x = 100 + i * 200;\r\n            this.roleScroll.addChild(node);\r\n            node.getComponent(\"shopItem\").init(i);\r\n        }\r\n\r\n\r\n\r\n        for (let i = 0; i < 2; i++) {\r\n            let node = cc.instantiate(prefab3);\r\n            node.x = 100 + i * 200;\r\n            this.propScroll.addChild(node);\r\n            node.getComponent(\"propItem\").init(i);\r\n        }\r\n\r\n\r\n        // cc.log( this.ballbonScroll)\r\n        // this.role.active = true;\r\n        // this.prop.active = false;\r\n        // this.role_btn.getChildByName(\"btn_tab_1\").active = true;\r\n        // this.prop_btn.getChildByName(\"btn_tab_1\").active = false;\r\n        // this.role.removeAllChildren();\r\n        // for (let i = 0; i < 9; i++) {\r\n        //     let prefab = cocosz.resMgr.getRes(\"shopRole\", cc.Prefab);\r\n        //     let node = cc.instantiate(prefab);\r\n        //     this.role.addChild(node);\r\n        //     node.getComponent(\"shopRole\").onInit(i);\r\n        // }\r\n    }\r\n\r\n    onUpdatePropNum() {\r\n        // this.prop_telescope_num.string = cocosz.dataMgr.Telescope + \"\";\r\n        // this.prop_shield_num.string = cocosz.dataMgr.Shield + \"\";\r\n    }\r\n\r\n    onBuySkin() {\r\n        if (this.role_btn.getChildByName(\"shop_btn_select_cloth\").active == true) {\r\n            let info = cocosz.dataMgr.getSkinInfo(this.curSkinID);\r\n            let price = info.Price;\r\n            if (price > cocosz.dataMgr.CoinCount) {\r\n                this.onTips(\"金币不足\");\r\n                return;\r\n            }\r\n\r\n            cocosz.dataMgr.CoinCount -= price;\r\n            cocosz.dataMgr.CurSkinId = this.curSkinID;\r\n            this.onTips(\"购买皮肤成功\");\r\n\r\n        }\r\n        else {\r\n\r\n            let info = cocosz.dataMgr.getBallbonSkinInfo(this.curSkinID);\r\n            let price = info.Price;\r\n            if (price > cocosz.dataMgr.CoinCount) {\r\n                this.onTips(\"金币不足\");\r\n                return;\r\n            }\r\n\r\n            cocosz.dataMgr.CoinCount -= price;\r\n            cocosz.dataMgr.CurBallbonSkinId = this.curBalloonSkinID;\r\n            this.onTips(\"购买皮肤成功\");\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    onChangeSkin() {\r\n        if (this.role_btn.getChildByName(\"shop_btn_select_cloth\").active == true) {\r\n            let info = cocosz.dataMgr.getSkinInfo(this.curSkinID);\r\n            cocosz.dataMgr.CurSkinId = this.curSkinID;\r\n            this.onTips(\"更换皮肤成功\");\r\n        }\r\n        else {\r\n            let info = cocosz.dataMgr.getBallbonSkinInfo(this.curSkinID);\r\n            cocosz.dataMgr.CurBallbonSkinId = this.curBalloonSkinID;\r\n            this.onTips(\"更换皮肤成功\");\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private onBuyShield() {\r\n        if (cocosz.dataMgr.CoinCount >= 600) {\r\n            cocosz.dataMgr.CoinCount -= 600;\r\n            cocosz.dataMgr.Shield++;\r\n            Msg.Show(\"恭喜获得金钟罩\");\r\n            cc.game.emit(Constant.E_UPDATE_COIN);\r\n            this.onUpdatePropNum();\r\n        }\r\n        else {\r\n            Msg.Show(\"金币不足\");\r\n        }\r\n    }\r\n\r\n    private onGetPropByVideo() {\r\n        cocosz.audioMgr.playbtnEffect();\r\n        lieyou_SdkManager.showRewardedVideoAd((res) => {\r\n            cocosz.audioMgr.resumAllMusic();\r\n            if (res) {\r\n                cocosz.dataMgr.Shield++;\r\n                cc.game.emit(Constant.E_UPDATE_COIN);\r\n                this.onUpdatePropNum();\r\n                this.onTips(\"恭喜获得1个金钟罩\");\r\n            } else {\r\n                this.onTips(\"视频播放完成才能获取奖励\");\r\n            }\r\n        });\r\n    }\r\n\r\n    private onBuyTelescope() {\r\n        if (cocosz.dataMgr.CoinCount >= 800) {\r\n            cocosz.dataMgr.CoinCount -= 800;\r\n            cocosz.dataMgr.Telescope++;\r\n            Msg.Show(\"恭喜获得千里眼\");\r\n            cc.game.emit(Constant.E_UPDATE_COIN);\r\n            this.onUpdatePropNum();\r\n        }\r\n        else {\r\n            Msg.Show(\"金币不足\");\r\n        }\r\n    }\r\n\r\n\r\n    private onBuyRole() {\r\n        let info = cocosz.dataMgr.getSkinInfo(cocosz.gameMgr.curShopSkinID);\r\n        if (info.State == 1 || info.State == 2) {\r\n            Msg.Show(\"该皮肤已拥有\");\r\n        }\r\n        else if (cocosz.dataMgr.CoinCount >= info.Price && info.Price != -1 && info.Price != -999) {\r\n            cocosz.dataMgr.CoinCount -= info.Price;\r\n            cocosz.dataMgr.CurSkinId = cocosz.gameMgr.curShopSkinID;\r\n            Msg.Show(\"皮肤解锁成功\");\r\n\r\n            cc.game.emit(Constant.E_UPDATE_COIN);\r\n            cc.game.emit(Constant.E_UPDATE_SKIN);\r\n        }\r\n        else {\r\n            Msg.Show(\"金币不足\");\r\n        }\r\n    }\r\n    onTips(tips) {\r\n        Msg.Show(tips);\r\n    }\r\n    private onGetCoinByVideo() {\r\n\r\n        cocosz.audioMgr.playbtnEffect();\r\n        // Msg.Show(\"视频播放失败!\");\r\n\r\n        lieyou_SdkManager.showRewardedVideoAd((res) => {\r\n            cocosz.audioMgr.resumAllMusic();\r\n            if (res) {\r\n                cocosz.dataMgr.CoinCount += 200;\r\n                cc.game.emit(Constant.E_UPDATE_COIN);\r\n                this.onTips(\"恭喜获得200金币\");\r\n            } else {\r\n                this.onTips(\"视频播放完成才能获取奖励\");\r\n            }\r\n        });\r\n\r\n    }\r\n    private onRole() {\r\n        // this.role.active = true;\r\n        this.role_btn.getChildByName(\"shop_btn_select_cloth\").active = true;\r\n        // this.prop.active = false;\r\n        this.ballbon_btn.getChildByName(\"shop_btn_select_ballboon\").active = false;\r\n        // this.prop.active = false;\r\n        this.prop_btn.getChildByName(\"shop_btn_select__prop\").active = false;\r\n\r\n        // this.buy_btn.active = true;\r\n        // this.getCoin_btn.active = true;\r\n\r\n    }\r\n\r\n    private onProp() {\r\n        // this.role.active = false;\r\n        this.role_btn.getChildByName(\"shop_btn_select_cloth\").active = false;\r\n        // this.prop.active = true;\r\n        this.ballbon_btn.getChildByName(\"shop_btn_select_ballboon\").active = false;\r\n        // this.prop.active = false;\r\n        this.prop_btn.getChildByName(\"shop_btn_select__prop\").active = true;\r\n\r\n    }\r\n    private onBallbon() {\r\n        // this.role.active = false;\r\n        this.role_btn.getChildByName(\"shop_btn_select_cloth\").active = false;\r\n        // this.prop.active = false;\r\n        this.ballbon_btn.getChildByName(\"shop_btn_select_ballboon\").active = true;\r\n        // this.prop.active = true;\r\n        this.prop_btn.getChildByName(\"shop_btn_select__prop\").active = false;\r\n\r\n    }\r\n\r\n\r\n    private onBack() {\r\n        cocosz.audioMgr.playbtnEffect();\r\n        cocosz.unscheduleAllCallbacks()\r\n        cc.tween(this.scaleNode)\r\n            .to(0.2, { scale: 0 })\r\n            .call(() => {\r\n                lieyou_SdkManager.showMoreGameByBanner();\r\n                this._page.destroy();\r\n            })\r\n            .start()\r\n    }\r\n    protected onOpen() {\r\n        this.onUpdatePropNum();\r\n        this.scaleNode.scale = 0;\r\n        cc.tween(this.scaleNode)\r\n            .to(0.2, { scale: 1 })\r\n            .start()\r\n\r\n\r\n        if ((cc.sys.platform === cc.sys.VIVO_GAME)) {\r\n            lieyou_SdkManager.showSpotByPause();\r\n        }\r\n        else if (cc.sys.platform === cc.sys.OPPO_GAME) {\r\n            this.scaleNode.y = 80;\r\n            let sp = cocosz.resMgr.getRes(\"ss\", cc.SpriteFrame)\r\n            lieyou_SdkManager.showNativeAd_small({\r\n                node: this.scaleNode.getChildByName(\"nativePos\"), \"titleColor\": cc.color(255, 255, 255, 255,),\r\n                \"descColor\": cc.color(255, 255, 255, 255,), bgPath: 'texture/ss', texture: sp, scale: 1, insetTop: 10, insetBottom: 10, insetLeft: 10, insetRight: 10\r\n            });\r\n        }\r\n        // cocosz.audioMgr.playHomeMusic();\r\n        // utils.hideTryGamesWidget();////*\r\n        // utils.hideMoreGamesWidget();\r\n        // utils.hideCreateShortcutWidget();\r\n        // utils.adManager.hideRewardInsert();\r\n        // utils.AdAgentCocosplay.hideInterstitialAd(); \r\n\r\n        // this.ScaleNode.scale = 0;\r\n        // cocosz.gameMgr.tweeNode(this.ScaleNode);\r\n    }\r\n\r\n    protected onClose() {\r\n        cc.game.targetOff(this);\r\n    }\r\n\r\n    protected onDestroy() {\r\n        cc.game.targetOff(this);\r\n    }\r\n}\r\n"]}