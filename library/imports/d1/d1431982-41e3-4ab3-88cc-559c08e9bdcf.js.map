{"version":3,"sources":["assets\\script\\Game\\limit3.ts"],"names":[],"mappings":";;;;;AACM,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAmC,yBAAY;IAD/C;QAAA,qEAiDC;QA9CG,SAAG,GAAW,CAAC,CAAC;QAChB,WAAK,GAAa,IAAI,CAAC;;IA6C3B,CAAC;IA5CG,wBAAwB;IAExB,sBAAM,GAAN;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IACxE,CAAC;IAED,qBAAK,GAAL;QACI,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,EAAE;YAC5B,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;SACjB;aACI,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,EAAE;YACjC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;SAClB;IAGL,CAAC;IAED,sBAAM,GAAN,UAAO,EAAE;QAEL,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE;YACd,sBAAsB;YACtB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;YACnD,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC;YACf,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE;gBACf,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;gBACxB,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;gBACtD,IAAI,KAAK,EAAE;oBACP,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;yBACV,EAAE,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC;yBACrC,KAAK,EAAE,CAAA;oBACZ,OAAO;iBACV;gBACD,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;gBACnD,IAAI,KAAK,EAAE;oBACP,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;yBACV,EAAE,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC;yBACrC,KAAK,EAAE,CAAA;oBACZ,OAAO;iBACV;aACJ;SACJ;IAEL,CAAC;IA9CgB,KAAK;QADzB,OAAO;OACa,KAAK,CAgDzB;IAAD,YAAC;CAhDD,AAgDC,CAhDkC,EAAE,CAAC,SAAS,GAgD9C;kBAhDoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class limit extends cc.Component {\r\n\r\n    num: number = 0;\r\n    label: cc.Label = null;\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.label = this.node.getChildByName(\"num\").getComponent(cc.Label);\r\n    }\r\n\r\n    start() {\r\n        if (this.node.name == \"limit3\") {\r\n            this.num = 20;\r\n        }\r\n        else if (this.node.name == \"limit4\") {\r\n            this.num = 100;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    update(dt) {\r\n\r\n        if (this.num > 0) {\r\n            // cc.log(this.label);\r\n            this.label.string = Math.ceil(this.num).toString();\r\n            this.num -= dt;\r\n            if (this.num <= 0) {\r\n                this.label.string = \"0\";\r\n                let floor = this.node.parent.getChildByName(\"floor5\");\r\n                if (floor) {\r\n                    cc.tween(floor)\r\n                        .by(0.5, { position: cc.v2(-130, 0) })\r\n                        .start()\r\n                    return;\r\n                }\r\n                floor = this.node.parent.getChildByName(\"floor22\");\r\n                if (floor) {\r\n                    cc.tween(floor)\r\n                        .by(0.5, { position: cc.v2(-130, 0) })\r\n                        .start()\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n"]}