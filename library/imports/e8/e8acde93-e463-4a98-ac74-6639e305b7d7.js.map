{"version":3,"sources":["assets\\resources\\SDK\\scripts\\lieyou_webManager.js"],"names":["window","lieyou_cpp_Calljs_setMusic","Play","cc","game","resume","pause","lieyou_webManager","Class","require","properties","payCallBack","playVDCallBack","getHaveVideo","isOpen","KEY_OPEN_VIDEO","lieyou_showLog","getSysPlatform_string","getSysPlatform","setOnlineData","data","web","adData","theme","crossSwitch","bizData","ad_datas","setAdData","getStringValue","key","GamePlay","init","obj","cancelCocos","_super","base_IsShenHe","KEY_IS_SHENHE","initOnlineData","vibrateShort","vibrateCustom","vibrateLong","time","Vibrate","showNativeBanner","top","showNativeView","hideNativeBanner","closeNativeView","showPauseAd","isHaveNative","showResultAd","showSpotByBegin","showSpotByPause","showSpotByFinish","callPay","action","funS","callAndroid","callAndroid_2","ss","getValue2","parseInt","isOpenInt","showRewardedVideoAd","id","callBack","ACTION_AD_WATCH","showBannerCustom","showBanner","showBannerByBottom","showBannerByTop","_showBanner","ACTION_BANNER_SHOW","hideBanner","ACTION_BANNER_HIDE","showRate","ACTION_RATE","newJumpApp","success","umid","oppoGetOnlineDataId","startWeb","JSON","stringify","showNativeHideBanner","node","showM","moreGameBanner","isValid","showB","baseNodejs","addComponent","enableCallBack","lieyou_SdkManager","destroyCallBack","showMoreGameByBanner","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nwindow.lieyou_cpp_Calljs_setMusic = function(Play){\r\n    if(Play){\r\n        cc.game.resume();\r\n    }else{\r\n        cc.game.pause();\r\n    }\r\n}\r\nlet lieyou_webManager = cc.Class({\r\n\textends: require('BaseManager'),\r\n\tproperties:{\r\n        payCallBack:null,\r\n        playVDCallBack:null,\r\n    },\r\n    getHaveVideo(){\r\n        if(this.isOpen(KEY_OPEN_VIDEO)){\r\n            lieyou_showLog(\"h5-可以看视频\");\r\n            return true;\r\n        }\r\n        lieyou_showLog(\"h5-不能看视频\");\r\n        return false;\r\n    },\r\n    getSysPlatform_string(){\r\n\t\treturn 'web';\r\n    },\r\n    getSysPlatform(){\r\n\t\treturn 14;\r\n\t},\r\n    setOnlineData(data){\r\n        if(data.web){\r\n            var adData = {};\r\n            if(data.web.theme){\r\n                adData.theme = data.web.theme;\r\n            }\r\n            if(data.web.crossSwitch){\r\n                adData.crossSwitch = data.web.crossSwitch;\r\n            }\r\n            if(data.web.bizData){\r\n                adData.bizData = data.web.bizData;\r\n            }\r\n            if(data.web.ad_datas){\r\n                adData.ad_datas = data.web.ad_datas;\r\n                // GamePlay.setGamePortalData(JSON.stringify(data.web.ad_datas));\r\n            }\r\n            if(data.web.switch){\r\n                adData.switch = data.web.switch;\r\n            }\r\n            this.setAdData(adData);\r\n        }\r\n    },\r\n    getStringValue(key){\r\n        return GamePlay.getStringValue(key);\r\n    },\r\n    \r\n    init: function(obj){\r\n        lieyou_showLog(\"h5-初始化\");\r\n        GamePlay.cancelCocos();\r\n        this._super();\r\n        this.base_IsShenHe = this.isOpen(KEY_IS_SHENHE);\r\n        // var source = GamePlay.getSource();\r\n        this.initOnlineData();\r\n    },\r\n    vibrateShort(){\r\n        this.vibrateCustom(30);\r\n    },\r\n    vibrateLong(){\r\n        this.vibrateCustom(100);\r\n    },\r\n    vibrateCustom(time){\r\n        lieyou_showLog(\"h5-震动:\"+time);\r\n        GamePlay.Vibrate(time);\r\n    },\r\n    \r\n    \r\n    showNativeBanner(top){\r\n        GamePlay.showNativeView(top);\r\n    },\r\n    hideNativeBanner(){\r\n        GamePlay.closeNativeView();\r\n    },\r\n    showPauseAd(isHaveNative,top){\r\n        GamePlay.showPauseAd(isHaveNative,top);\r\n    },\r\n    showResultAd(isHaveNative,top){\r\n        GamePlay.showResultAd(isHaveNative,top);\r\n    },\r\n    showSpotByBegin(isHaveNative,top){\r\n    },\r\n    showSpotByPause(isHaveNative,top){\r\n        lieyou_showLog(\"h5-暂停插屏\");\r\n        this.showPauseAd(isHaveNative,top);\r\n    },\r\n    showSpotByFinish(isHaveNative,top){\r\n        lieyou_showLog(\"h5-结束插屏\");\r\n        this.showResultAd(isHaveNative,top);\r\n    },\r\n    callPay(action,funS){\r\n        this.payCallBack = funS;\r\n        GamePlay.callPay(action);\r\n    },\r\n    \r\n    callAndroid(action){\r\n        GamePlay.callAndroid(action);\r\n    },\r\n\r\n    callAndroid_2(action,funS){\r\n        this.playVDCallBack = funS;\r\n        GamePlay.callPay(action);\r\n    },\r\n    //是否可以显示 开关\r\n    isOpen(key){\r\n        var ss = 0;\r\n        ss = GamePlay.getValue2(key);\r\n        ss = parseInt(ss);\r\n        lieyou_showLog(\"h5-获取开关:\"+key+\":\"+ss);\r\n        if(ss == 1){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    },\r\n    isOpenInt(key){\r\n        var ss = 0;\r\n        ss = GamePlay.getValue2(key);\r\n        ss = parseInt(ss);\r\n        lieyou_showLog(\"h5-获取开关:\"+key+\":\"+ss);\r\n        return ss;\r\n    },\r\n\r\n    showRewardedVideoAd(id,callBack){\r\n        lieyou_showLog(\"h5-播放视频\");\r\n        this.callAndroid_2(ACTION_AD_WATCH,callBack);\r\n    },\r\n\r\n    showBannerCustom(obj){\r\n        this.showBanner();\r\n    },\r\n    showBannerByBottom(id){\r\n        this.showBanner();\r\n    },\r\n    showBannerByTop(id){\r\n        this.showBanner();\r\n    },\r\n    \r\n    showBanner(){\r\n        lieyou_showLog(\"h5-显示banner\");\r\n        if(this._showBanner){\r\n            return;\r\n        }\r\n        this._showBanner = true;\r\n        this.callAndroid(ACTION_BANNER_SHOW);\r\n    },\r\n    hideBanner(){\r\n        lieyou_showLog(\"h5-隐藏banner\");\r\n        this._showBanner = false;\r\n        this.callAndroid(ACTION_BANNER_HIDE);\r\n    },\r\n    \r\n    showRate(){\r\n        this.callAndroid(ACTION_RATE);\r\n    },\r\n    \r\n    newJumpApp(obj){\r\n        if(obj.success){\r\n            obj.success();\r\n        }\r\n        obj.umid = oppoGetOnlineDataId;\r\n        GamePlay.startWeb(JSON.stringify(obj.data));\r\n    },\r\n\r\n    showNativeHideBanner(node){\r\n        var showM = false;\r\n        if(this.moreGameBanner && this.moreGameBanner.isValid){\r\n            showM = true;\r\n        }\r\n        var showB = this._showBanner;\r\n        \r\n        var baseNodejs = node.addComponent('lieyou_baseNode');\r\n        baseNodejs.enableCallBack = ()=>{\r\n            lieyou_SdkManager.hideBanner();\r\n        }\r\n        baseNodejs.destroyCallBack = ()=>{\r\n            if(showB){\r\n                this.showBanner();\r\n            }else if(showM){\r\n                lieyou_SdkManager.showMoreGameByBanner();\r\n            }\r\n        }\r\n    }\r\n})\r\nmodule.exports = lieyou_webManager;\r\n\r\n\r\n\r\n\r\n"]}