{"version":3,"sources":["assets\\resources\\SDK\\scripts\\JinRiTouTiaoManager.js"],"names":["BaseManager","require","JinRiTouTiaoManager","cc","Class","properties","getHaveVideo","jinRiTouTiao_VideoId","getSysPlatform_string","getSysPlatform","getVersion","lieyou_ttGameVersion","vibrateShort","tt","vibrateLong","antidirt","self","setDataForHttp","serverUrl","jinRiTouTiao_AppId","jinRiTouTiao_AppKey","response","data","JSON","parse","lieyou_showLog","access_token","setOnlineData","sysShowPlayVdDialog","undefined","installShortcutIntervalTime","_installShortcutTime","Number","serverVersion","serverVersoin","base_IsShenHe","shareVideoTopics","closeShortcut","canShowShortcut","adData","theme","crossSwitch","bizData","ad_datas","shareVideoIntervalTime","_shareVideoIntervalTime","templateId","_shareVideoTemplateId","getSDKVersionCanUse","platformSys","setAdData","setSwitchData","initOnlineData","oppoGetOnlineDataId","lieyou_SdkManager","showToast","version","Userdefault","getIntForKey","time","sp","nowTime","getTime","getStringForKey","dataVersion","url","getLoginUrl","jsonD","server_data_version","setDataForKey","isMoreInfo","stringify","error","getSystemInfo","info","getSystemInfoSync","platformVersionCode","SDKVersion","platform","androidVersion","system","model","getNetworkType","success","res","networkType","getLaunchOptionsSync","query","console","log","shareId","setOperTrack","type","state","init","obj","stopCanShare","prototype","call","openShare","setShareData","_preShareVideoTime","setTimeout","loadRewardedViedoAd","wxData","shareUrl","shareData","login","code","fail","onShareAppMessage","adid","_title","_url","length","i","parseInt","Math","random","item","id","title","img","imageUrl","share","floor","shareAppMessage","hideBanner","bannerAd","hide","showBanner","moreGameBanner","isValid","destroy","jinRiTouTiao_BannerId","show","windowWidth","windowHeight","targetBannerAdWidth","scale","createBannerAd","adIntervals","adUnitId","style","width","onError","onResize","size","height","top","left","showBannerCustom","showBannerByTop","showBannerByBottom","videoAd","load","createRewardedVideoAd","videoCallBack","onLoad","onClose","isEnded","showRewardedVideoAdDialog","showRewardedVideoAd","closeCallBack","showSpot","jinRiTouTiao_SpotADId","showMoreGameGrid","installShortcut","isToutiaio","appName","interstitialAd","createInterstitialAd","then","err","showSpotByPause","showSpotByBegin","showSpotByFinish","beginLuPing","callBack","shareCallBack","recorderVD","start","duration","getGameRecorderManager","errMsg","onInterruptionBegin","onInterruptionEnd","onStop","luPingNode","getComponent","stop","videoPath","vdPath","shareVd","isClearPath","channel","extra","videoTopics","hashtag_list","e","search","pauseLuPing","pause","resumeLuPing","resume","stopLuPing","isShare","addLuPingBtn","fNode","node","find","lieyou_tt_liPingPrefab","x","y","setColor","color","setData","addChild","fun","xhr","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","newJumpApp","showMoreGamesModal","appLaunchOptions","str","split","str1","showShareVideoDialog","lieyou_getTime","director","getScene","lieyou_tt_ShareDialogPrefab","sdkWinSize","callFun","getScreenshot","nodeIamge","Node","canvas","game","toTempFilePath","destWidth","winSize","destHeight","loader","tempFilePath","addComponent","Sprite","spriteFrame","SpriteFrame","saveImageToPhotosAlbum","screenWidth","screenHeight","worPos_1","convertToWorldSpaceAR","v2","worPos_2","abs","filePath","_beginGameTime","_installShortcutStartTime","canShow","_upInstallShortcutTime","showFavoriteGuide","content","position","lieyou_Userdefault","getBoolForKey","setBoolForKey","showTTRewardedVideoAdDialog","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nconst BaseManager = require('BaseManager');\r\nlet JinRiTouTiaoManager = cc.Class({\r\n\textends: require('BaseManager'),\r\n\tproperties:{\r\n    },\r\n    getHaveVideo(){\r\n        if(jinRiTouTiao_VideoId != ''){\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    getSysPlatform_string(){\r\n\t\treturn 'tt';\r\n    },\r\n    getSysPlatform(){\r\n\t\treturn 8;\r\n\t},\r\n    getVersion(){\r\n        return lieyou_ttGameVersion;\r\n    },\r\n    vibrateShort(){\r\n        tt.vibrateShort();\r\n    },\r\n    vibrateLong(){\r\n        tt.vibrateLong();\r\n    },\r\n    antidirt(){\r\n        var self = this;\r\n        this.setDataForHttp(serverUrl+'token?ai='+jinRiTouTiao_AppId+'&sct='+jinRiTouTiao_AppKey+'&gt=client_credential',function(response){\r\n            var data = JSON.parse(response);\r\n            lieyou_showLog('------  jinritoutiao  ------ access_token = '+data);\r\n            self.setDataForHttp(serverUrl+'antidirt?at='+data.access_token);\r\n        });\r\n    },\r\n    \r\n    setOnlineData(data){\r\n        if(data.tt){\r\n            if(data.tt.sysShowPlayVdDialog!=undefined){\r\n                this.sysShowPlayVdDialog = data.tt.sysShowPlayVdDialog;\r\n            }\r\n            if(data.tt.installShortcutIntervalTime!=undefined){\r\n                this._installShortcutTime = Number(data.tt.installShortcutIntervalTime);\r\n            }\r\n            if(data.tt.serverVersion != undefined){\r\n                var serverVersoin = Number(data.tt.serverVersion);\r\n                if(serverVersoin >= lieyou_ttGameVersion) {\r\n                    this.base_IsShenHe = false;\r\n                }else{\r\n                    this.base_IsShenHe = true;\r\n                }\r\n            }\r\n            if(data.tt.shareVideoTopics){\r\n                this.shareVideoTopics = data.tt.shareVideoTopics;\r\n            }\r\n            if(!data.tt.closeShortcut){\r\n                this.canShowShortcut = true;\r\n            }\r\n            var adData = {};\r\n            if(data.tt.theme){\r\n                adData.theme = data.tt.theme;\r\n            }\r\n            if(data.tt.crossSwitch){\r\n                adData.crossSwitch = data.tt.crossSwitch;\r\n            }\r\n            if(data.tt.bizData){\r\n                adData.bizData = data.tt.bizData;\r\n            }\r\n            if(data.tt.ad_datas){\r\n                adData.ad_datas = data.tt.ad_datas;\r\n            }\r\n            if(data.tt.switch){\r\n                adData.switch = data.tt.switch;\r\n            }\r\n            if(data.tt.shareVideoIntervalTime){\r\n                this._shareVideoIntervalTime = Number(data.tt.shareVideoIntervalTime);\r\n            }\r\n            if(data.tt.templateId){\r\n                this._shareVideoTemplateId = data.tt.templateId;\r\n            }\r\n            \r\n            if(this.getSDKVersionCanUse('1.33.0') && this.platformSys != 'ios'){\r\n                this.setAdData(adData);\r\n            }\r\n            this.setSwitchData(data.tt);\r\n        }else{\r\n        }\r\n    },\r\n    initOnlineData(){\r\n        if(oppoGetOnlineDataId == ''){\r\n            lieyou_SdkManager.showToast('没有填写qgID');\r\n            return;\r\n        }\r\n        var self = this;\r\n        var version = Userdefault.getIntForKey('sdk_oppo_online_version',0);\r\n        var time = Userdefault.getIntForKey('sdk_oppo_online_time',0);\r\n        var sp = Userdefault.getIntForKey('sdk_oppo_online_sp',0);\r\n        var nowTime = getTime()/1000;\r\n        if(nowTime - time < sp && nowTime > time){\r\n            var response = Userdefault.getStringForKey('sdk_oppo_online_data','');\r\n            var data = JSON.parse(response);\r\n            self.setOnlineData(data);\r\n            return;\r\n        }\r\n        this.dataVersion = version;\r\n        var url = this.getLoginUrl();\r\n\t\tthis.setDataForHttp(url,function(response){\r\n\t\t\tif(response == \"\") {\r\n\t\t\t\treturn;\r\n            }\r\n            try {\r\n                var jsonD = JSON.parse(response);\r\n                if(jsonD.server_data_version){\r\n                    Userdefault.setDataForKey('sdk_oppo_online_version',jsonD.server_data_version);\r\n                }\r\n                if(jsonD.isMoreInfo != undefined){\r\n                    self.isMoreInfo = jsonD.isMoreInfo;\r\n                }\r\n                if(jsonD.sp){\r\n                    Userdefault.setDataForKey('sdk_oppo_online_sp',jsonD.sp);\r\n                }\r\n                Userdefault.setDataForKey('sdk_oppo_online_time',nowTime);\r\n                \r\n                if(jsonD.server_data_version == version){\r\n                    var response = Userdefault.getStringForKey('sdk_oppo_online_data','');\r\n                    var data = JSON.parse(response);\r\n                    self.setOnlineData(data);\r\n                    return;\r\n                }\r\n                var data = JSON.parse(response).data;\r\n                if(!data){\r\n                    return;\r\n                }\r\n                self.setOnlineData(data);\r\n                Userdefault.setDataForKey('sdk_oppo_online_data',JSON.stringify(data));\r\n\r\n            } catch (error) {\r\n                lieyou_showLog('------error  initOnlineData + ' + error);\r\n            }\r\n\t\t});\r\n    },\r\n    getSystemInfo(){\r\n        var info = tt.getSystemInfoSync();\r\n        this.platformVersionCode = info.SDKVersion;\r\n        this.platformSys = info.platform;\r\n        this.androidVersion = info.system;\r\n        this.model = info.model;\r\n        // openid = res.data.uid;\r\n        tt.getNetworkType({\r\n            success:(res)=>{\r\n                this.networkType = res.networkType;\r\n            }\r\n        });\r\n    },\r\n    getLaunchOptionsSync(){\r\n        let data = tt.getLaunchOptionsSync();\r\n        if(data.query){\r\n            console.log(\"lieyou----------res:\"+JSON.stringify(data.query));\r\n            if(data.query.shareId){\r\n                console.log(\"lieyou----------id:\"+data.query.shareId);\r\n                // lieyou_SdkManager.showToast(data.query.shareId);\r\n                // lieyou_SdkManager.setadtrack(data.query.shareId,-100);\r\n                lieyou_SdkManager.setOperTrack({type:2,state:1,shareId:data.query.shareId});\r\n            }\r\n        }\r\n    },\r\n    init: function(obj){\r\n        this.getLaunchOptionsSync();\r\n        this.shareVideoTopics = [];\r\n        this.getSystemInfo();\r\n        this.stopCanShare = true;\r\n        // this._super(obj);\r\n        BaseManager.prototype.init.call(this,obj);\r\n        var self = this;\r\n        this.openShare();\r\n        this.setShareData();\r\n        // tt.getGameRecorderManager()\r\n        this._shareVideoTemplateId = [];\r\n        this._preShareVideoTime = 0;\r\n        this._shareVideoIntervalTime = 30;\r\n        this.sysShowPlayVdDialog = true;\r\n        setTimeout(() => {\r\n            this.initOnlineData();    \r\n        }, 1000);\r\n        this.loadRewardedViedoAd();\r\n    },\r\n    setShareData: function() {\r\n\t\t//获取分享数据\r\n\t\tthis.setDataForHttp(wxData.shareUrl,function(response){\r\n            wxData.shareData = JSON.parse(response);\r\n\t\t});\r\n\t},\r\n    login(){\r\n        tt.login({\r\n            success (res) {\r\n                lieyou_showLog(\"------  jinritoutiao  ------ login success\");\r\n                // res.code\r\n                self.setDataForHttp(serverUrl+'login?ai='+jinRiTouTiao_AppId+'&sct='+jinRiTouTiao_AppKey+'&code='+res.code);\r\n            },\r\n            fail (res) {\r\n                lieyou_showLog(\"------  jinritoutiao  ------ login fail \" + res);\r\n            }\r\n        });\r\n        this.antidirt();\r\n    },\r\n    openShare(){\r\n        tt.onShareAppMessage(function (res){\r\n            var adid = 0;\r\n            var _title = \"好玩的游戏，快来一起玩吧\";\r\n            var _url = \"https://res.igame58.com/wxxyx/commom/shareIcon.png\";\r\n            if(wxData.shareData.length > 0){\r\n                var i = parseInt(Math.random() * wxData.shareData.length);\r\n                var data = wxData.shareData[i].item;\r\n                var random = parseInt(Math.random() * data.length);\r\n                adid = data[random].id;\r\n                _title = data[random].title;\r\n                _url = data[random].img;\r\n            }\r\n            return {\r\n                query: \"shareId=\"+adid,\r\n                title: _title,\r\n                imageUrl: _url\r\n            }\r\n        });\r\n    },\r\n    share(obj){\r\n        let id = null;\r\n        if(this._shareVideoTemplateId.length > 0){\r\n            id = this._shareVideoTemplateId[Math.floor(Math.random()*this._shareVideoTemplateId.length)]\r\n        }\r\n        tt.shareAppMessage({\r\n            templateId:id,\r\n        });\r\n    },\r\n    hideBanner(){\r\n        if(this.bannerAd){\r\n            this.bannerAd.hide();\r\n            // this.bannerAd = null;\r\n        }\r\n    },\r\n    showBanner(obj){\r\n        if(this.moreGameBanner && this.moreGameBanner.isValid){\r\n            this.moreGameBanner.destroy();\r\n            this.moreGameBanner = null;\r\n        }\r\n        if(jinRiTouTiao_BannerId == '') {\r\n            return;\r\n        }\r\n        var self = this;\r\n        if(this.bannerAd){\r\n            this.bannerAd.show();\r\n            return;\r\n        }\r\n        try {\r\n            const { windowWidth, windowHeight } = tt.getSystemInfoSync();\r\n            var targetBannerAdWidth = 200;\r\n            if(obj && obj.scale){\r\n                targetBannerAdWidth = targetBannerAdWidth*obj.scale;\r\n            }\r\n            this.bannerAd = tt.createBannerAd({\r\n                adIntervals:30,\r\n                adUnitId: jinRiTouTiao_BannerId,\r\n                style: {\r\n                    width: targetBannerAdWidth,\r\n                },\r\n            });\r\n            this.bannerAd.show(); \r\n            this.bannerAd.onError((res) =>{\r\n                lieyou_showLog('------  jinritoutiao  ------ banner load error' + JSON.stringify(res));\r\n            })\r\n            this.bannerAd.onResize(size => {\r\n                console.log('onsize ' + size.height + '  ' + size.width);\r\n                self.bannerAd.style.top = windowHeight - size.height;\r\n                self.bannerAd.style.left = (windowWidth - size.width) / 2;\r\n            });\r\n        } catch (error) {\r\n            lieyou_showLog('------  jinritoutiao  ------ banner load error2' + JSON.stringify(error));\r\n        }\r\n        \r\n    },\r\n    showBannerCustom(obj){\r\n        this.showBanner(obj);\r\n    },\r\n    showBannerByTop(id){\r\n        this.showBanner({});\r\n    },\r\n    showBannerByBottom(id){\r\n        this.showBanner({});\r\n    },\r\n    loadRewardedViedoAd(){\r\n        if(jinRiTouTiao_VideoId == '') {\r\n            return;\r\n        }\r\n        if (this.videoAd) {\r\n            this.videoAd.load();\r\n            return;\r\n        }\r\n        try {\r\n            this.videoAd = tt.createRewardedVideoAd({\r\n                adUnitId:jinRiTouTiao_VideoId,\r\n            });\r\n            this.videoAd.load();\r\n            this.videoAd.onError((res) =>{\r\n                lieyou_showLog('------  jinritoutiao  ------ vd load error' + JSON.stringify(res));\r\n                this.videoCallBack&&this.videoCallBack(false);\r\n            })\r\n            this.videoAd.onLoad(() => {\r\n                lieyou_showLog('jinritoutiao------ vd success');\r\n            });\r\n            this.videoAd.onClose(res => {\r\n                if (res.isEnded) {\r\n                    lieyou_showLog('------  jinritoutiao  ------ vd play success');\r\n                    this.videoCallBack&&this.videoCallBack(true);\r\n                }else{\r\n                    lieyou_showLog('------  jinritoutiao  ------ vd play fail');\r\n                    this.videoCallBack&&this.videoCallBack(false);\r\n                    this.showRewardedVideoAdDialog();\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.log(\"lieyou------\"+JSON.stringify(error));\r\n        }\r\n    },\r\n    showRewardedVideoAd(id,closeCallBack){\r\n        if(closeCallBack)\r\n            this.videoCallBack = closeCallBack;\r\n        this.videoAd&&this.videoAd.show();\r\n        this.loadRewardedViedoAd();\r\n    },\r\n    showSpot(){\r\n        lieyou_showLog('------  jinritoutiao  ------ show spot');\r\n        if(jinRiTouTiao_SpotADId == \"\"){\r\n            lieyou_SdkManager.showMoreGameGrid();\r\n            this.installShortcut();\r\n            return;\r\n        }\r\n        try {\r\n            const isToutiaio = tt.getSystemInfoSync().appName === \"Toutiao\";\r\n            // 插屏广告仅今日头条安卓客户端支持\r\n            if (isToutiaio || 1) {\r\n                lieyou_showLog('------  jinritoutiao  ------ show spot is toutiao');\r\n                var interstitialAd = tt.createInterstitialAd({\r\n                    adUnitId: jinRiTouTiao_SpotADId\r\n                });\r\n                interstitialAd.load().then(() => {\r\n                    lieyou_showLog('------  jinritoutiao  ------ spot load success');\r\n                    interstitialAd.show();\r\n                }).catch((err) => {\r\n                    lieyou_SdkManager.showMoreGameGrid();\r\n                    this.installShortcut();\r\n                    interstitialAd.destroy();\r\n                    lieyou_showLog('------  jinritoutiao  ------ spot load error' + JSON.stringify(err));\r\n                });\r\n                interstitialAd.onClose(()=>{\r\n                    interstitialAd.destroy();\r\n                    lieyou_showLog('------  jinritoutiao  ------ spot close');\r\n                });\r\n            }\r\n        } catch (error) {\r\n            lieyou_showLog('------  jinritoutiao  ------ spot load error2' + JSON.stringify(error));\r\n        }\r\n    },\r\n    showSpotByPause(){\r\n        this.showSpot();\r\n    },\r\n    showSpotByBegin(){\r\n        this.showSpot();\r\n    },\r\n    showSpotByFinish(){\r\n        this.showSpot();\r\n    },\r\n    beginLuPing(time,callBack){//time >= 3 <= 120\r\n        this.stopCanShare = true;\r\n        this.shareCallBack = callBack;\r\n        var self = this;\r\n        if (this.recorderVD) {\r\n            this.recorderVD.start({ duration: time });\r\n            return;\r\n        }\r\n        this.recorderVD = tt.getGameRecorderManager();\r\n        this.recorderVD.start({\r\n            duration:time\r\n        });\r\n        this.recorderVD.onError(function(err){\r\n            lieyou_showLog('------  jinritoutiao  ------ luping fail  '+err.errMsg);\r\n        });\r\n        this.recorderVD.onInterruptionBegin(function(){\r\n            lieyou_showLog('------  jinritoutiao  ------ begin luping   ');\r\n        });\r\n        this.recorderVD.onInterruptionEnd(function(){\r\n            lieyou_showLog('------  jinritoutiao  ------ end luping   ');\r\n        });\r\n\r\n        this.recorderVD.onStop(res =>{\r\n            if(this.luPingNode && this.luPingNode.isValid){\r\n                this.luPingNode.getComponent('lieyou_tt_luPing').stop();\r\n            }\r\n            try {\r\n                lieyou_showLog('------  jinritoutiao  ------ mp4 path   '+res.videoPath + '   ' +this.stopCanShare);\r\n                self.vdPath = res.videoPath;\r\n                if(this.stopCanShare){\r\n                    // self.shareVd(self.shareCallBack,false);\r\n                }\r\n            } catch (error) {\r\n                \r\n            }\r\n           \r\n        })\r\n    },\r\n    shareVd(callBack,isClearPath = true){\r\n        var self = this;\r\n        if(this.vdPath && this.vdPath != ''){\r\n            let id = null;\r\n            if(this._shareVideoTemplateId.length > 0){\r\n                id = this._shareVideoTemplateId[Math.floor(Math.random()*this._shareVideoTemplateId.length)]\r\n            }\r\n            tt.shareAppMessage({\r\n                query: \"shareId=\"+id,\r\n                templateId:id,\r\n                channel: \"video\",\r\n                extra: {\r\n                  videoPath: this.vdPath, // 可替换成录屏得到的视频地址\r\n                  videoTopics: this.shareVideoTopics,\r\n                  hashtag_list: this.shareVideoTopics\r\n                },\r\n                success() {\r\n                    if(callBack){\r\n                        self.vdPath = '';\r\n                        callBack(1);\r\n                    }\r\n                    lieyou_showLog('------  jinritoutiao  ------ share vd success');\r\n                },\r\n                fail (e) {\r\n                    if(e.errMsg.search('short') != -1){\r\n                        // self.vdPath = '';\r\n                        callBack(2);\r\n                    }else if(callBack){\r\n                        callBack(0);\r\n                    }\r\n                    lieyou_showLog('------  jinritoutiao  ------ share vd fail ' + JSON.stringify(e));\r\n                }\r\n              });\r\n            // tt.shareVideo({\r\n            //     videoPath:this.vdPath,\r\n            //     success () {\r\n            //         if(callBack){\r\n            //             self.vdPath = '';\r\n            //             callBack(1);\r\n            //         }\r\n            //         lieyou_showLog('------  jinritoutiao  ------ share vd success');\r\n            //     },\r\n            //     fail (e) {\r\n            //         if(e.errMsg.search('short') != -1){\r\n            //             // self.vdPath = '';\r\n            //             callBack(2);\r\n            //         }else if(callBack){\r\n            //             callBack(0);\r\n            //         }\r\n            //         lieyou_showLog('------  jinritoutiao  ------ share vd fail ' + JSON.stringify(e));\r\n            //     }\r\n            // });\r\n        }else{\r\n            lieyou_showLog('------  jinritoutiao  ------ share no vd');\r\n            if(callBack){\r\n                callBack(3);\r\n            }\r\n        }\r\n    },\r\n    pauseLuPing(){\r\n        tt.getGameRecorderManager().pause();\r\n    },\r\n    resumeLuPing(){\r\n        tt.getGameRecorderManager().resume();\r\n    },\r\n    stopLuPing(isShare){\r\n        \r\n        this.stopCanShare = isShare;\r\n        try {\r\n            tt.getGameRecorderManager().stop();\r\n        } catch (error) {\r\n            \r\n        }\r\n        \r\n    },\r\n\r\n    addLuPingBtn(obj){\r\n        var self = this;\r\n        var fNode = obj.node?obj.node:cc.find('Canvas');\r\n        \r\n        var node = lieyou_tt_liPingPrefab(); \r\n        self.luPingNode = node;\r\n        node.x = obj.x?obj.x:0;\r\n        node.y = obj.y?obj.y:0;\r\n        node.getComponent('lieyou_tt_luPing').setColor(obj.color?obj.color:'black');\r\n        if(obj.callBack){\r\n            node.getComponent('lieyou_tt_luPing').setData(obj.callBack);\r\n        }\r\n        fNode.addChild(node);  \r\n    },\r\n\r\n    \r\n    \r\n\r\n    setDataForHttp: function(url,fun){\r\n\t\t//提交数据到服务器 无返回值 \r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.onreadystatechange = function () {\r\n\t\t\tif (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\r\n\t\t\t\tvar response = xhr.responseText;\r\n\t\t\t\tif(response=='-1'){\r\n\t\t\t\t}\r\n\t\t\t\telse if(response=='-2'){\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(fun){\r\n\t\t\t\t\t\tfun(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\txhr.open(\"GET\", url, true);\r\n\t\txhr.send();\r\n    },\r\n    \r\n\r\n    newJumpApp(obj){\r\n        if(!this.getSDKVersionCanUse('1.33.0')){\r\n           return;\r\n        }\r\n        if(obj.success){\r\n            obj.success();\r\n        }\r\n        // 打开互跳弹窗\r\n        tt.showMoreGamesModal({\r\n            appLaunchOptions: [\r\n            ],\r\n            success(res) {\r\n                lieyou_showLog(\"toutiao---   success\", res.errMsg);\r\n            },\r\n            fail(res) {\r\n                lieyou_showLog(\"toutiao---   fail\", res.errMsg);\r\n            }\r\n        });\r\n    },\r\n\r\n    getSDKVersionCanUse: function(data){\r\n\t\tvar version = this.platformVersionCode;\r\n\t\tvar str = data.split(\".\");\r\n\t\tvar str1 = version.split(\".\");\r\n\t\tfor(var i = 0;i<3;i++) {\r\n\t\t\tif(parseInt(str1[i])<parseInt(str[i])) {   \r\n\t\t\t\treturn false;\r\n\t\t\t}else if(parseInt(str1[i])>parseInt(str[i])) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n        return true;\r\n    },\r\n    \r\n    showShareVideoDialog(callBack){\r\n        var time = lieyou_getTime()/1000;\r\n        if(time - this._preShareVideoTime < this._shareVideoIntervalTime){\r\n            callBack(4);\r\n            return;\r\n        }\r\n        this._preShareVideoTime = time;\r\n        var fNode = cc.director.getScene();\r\n        var node = lieyou_tt_ShareDialogPrefab();\r\n        fNode.addChild(node);\r\n        node.x = lieyou_SdkManager.sdkWinSize.width/2;\r\n        node.y = lieyou_SdkManager.sdkWinSize.height/2;\r\n        node.callFun = callBack;\r\n    },\r\n    getScreenshot(){\r\n        let nodeIamge = new cc.Node();\r\n        let canvas = cc.game.canvas;\r\n        let width = canvas.width;\r\n        let height = canvas.height;\r\n        canvas.toTempFilePath({\r\n            x: 0,\r\n            y: 0,\r\n            width: width,\r\n            height: height,\r\n            destWidth: cc.winSize.width,\r\n            destHeight: cc.winSize.height,\r\n            success: (res) => {\r\n                cc.loader.load(res.tempFilePath,(err,res)=>{\r\n                    if(res){\r\n                        nodeIamge.addComponent(cc.Sprite)\r\n                        nodeIamge.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(res);\r\n                    }\r\n                });\r\n            },\r\n          });\r\n        \r\n\t\treturn nodeIamge;\r\n    },\r\n    saveImageToPhotosAlbum(obj = {}){\r\n        let canvas = cc.game.canvas;\r\n        let screenWidth = canvas.width;//screenWidth\r\n        let screenHeight = canvas.height;//tt.getSystemInfoSync().screenHeight\r\n        let winSize = cc.winSize;\r\n        let node = obj.node;\r\n        let worPos_1 = node.convertToWorldSpaceAR(cc.v2(-node.width/2, node.height/2));\r\n        let worPos_2 = node.convertToWorldSpaceAR(cc.v2(node.width/2, -node.height/2));\r\n        let x = worPos_1.x/winSize.width*screenWidth;\r\n        let y = (1-worPos_1.y/winSize.height)*screenHeight;\r\n        let width = Math.abs(worPos_1.x-worPos_2.x)/winSize.width*screenWidth;\r\n        let height = Math.abs(worPos_1.y-worPos_2.y)/winSize.height*screenHeight;\r\n        canvas.toTempFilePath({\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height,\r\n            destWidth: width,\r\n            destHeight: height,\r\n            success: (res) => {\r\n              console.log(res.tempFilePath);\r\n              tt.saveImageToPhotosAlbum({\r\n                filePath: res.tempFilePath,\r\n                success(res) {\r\n                  lieyou_SdkManager.showToast(\"保存成功\");\r\n                },\r\n                fail(res) {\r\n                    lieyou_SdkManager.showToast(\"保存失败\");\r\n                },\r\n              });\r\n            },\r\n          });\r\n    },\r\n    installShortcut(obj={}){\r\n        lieyou_showLog(' installShortcut canShowShortcut ');\r\n        var time = parseInt(getTime()/1000);\r\n        if(time - this._beginGameTime < this._installShortcutStartTime && !obj.canShow){\r\n            lieyou_showLog(' installShortcut canShowShortcut 开始时间未到 '+this._installShortcutStartTime);\r\n            return;\r\n        }\r\n        if(time - this._upInstallShortcutTime < this._installShortcutTime && !obj.canShow){\r\n            lieyou_showLog(' installShortcut canShowShortcut 间隔时间未到 '+this._installShortcutTime);\r\n            return;\r\n        }\r\n\r\n        this._upInstallShortcutTime = time;\r\n        tt.showFavoriteGuide({\r\n            type: \"bar\",\r\n            content: \"收藏小游戏，通关快人一步\",\r\n            position: \"bottom\",\r\n            success(res) {\r\n                lieyou_showLog(\"引导组件展示成功\");\r\n            },\r\n            fail(res) {\r\n                lieyou_showLog(\"引导组件展示失败\");\r\n            },\r\n        });\r\n    },\r\n\r\n    showRewardedVideoAdDialog(){\r\n        if(!this.sysShowPlayVdDialog || this.base_IsShenHe || lieyou_Userdefault.getBoolForKey(\"lieyou_already_tt_showVideoDialog\",false)){\r\n            this.videoCallBack&&this.videoCallBack(false);\r\n        }else{\r\n            lieyou_Userdefault.setBoolForKey(\"lieyou_already_tt_showVideoDialog\",true);\r\n            showTTRewardedVideoAdDialog();\r\n        }\r\n    }\r\n    \r\n})\r\nmodule.exports = JinRiTouTiaoManager;\r\n\r\n\r\n\r\n\r\n"]}