{"version":3,"sources":["assets\\script\\Game\\baffle.ts"],"names":[],"mappings":";;;;;AAEA,kDAAiE;AAC3D,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAoC,0BAAY;IAAhD;;IAyCA,CAAC;IAtCG,+BAAc,GAAd,UAAe,OAAO,EAAE,IAAI,EAAE,KAAK;QAC/B,uFAAuF;QACvF,qFAAqF;QACrF,wHAAwH;QACxH,4CAA4C;QAC5C,+BAA+B;QAC/B,IAAI;QACJ,IAAI,KAAK,CAAC,GAAG,IAAI,cAAG,CAAC,OAAO,EAAE;YAC1B,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;SAC3B;IACL,CAAC;IAGD,wBAAwB;IAExB,0BAAS,GAAT;QACI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,eAAe;IAEf,sBAAK,GAAL;QAAA,iBAcC;QAbG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,SAAS;YAAE,OAAO;QACxC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,kBAAQ,CAAC,WAAW,EAAE;YAC7B,IAAI,IAAI,GAAG,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YAC1E,6DAA6D;YAE7D,uEAAuE;YACvE,2LAA2L;YAC3L,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;YAC9C,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE;gBACxD,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACpB,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,CAAC;aAC3B;QACL,CAAC,EAAE,IAAI,CAAC,CAAA;IACZ,CAAC;IAtCgB,MAAM;QAD1B,OAAO;OACa,MAAM,CAyC1B;IAAD,aAAC;CAzCD,AAyCC,CAzCmC,EAAE,CAAC,SAAS,GAyC/C;kBAzCoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["import { threadId } from \"worker_threads\";\r\nimport { cocosz } from \"../Framework/CocosZ\";\r\nimport Constant, { tag, PanelName } from \"../Framework/Constant\";\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class baffle extends cc.Component {\r\n\r\n\r\n    onBeginContact(contact, self, other) {\r\n        // if (other.tag == tag.thorn || other.tag == tag.stone || other.tag == tag.honeybee ||\r\n        //     other.tag == tag.carton || other.tag == tag.rain || other.tag == tag.stone3 ||\r\n        //     other.tag == tag.wooldenBox || other.tag == tag.wooldenBox2 ||other.tag == tag.balloon2||other.tag == tag.rope ||\r\n        //     other.tag == 777 || other.tag == 0) {\r\n        //     contact.disabled = true;\r\n        // }\r\n        if (other.tag != tag.balloon) {\r\n            contact.disabled = true;\r\n        }\r\n    }\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onDestroy() {\r\n        cc.game.targetOff(this);\r\n    }\r\n\r\n    // onLoad () {}\r\n\r\n    start() {\r\n        if (this.node.name == \"baffle2\") return;\r\n        cc.game.on(Constant.E_ROLE_MOVE, () => {\r\n            let role = this.node.parent.getChildByName(\"role\").getChildByName(\"body\");\r\n            // let pos2 = role.convertToWorldSpaceAR(role.getPosition());\r\n\r\n            // let pos = role.parent.convertToWorldSpaceAR(this.node.getPosition())\r\n            // cc.log(Math.abs(pos.y - this.node.y), \"this.node.y:\" + this.node.y, \"pos.y:\" + pos.y, \"pos2.y:\" + pos2.y, \"role.y:\" + role.y, \"--------Math.abs(role.getChildByName().y - this.node.y)\")\r\n            cc.log((role.y + role.parent.y) - this.node.y)\r\n            if (Math.abs((role.y + role.parent.y) - this.node.y) < 300) {\r\n                this.node.destroy();\r\n                cc.game.targetOff(this);\r\n            }\r\n        }, this)\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}