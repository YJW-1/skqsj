{"version":3,"sources":["assets\\script\\Ui\\UiGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIPage from \"./UIPage\";\r\nimport { cocosz } from \"../Framework/CocosZ\";\r\nimport Constant, { tag, PageName, PanelName, Direction } from \"../Framework/Constant\";\r\nimport Msg from \"../Framework/Msg\";\r\n// import { BannerLocation } from \"../common-plugin/Scripts/YZ_Constant\";\r\n// import { utils } from \"../common-plugin/Scripts/Utils\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\nexport let uiGame: UiGame = null;\r\n@ccclass\r\nexport default class UiGame extends UIPage {\r\n\r\n    private BtnPause: cc.Node = null;\r\n    private BtnSkip: cc.Node = null;\r\n    private BtnBoom: cc.Node = null;\r\n    private boom: cc.Node = null;\r\n    private LevelLabel: cc.Label = null;\r\n    private Win: cc.Node = null;\r\n    private man: cc.Node = null;\r\n    private Label: cc.Label = null;\r\n    public ProgressBar: cc.ProgressBar = null;\r\n    public Fraction: number = 1000;\r\n    public node: cc.Node = null;\r\n    public handTips: cc.Node = null;\r\n\r\n    public skinVideoCard: cc.Label = null;\r\n\r\n    action: any = null;\r\n\r\n    public boomNum: cc.Label = null;\r\n    public set fraction(number: number) {\r\n        // cc.log(\"--------fraction-\", number)\r\n        cocosz.gameMgr.game2Fraction = number;\r\n        this.Label.string = number.toString();\r\n    }\r\n\r\n\r\n    public get fraction() {\r\n        return cocosz.gameMgr.game2Fraction;\r\n    }\r\n\r\n    public isFaid: any = 0;\r\n\r\n    constructor() {\r\n        super();\r\n        uiGame = this;\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        let Game: cc.Prefab = cocosz.resMgr.getRes(PageName.UiGame, cc.Prefab);\r\n        if (Game) {\r\n            let node: cc.Node = cc.instantiate(Game);\r\n            if (node) {\r\n                this._page = node;\r\n                // if (cocosz.sceneMgr.sceneName == \"Game2\") {\r\n                cc.find(\"Canvas/ui\").addChild(node);\r\n                // }\r\n                // else {\r\n                //     cc.find(\"Canvas\").addChild(node);\r\n                // }\r\n                node.active = false;\r\n                node.position = cc.Vec2.ZERO;\r\n                this._onLoad();\r\n            }\r\n        }\r\n    }\r\n\r\n    private _onLoad() {\r\n        cc.director.getScheduler().enableForTarget(this);\r\n        this.BtnPause = cc.find(\"Canvas/ui/UiGame/BtnPause\");\r\n        this.BtnSkip = cc.find(\"Canvas/ui/UiGame/BtnSkip\");\r\n        this.BtnBoom = cc.find(\"Canvas/ui/UiGame/BtnBoom\");\r\n        this.boom = cc.find(\"Canvas/ui/UiGame/boom\");\r\n        this.handTips = cc.find(\"Canvas/ui/UiGame/handTips\");\r\n        this.node = cc.find(\"Canvas/ui/UiGame\");\r\n        this.Label = cc.find(\"Canvas/ui/UiGame/Coin/num\").getComponent(cc.Label);\r\n        this.LevelLabel = cc.find(\"Canvas/ui/UiGame/BtnPause/level/num\").getComponent(cc.Label);\r\n        this.skinVideoCard = cc.find(\"Canvas/ui/UiGame/SkinVideoCard/num\").getComponent(cc.Label);\r\n\r\n        this.boomNum = cc.find(\"Canvas/ui/UiGame/BtnBoom/num\").getComponent(cc.Label);\r\n\r\n        // this.man=cc.find\"Canvas/ui/UiGame/BtnSkip\")\r\n        this._Start();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    private _Start() {\r\n        this.BtnPause.on(cc.Node.EventType.TOUCH_END, this._Pause, this);\r\n\r\n        this.BtnSkip.on(cc.Node.EventType.TOUCH_END, this._onBtnSkip, this);\r\n\r\n\r\n        this.BtnBoom.on(cc.Node.EventType.TOUCH_START, (touch) => {\r\n            this.boom.active = true;\r\n\r\n            let pp = touch.getLocation();\r\n\r\n            pp.y += 720 * cocosz.gameMgr.touchNum;\r\n\r\n            // pp = this.BtnBoom.parent.convertToWorldSpaceAR(pp)\r\n            const pos = this.BtnBoom.parent.convertToNodeSpaceAR(pp);\r\n            // cc.log(pp.x, pp.y)\r\n\r\n            this.boom.setPosition(pos);\r\n\r\n        }, this);\r\n\r\n        this.BtnBoom.on(cc.Node.EventType.TOUCH_MOVE, (touch) => {\r\n\r\n            let pp = touch.getLocation();\r\n            pp.y += 720 * cocosz.gameMgr.touchNum;\r\n            // pp = this.BtnBoom.parent.convertToWorldSpaceAR(pp)\r\n\r\n            const pos = this.BtnBoom.parent.convertToNodeSpaceAR(pp);\r\n            // cc.log(pp.x, pp.y)\r\n\r\n            this.boom.setPosition(pos);\r\n\r\n\r\n\r\n\r\n        }, this);\r\n\r\n        this.BtnBoom.on(cc.Node.EventType.TOUCH_END, () => {\r\n            this.boom.active = false;\r\n        }, this);\r\n\r\n\r\n        this.BtnBoom.on(cc.Node.EventType.TOUCH_CANCEL, () => {\r\n            if (this.BtnBoom.getChildByName(\"game_btn_noboom\").active == true) return;\r\n            let Prefab = cocosz.resMgr.getRes(\"boom\", cc.Prefab);\r\n            let node = cc.instantiate(Prefab);\r\n            node.setPosition(this.boom.getPosition());\r\n            this.boom.parent.addChild(node);\r\n            cc.log(node)\r\n            this.boom.active = false;\r\n\r\n            cocosz.dataMgr.BoomNum--;\r\n            cc.game.emit(Constant.E_UPDATE_COIN);\r\n\r\n\r\n\r\n            if (this.action) {\r\n                this.action.stop();\r\n                this.handTips.active = false;\r\n            }\r\n        }, this);\r\n\r\n\r\n\r\n\r\n        this.BtnBoom.getChildByName(\"game_btn_noboom\").on(cc.Node.EventType.TOUCH_START, () => {\r\n            cocosz.audioMgr.playbtnEffect();\r\n\r\n            if (cocosz.dataMgr.CurLevelId == 4 && cocosz.dataMgr.BoomNum <= 0) {\r\n                cocosz.dataMgr.BoomNum++;\r\n                cc.game.emit(Constant.E_UPDATE_COIN);\r\n                this.onTips('恭喜获得炸弹*1');\r\n                return;\r\n            }\r\n            if (cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n                cocosz.dataMgr.BoomNum++;\r\n                cc.game.emit(Constant.E_UPDATE_COIN);\r\n                this.onTips('恭喜获得炸弹*1');\r\n                return;\r\n            }\r\n            lieyou_SdkManager.showRewardedVideoAd((res) => {\r\n                cocosz.audioMgr.resumAllMusic();\r\n                if (res) {\r\n                    cocosz.dataMgr.BoomNum++;\r\n                    cc.game.emit(Constant.E_UPDATE_COIN);\r\n                    this.onTips('恭喜获得炸弹*1');\r\n                } else {\r\n                    this.onTips('视频播放完成才能获取奖励');\r\n                }\r\n            });\r\n            cc.game.emit(Constant.E_UPDATE_COIN)\r\n        }, this);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        this.BtnSkip.active = false;\r\n        let num = 5\r\n        if (cocosz.gameMgr.isLevelOpen) {\r\n            num = 1;\r\n        }\r\n        cocosz.scheduleOnce(() => {\r\n            if (cocosz.sceneMgr.sceneName == \"Game2\") return;\r\n            this.BtnSkip.active = true;\r\n        }, num)\r\n\r\n\r\n        cc.game.on(Constant.E_UPDATE_COIN, () => {\r\n            this.skinVideoCard.string = cocosz.dataMgr.SkinVedioNum + \"\";\r\n            this.boomNum.string = cocosz.dataMgr.BoomNum + \"\";\r\n            if (cocosz.dataMgr.BoomNum <= 0) {\r\n                this.BtnBoom.getChildByName(\"game_btn_noboom\").active = true;\r\n                this.BtnBoom.getComponent(cc.Sprite).enabled = false;\r\n                this.boomNum.node.active = false;\r\n            }\r\n            else {\r\n                this.BtnBoom.getChildByName(\"game_btn_noboom\").active = false;\r\n                this.BtnBoom.getComponent(cc.Sprite).enabled = true;\r\n                this.boomNum.node.active = true;\r\n            }\r\n        }, this);\r\n\r\n\r\n        lieyou_SdkManager.showBannerByBottom();\r\n\r\n        cocosz.scheduleOnce(() => {\r\n            lieyou_SdkManager.hideBanner();\r\n        }, 2)\r\n\r\n        cc.log(\"---------start\")\r\n    }\r\n\r\n\r\n    onTips(msg) {\r\n        Msg.Show(msg);\r\n    }\r\n\r\n    private _onBtnSkip() {\r\n\r\n        cocosz.audioMgr.playbtnEffect();\r\n        if (cocosz.dataMgr.SkinVedioNum) {\r\n            cocosz.dataMgr.SkinVedioNum--\r\n            this.skinVideoCard.string = cocosz.dataMgr.SkinVedioNum + \"\";\r\n            Msg.Show(\"您拥有关卡跳过卡，本次消耗该道具直接获得奖励\")\r\n\r\n            this.BtnSkip.active = false;\r\n            cocosz.scheduleOnce(() => {\r\n                cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID;\r\n                window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n\r\n                cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n                cocosz.dataMgr.CurLevelId++;\r\n                cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n                    cocosz.uiMgr.openPage(PageName.UiGame);\r\n                    cocosz.gameMgr.initGame();\r\n                });\r\n            }, 1)\r\n        }\r\n        else if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n\r\n            this.BtnSkip.active = false;\r\n            cocosz.scheduleOnce(() => {\r\n                cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID;\r\n                window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n\r\n                cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n                cocosz.dataMgr.CurLevelId++;\r\n                cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n                    cocosz.uiMgr.openPage(PageName.UiGame);\r\n                    cocosz.gameMgr.initGame();\r\n                });\r\n            }, 1)\r\n        }\r\n        else if ((cc.sys.platform === cc.sys.VIVO_GAME || cc.sys.platform === cc.sys.OPPO_GAME)) {\r\n\r\n            lieyou_SdkManager.showRewardedVideoAd((res) => {\r\n                cocosz.audioMgr.resumAllMusic();\r\n                if (res) {\r\n\r\n                    this.BtnSkip.active = false;\r\n                    cocosz.scheduleOnce(() => {\r\n                        cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID;\r\n                        window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n\r\n                        cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n                        cocosz.dataMgr.CurLevelId++;\r\n                        cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n                            cocosz.uiMgr.openPage(PageName.UiGame);\r\n                            cocosz.gameMgr.initGame();\r\n                        });\r\n                    }, 1)\r\n                    this.onTips(\"跳过关卡成功\");\r\n                } else {\r\n                    this.onTips('视频播放完成才能获取奖励');\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\n        if (cocosz.dataMgr.SkinVedioNum <= 0) {\r\n            this.BtnSkip.getChildByName(\"video\").active = true;\r\n            this.BtnSkip.getChildByName(\"stipCard\").active = false;\r\n        }\r\n        else {\r\n            this.BtnSkip.getChildByName(\"video\").active = false;\r\n            this.BtnSkip.getChildByName(\"stipCard\").active = true;\r\n            this.BtnSkip.getChildByName(\"stipCard\").getChildByName(\"number\").getComponent(cc.Label).string = cocosz.dataMgr.SkinVedioNum + \"\";\r\n        }\r\n\r\n        return;\r\n        // }\r\n\r\n        return;\r\n        cocosz.audioMgr.stopAll();\r\n        lieyou_SdkManager.showRewardedVideoAd(function (res) {\r\n            cocosz.audioMgr.resumAllMusic();\r\n            if (res) {\r\n                Msg.Show('获取视频奖励成功');\r\n\r\n\r\n                window.onGameEvent(2, \"跳过关卡\", (cocosz.dataMgr.CurLevelId + 1));\r\n                // this.BtnSkip.off(cc.Node.EventType.TOUCH_END);\r\n                cocosz.dataMgr.LevelUnLock(cocosz.dataMgr.CurLevelId);\r\n                cocosz.audioMgr.playbtnEffect();\r\n                if (cocosz.dataMgr.CurLevelId >= 119) {\r\n                    Msg.Show(\"敬请期待更多关卡!!!\");\r\n                    cocosz.scheduleOnce(() => {\r\n                        cocosz.dataMgr.CurLevelId = 119;\r\n                        cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n                            cocosz.uiMgr.openPage(PageName.UiGame);\r\n                            cocosz.gameMgr.initGame();\r\n                        });\r\n                    }, 1.5);\r\n                    return;\r\n                }\r\n\r\n                cocosz.dataMgr.CurLevelId++;\r\n                cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n                    cocosz.uiMgr.openPage(PageName.UiGame);\r\n                    cocosz.gameMgr.initGame();\r\n                });\r\n\r\n                // Msg.Show(\"---------跳过关卡--------------------\")\r\n            } else {\r\n                Msg.Show('视频播放完成才能获取奖励');\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private _OnBoom() {\r\n\r\n    }\r\n\r\n\r\n    public onStartGame() {\r\n\r\n        cocosz.schedule(() => {\r\n            this.LevelLabel.string = cocosz.gameMgr.curGame2LevelID + \"\"\r\n            this.fraction++;\r\n        }, 0.2)\r\n    }\r\n\r\n    private _Pause() {\r\n        cc.log(\"----------暂停\")\r\n        cocosz.audioMgr.playbtnEffect();\r\n        cocosz.uiMgr.openPanel(PanelName.PausePanel);\r\n    }\r\n    protected onOpen() {\r\n        cc.log(\"--------cocosz.gameMgr.game2Fraction----open\", cocosz.gameMgr.game2Fraction)\r\n        this.fraction = cocosz.gameMgr.game2Fraction\r\n        this.LevelLabel.string = cocosz.gameMgr.curGame2LevelID + \"\"\r\n        // if (cocosz.dataMgr.CurLevelId == 4) {\r\n\r\n        //     this.handTips.active = true\r\n        //     this.handTips.opacity = 0;\r\n        //     cocosz.scheduleOnce(() => {\r\n        //         let pos = this.handTips.getPosition();\r\n        //         let a = cc.tween().sequence(\r\n        //             cc.tween().call(() => {\r\n        //                 this.handTips.setPosition(pos);\r\n        //                 this.handTips.opacity = 255;\r\n        //             }),\r\n        //             cc.tween().to(2, { position: cc.v2(126, 180) }),\r\n        //             cc.tween().to(1, { position: cc.v2(126, 180), opacity: 0 }),\r\n        //             cc.tween().delay(4)\r\n\r\n        //         )\r\n        //         this.action = cc.tween(this.handTips)\r\n        //             .repeatForever(a)\r\n        //             .start()\r\n        //     }, 1)\r\n        // }\r\n\r\n        this.LevelLabel.string = (cocosz.dataMgr.CurLevelId + 1).toString();\r\n        cocosz.gameMgr.curLevelID = cocosz.dataMgr.CurLevelId;\r\n\r\n        // cocosz.scheduleOnce(() => {\r\n        //     lieyou_SdkManager.hideBanner();\r\n        // }, 1)\r\n\r\n        if (cocosz.sceneMgr.sceneName == \"Game\") {\r\n\r\n            this.fraction = 1000;\r\n            cocosz.schedule(() => {\r\n                if (this.fraction <= 0) {\r\n                    cc.game.emit(Constant.E_GAME_FAID)\r\n                    cocosz.unscheduleAllCallbacks();\r\n                    return;\r\n                };\r\n                this.fraction--;\r\n            }, 0.2)\r\n        }\r\n        else {\r\n            this.BtnBoom.active = false;\r\n            this.LevelLabel.string = cocosz.gameMgr.curGame2LevelID + \"\"\r\n            if (!cocosz.gameMgr.isGame2Resurrection) {\r\n                this.fraction = 0;\r\n            }\r\n\r\n            // cc.game.on(Constant.E_GAME_START, () => {\r\n\r\n            //     cocosz.schedule(() => {\r\n            //         this.LevelLabel.string = cocosz.gameMgr.curGame2LevelID + \"\"\r\n            //         this.fraction++;\r\n            //     }, 0.2)\r\n            // }, this)\r\n        }\r\n\r\n        this.skinVideoCard.string = cocosz.dataMgr.SkinVedioNum + \"\";\r\n        this.boomNum.string = cocosz.dataMgr.BoomNum + \"\";\r\n        if (cocosz.dataMgr.BoomNum <= 0) {\r\n            this.BtnBoom.getChildByName(\"game_btn_noboom\").active = true;\r\n            this.BtnBoom.getComponent(cc.Sprite).enabled = false;\r\n            this.boomNum.node.active = false;\r\n        }\r\n        else {\r\n            this.BtnBoom.getChildByName(\"game_btn_noboom\").active = false;\r\n            this.BtnBoom.getComponent(cc.Sprite).enabled = true;\r\n            this.boomNum.node.active = true;\r\n        }\r\n\r\n\r\n\r\n        if (cocosz.dataMgr.SkinVedioNum <= 0) {\r\n            this.BtnSkip.getChildByName(\"video\").active = true;\r\n            this.BtnSkip.getChildByName(\"stipCard\").active = false;\r\n        }\r\n        else {\r\n            this.BtnSkip.getChildByName(\"video\").active = false;\r\n            this.BtnSkip.getChildByName(\"stipCard\").active = true;\r\n            this.BtnSkip.getChildByName(\"stipCard\").getChildByName(\"number\").getComponent(cc.Label).string = cocosz.dataMgr.SkinVedioNum + \"\";\r\n        }\r\n\r\n\r\n    }\r\n\r\n    protected onClose() {\r\n        cc.director.getScheduler().unscheduleAllForTarget(this);\r\n        cocosz.unscheduleAllCallbacks();\r\n        cc.game.targetOff(this);\r\n    }\r\n\r\n    protected onDestroy() {\r\n        cc.director.getScheduler().unscheduleAllForTarget(this);\r\n        cocosz.unscheduleAllCallbacks();\r\n        cc.game.targetOff(this);\r\n    }\r\n}\r\n"]}