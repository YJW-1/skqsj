{"version":3,"sources":["assets\\script\\Ui\\PausePanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIPage from \"./UIPage\";\r\nimport { cocosz } from \"../Framework/CocosZ\";\r\nimport { PanelName, PageName } from \"../Framework/Constant\";\r\n// import { BannerLocation } from \"../common-plugin/Scripts/YZ_Constant\";\r\n// import { utils } from \"../common-plugin/Scripts/Utils\";\r\nimport Msg from \"../Framework/Msg\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PausePanel extends UIPage {\r\n    /**继续游戏 */\r\n    private BtnContinue: cc.Node = null;\r\n    /**重新开始 */\r\n    private BtnAgain: cc.Node = null;\r\n    /**返回首页 */\r\n    private BtnBackHome: cc.Node = null;\r\n\r\n    private ScaleNode: cc.Node = null;\r\n    private node: cc.Node = null;\r\n    constructor() {\r\n        super();\r\n        this._init();\r\n    }\r\n    private _init() {\r\n\r\n        let Game: cc.Prefab = cocosz.resMgr.getRes(PanelName.PausePanel, cc.Prefab);\r\n        if (Game) {\r\n            let node: cc.Node = cc.instantiate(Game);\r\n            if (node) {\r\n                this._page = node;\r\n                cc.find(\"Canvas/ui\").addChild(node);\r\n                node.active = false;\r\n                node.position = cc.Vec2.ZERO;\r\n                this._onLoad();\r\n            }\r\n        }\r\n    }\r\n    private _onLoad() {\r\n        this.node = cc.find(\"Canvas/ui/PausePanel\");\r\n        this.BtnAgain = cc.find(\"Canvas/ui/PausePanel/ScaleNode/BtnAgain\");\r\n        this.BtnContinue = cc.find(\"Canvas/ui/PausePanel/ScaleNode/BtnContinue\");\r\n        this.BtnBackHome = cc.find(\"Canvas/ui/PausePanel/ScaleNode/BtnBackHome\");\r\n        this.ScaleNode = cc.find(\"Canvas/ui/PausePanel/ScaleNode\");\r\n        this._Start();\r\n    }\r\n    private _Start() {\r\n        this.BtnAgain.on(cc.Node.EventType.TOUCH_START, this.Again, this);\r\n        this.BtnContinue.on(cc.Node.EventType.TOUCH_START, this.Continue, this);\r\n        this.BtnBackHome.on(cc.Node.EventType.TOUCH_START, this.BackHome, this);\r\n    }\r\n\r\n    protected onOpen() {\r\n        // utils.adManager.ShowInterstitial(BannerLocation.Pause);\r\n        // cocosz.gameMgr.tweeBtn(this.BtnContinue, 1.05, 1);\r\n        // this.node.scale = 0;\r\n        // cocosz.gameMgr.tweeNode(this.node);\r\n        // this.ScaleNode.scale = 0;\r\n        this._page.zIndex += 9999;\r\n        if (cc.sys.platform === cc.sys.VIVO_GAME) {\r\n            lieyou_SdkManager.showSpotByPause();\r\n            let obj = {};\r\n            // obj[\"node\"] = this.ScaleNode\r\n            // obj[\"bgPath\"] = this.ScaleNode\r\n            // obj[\"scale\"] = 0.8\r\n            // lieyou_SdkManager.showNativeAd_big({\r\n            //     node: this.ScaleNode,\r\n            //     bgPath: \"test.png\",\r\n            //     scale: 1,\r\n            //     titleColor: cc.color(46, 46, 46),\r\n            //     descColor: cc.color(46, 46, 46),\r\n            //     insetTop: 0,\r\n            //     insetBottom: 0,\r\n            //     insetLeft: 0,\r\n            //     insetRight: 0\r\n            // });\r\n        }\r\n        else if (cc.sys.platform === cc.sys.OPPO_GAME) {\r\n            this.ScaleNode.x = -261;\r\n            let sp = cocosz.resMgr.getRes(\"ss\", cc.SpriteFrame)\r\n            lieyou_SdkManager.showNativeAd_big({\r\n                node: this.ScaleNode.getChildByName(\"nativePos\"), \"titleColor\": cc.color(255, 255, 255, 255,),\r\n                \"descColor\": cc.color(255, 255, 255, 255,), bgPath: 'texture/ss', texture: sp, scale: 0.9, insetTop: 10, insetBottom: 10, insetLeft: 10, insetRight: 10\r\n            });\r\n        }\r\n        // this._page.setPosition(cc.find(\"Canvas/ui/uiCamera\").getPosition())\r\n        // this._page.y -= 700;\r\n        cc.tween(this.ScaleNode)\r\n            .by(0.2, { position: cc.v2(0, 700) })\r\n            .call(() => {\r\n                cc.director.pause()\r\n            })\r\n            .start()\r\n        this.node.zIndex += 3;\r\n\r\n        // if ((cc.sys.platform === cc.sys.VIVO_GAME)) {\r\n        //     lieyou_SdkManager.showBannerByBottom();\r\n        // }\r\n\r\n\r\n    }\r\n\r\n    private Again() {\r\n        // cocosz.audioMgr.playbtnEffect();\r\n        // cocosz.sceneMgr.loadScene(\"LoadGame\", () => {\r\n        //     cocosz.uiMgr.openPage(PageName.UiLoadGame);\r\n        // });\r\n\r\n        cc.director.resume()\r\n        cocosz.audioMgr.playbtnEffect();\r\n        cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID\r\n        cocosz.sceneMgr.loadScene(cocosz.sceneMgr.sceneName, () => {\r\n            cocosz.uiMgr.openPage(PageName.UiGame);\r\n            cocosz.gameMgr.initGame();\r\n        });\r\n    }\r\n\r\n    private Continue() {\r\n        cc.director.resume()\r\n        cocosz.audioMgr.playbtnEffect();\r\n\r\n        cc.tween(this.ScaleNode)\r\n            .by(0.2, { position: cc.v2(0, -600) })\r\n            .call(() => {\r\n\r\n                this.node.destroy();\r\n            })\r\n            .start()\r\n        // cocosz.audioMgr.stopAll();\r\n        // utils.adManager.HideBanner(BannerLocation.Game);\r\n        // cocosz.gameMgr.audioBg = false;\r\n        // utils.adManager.ShowVideo((ret: boolean, msg: string) => {\r\n        //     cocosz.gameMgr.audioBg = true;\r\n        //     utils.adManager.ShowBanner(BannerLocation.Game);\r\n        //     cocosz.audioMgr.HomeBtnEffect(() => { }, 0);\r\n        //     cocosz.audioMgr.resumAllMusic();\r\n        //     if (ret) {\r\n        //         // cocosz.dataMgr.LevelSkipLock(cocosz.dataMgr.CurLevelId);\r\n        //         // cocosz.dataMgr.CurLevelId++;\r\n        //         // cocosz.sceneMgr.loadScene(\"Game\", () => {\r\n        //         //     cocosz.uiMgr.openPage(PageName.UiGame);\r\n        //         //     cocosz.gameMgr.initGame();\r\n        //         //     Msg.Show(\"成功跳过!!\");\r\n        //         //     cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_LEVEL_FAILED });\r\n        //         // });\r\n        //         Msg.Show(\"成功跳过!!\");\r\n        //         cocosz.dataMgr.setStarNum(cocosz.dataMgr.CurLevelId, 3);\r\n        //         cocosz.dataMgr.IsEnd = true;\r\n        //         cocosz.uiMgr.openPanel(PanelName.LevelPanel);\r\n        //         this.close();\r\n        //     } else {\r\n        //         if (!msg) {\r\n        //             msg = \"暂无视频广告!\";\r\n        //         }\r\n        //         Msg.Show(msg);\r\n        //     }\r\n        // });\r\n\r\n    }\r\n\r\n    private BackHome() {\r\n\r\n        cc.director.resume()\r\n        cocosz.audioMgr.playbtnEffect();\r\n        cocosz.dataMgr.CurLevelId = cocosz.gameMgr.curLevelID\r\n        cocosz.sceneMgr.loadScene(\"Home\", () => {\r\n            cocosz.uiMgr.openPage(PageName.UiHome);\r\n        });\r\n    }\r\n\r\n    protected onClose() {\r\n        cc.game.targetOff(this);\r\n    }\r\n\r\n    protected onDestroy() {\r\n        cc.game.targetOff(this);\r\n    }\r\n}"]}