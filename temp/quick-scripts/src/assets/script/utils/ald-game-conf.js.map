{"version":3,"sources":["assets\\script\\utils\\ald-game-conf.js"],"names":["window","wx","qq","tt","exports","app_key","getLocation","useOpen","openKey","onGameInit","storeID","cc","sys","platform","OPPO_GAME","VIVO_GAME","WECHAT_GAME","cocosAnalytics","enableDebug","init","appID","channel","version","engine","appSecret","callNumber","CAAccount","loginStart","loginSuccess","userID","sex","age","game","on","EVENT_HIDE","logout","EVENT_SHOW","onGameStart","mode","level","name","levelId","levelName","lieyou_SdkManager","gameBeginLevel","aldStage","onStart","stageId","stageName","onGameSuccess","gameFinishLevel","onEnd","event","onGameFail","gameFailLevel","onGameEvent","type","id","event_key","undefined","i","length","Math","floor","charCodeAt","onGameOtherEvent","onGameOpenEvent","console","log","onGameVideoEvent","status"],"mappings":";;;;;;AAAA,IAAIA,MAAM,CAACC,EAAP,IAAa,CAACD,MAAM,CAACE,EAArB,IAA2B,CAACF,MAAM,CAACG,EAAvC,EAA2C;AAAC;AACxCC,EAAAA,OAAO,CAACC,OAAR,GAAkB,kCAAlB,CADuC,CACe;;AACtDD,EAAAA,OAAO,CAACE,WAAR,GAAsB,KAAtB,CAFuC,CAEV;;AAC7BF,EAAAA,OAAO,CAACG,OAAR,GAAkB,KAAlB;AACAH,EAAAA,OAAO,CAACI,OAAR,GAAkB,EAAlB;AACH;;AAEDR,MAAM,CAACS,UAAP,GAAoB,YAAM;AACtB,MAAIC,OAAO,GAAG,MAAd;;AACA,MAAIC,EAAE,CAACC,GAAH,CAAOC,QAAP,IAAmBF,EAAE,CAACC,GAAH,CAAOE,SAA9B,EAAyC;AACrCJ,IAAAA,OAAO,GAAG,MAAV;AACH,GAFD,MAEO,IAAIC,EAAE,CAACC,GAAH,CAAOC,QAAP,IAAmBF,EAAE,CAACC,GAAH,CAAOG,SAA9B,EAAyC;AAC5CL,IAAAA,OAAO,GAAG,MAAV;AACH,GAFM,MAGF,IAAIC,EAAE,CAACC,GAAH,CAAOC,QAAP,IAAmBF,EAAE,CAACC,GAAH,CAAOI,WAA9B,EAA2C;AAC5C,QAAIhB,MAAM,CAAC,IAAD,CAAV,EAAkB;AACdU,MAAAA,OAAO,GAAG,IAAV;AACH,KAFD,MAGK,IAAIV,MAAM,CAAC,IAAD,CAAV,EAAkB;AACnBU,MAAAA,OAAO,GAAG,IAAV;AACH,KAFI,MAGA;AACDA,MAAAA,OAAO,GAAG,IAAV;AACH;AACJ;;AACD,MAAIA,OAAO,IAAI,MAAf,EAAuB;AACnB;AACAO,IAAAA,cAAc,CAACC,WAAf,CAA2B,KAA3B;AACAD,IAAAA,cAAc,CAACE,IAAf,CAAoB;AAAEC,MAAAA,KAAK,EAAEpB,MAAM,CAAC,gBAAD,CAAN,CAAyB,MAAzB,EAAiCoB,KAA1C;AAAiDV,MAAAA,OAAO,EAAEA,OAA1D;AAAmEW,MAAAA,OAAO,EAAE,EAA5E;AAAgFC,MAAAA,OAAO,EAAE,OAAzF;AAAkGC,MAAAA,MAAM,EAAE,OAA1G;AAAmHC,MAAAA,SAAS,EAAE,EAA9H;AAAkIC,MAAAA,UAAU,EAAE;AAA9I,KAApB,EAHmB,CAInB;;AACAR,IAAAA,cAAc,CAACS,SAAf,CAAyBC,UAAzB,CAAoC;AAChC;AACAN,MAAAA,OAAO,EAAE;AAFuB,KAApC;AAIAJ,IAAAA,cAAc,CAACS,SAAf,CAAyBE,YAAzB,CAAsC;AAClCC,MAAAA,MAAM,EAAE,UAD0B;AAElCC,MAAAA,GAAG,EAAE,CAF6B;AAGlCC,MAAAA,GAAG,EAAE,CAH6B;AAIlCV,MAAAA,OAAO,EAAE,OAJyB,CAId;;AAJc,KAAtC;AAMA;;AACAV,IAAAA,EAAE,CAACqB,IAAH,CAAQC,EAAR,CAAWtB,EAAE,CAACqB,IAAH,CAAQE,UAAnB,EAA+B,YAAM;AACjCjB,MAAAA,cAAc,CAACS,SAAf,CAAyBS,MAAzB;AACH,KAFD;AAIA;;AACAxB,IAAAA,EAAE,CAACqB,IAAH,CAAQC,EAAR,CAAWtB,EAAE,CAACqB,IAAH,CAAQI,UAAnB,EAA+B,YAAM;AACjCnB,MAAAA,cAAc,CAACS,SAAf,CAAyBC,UAAzB,CAAoC;AAChC;AACAN,QAAAA,OAAO,EAAE;AAFuB,OAApC;AAIAJ,MAAAA,cAAc,CAACS,SAAf,CAAyBE,YAAzB,CAAsC;AAClCC,QAAAA,MAAM,EAAE,UAD0B;AAElCC,QAAAA,GAAG,EAAE,CAF6B;AAGlCC,QAAAA,GAAG,EAAE,CAH6B;AAIlCV,QAAAA,OAAO,EAAE,OAJyB,CAId;;AAJc,OAAtC;AAMH,KAXD;AAYH;AACJ,CApDD;AAsDA;;;;;;;AAKArB,MAAM,CAACqC,WAAP,GAAqB,UAACC,IAAD,EAAOC,KAAP,EAAcC,IAAd,EAAuB;AACxC,MAAIC,OAAO,GAAGH,IAAI,GAAG,KAAP,GAAeC,KAA7B;AACA,MAAIG,SAAS,GAAGF,IAAI,GAAGA,IAAH,GAAU,MAAMC,OAAN,GAAgB,GAA9C;AACAE,EAAAA,iBAAiB,CAACC,cAAlB,CAAiCL,KAAjC,EAAwCD,IAAxC;;AACA,MAAItC,MAAM,CAACC,EAAP,IAAa,CAACD,MAAM,CAACE,EAArB,IAA2B,CAACF,MAAM,CAACG,EAAvC,EAA2C;AAAC;AACxCF,IAAAA,EAAE,CAAC4C,QAAH,CAAYC,OAAZ,CAAoB;AAChBC,MAAAA,OAAO,EAAEN,OADO;AACQ;AACxBO,MAAAA,SAAS,EAAEN,SAFK,CAEQ;;AAFR,KAApB;AAIH;AACJ,CAVD;AAWA;;;;;;;AAKA1C,MAAM,CAACiD,aAAP,GAAuB,UAACX,IAAD,EAAOC,KAAP,EAAcC,IAAd,EAAuB;AAC1C,MAAIC,OAAO,GAAGH,IAAI,GAAG,KAAP,GAAeC,KAA7B;AACA,MAAIG,SAAS,GAAGF,IAAI,GAAGA,IAAH,GAAU,MAAMC,OAAN,GAAgB,GAA9C;AACAE,EAAAA,iBAAiB,CAACO,eAAlB,CAAkCX,KAAlC,EAAyCD,IAAzC;;AACA,MAAItC,MAAM,CAACC,EAAP,IAAa,CAACD,MAAM,CAACE,EAArB,IAA2B,CAACF,MAAM,CAACG,EAAvC,EAA2C;AAAC;AACxCF,IAAAA,EAAE,CAAC4C,QAAH,CAAYM,KAAZ,CAAkB;AACdJ,MAAAA,OAAO,EAAEN,OADK;AACU;AACxBO,MAAAA,SAAS,EAAEN,SAFG;AAEU;AACxBU,MAAAA,KAAK,EAAE;AAHO,KAAlB;AAKH;AACJ,CAXD;AAYA;;;;;;;AAKApD,MAAM,CAACqD,UAAP,GAAoB,UAACf,IAAD,EAAOC,KAAP,EAAcC,IAAd,EAAuB;AACvC,MAAIC,OAAO,GAAGH,IAAI,GAAG,KAAP,GAAeC,KAA7B;AACA,MAAIG,SAAS,GAAGF,IAAI,GAAGA,IAAH,GAAU,MAAMC,OAAN,GAAgB,GAA9C;AACAE,EAAAA,iBAAiB,CAACW,aAAlB,CAAgCf,KAAhC,EAAuCD,IAAvC;;AACA,MAAItC,MAAM,CAACC,EAAP,IAAa,CAACD,MAAM,CAACE,EAArB,IAA2B,CAACF,MAAM,CAACG,EAAvC,EAA2C;AAAC;AACxCF,IAAAA,EAAE,CAAC4C,QAAH,CAAYM,KAAZ,CAAkB;AACdJ,MAAAA,OAAO,EAAEN,OADK;AACU;AACxBO,MAAAA,SAAS,EAAEN,SAFG;AAEU;AACxBU,MAAAA,KAAK,EAAE;AAHO,KAAlB;AAKH;AACJ,CAXD;AAYA;;;;;AAGApD,MAAM,CAACuD,WAAP,GAAqB,UAACC,IAAD,EAAOJ,KAAP,EAAcb,KAAd,EAAwB;AACzC,MAAIkB,EAAE,GAAGzD,MAAM,CAAC0D,SAAP,CAAiBF,IAAjB,CAAT;;AACA,MAAIC,EAAE,IAAIE,SAAV,EAAqB;AACjBF,IAAAA,EAAE,GAAG,EAAL;AACH;;AACDA,EAAAA,EAAE,IAAI,MAAN;;AACA,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,KAAK,CAACS,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnCH,IAAAA,EAAE,IAAIK,IAAI,CAACC,KAAL,CAAYX,KAAK,CAACY,UAAN,CAAiBJ,CAAjB,KAAuB,KAAKA,CAA5B,IAAiC,EAAlC,GAAwC,IAAnD,CAAN;AACH;;AACD,MAAIrB,KAAK,GAAG,CAAZ,EAAe;AACXkB,IAAAA,EAAE,IAAIlB,KAAN;AACAa,IAAAA,KAAK,IAAIb,KAAT;AACH;;AACD,MAAIvC,MAAM,CAACC,EAAP,IAAa,CAACD,MAAM,CAACE,EAArB,IAA2B,CAACF,MAAM,CAACG,EAAvC,EAA2C;AAAC;AACxCF,IAAAA,EAAE,CAAC4C,QAAH,CAAYC,OAAZ,CAAoB;AAChBC,MAAAA,OAAO,EAAEU,EADO;AACG;AACnBT,MAAAA,SAAS,EAAEQ,IAAI,GAAGJ,KAFF,CAEW;;AAFX,KAApB;AAIAnD,IAAAA,EAAE,CAAC4C,QAAH,CAAYM,KAAZ,CAAkB;AACdJ,MAAAA,OAAO,EAAEU,EADK;AACK;AACnBT,MAAAA,SAAS,EAAEQ,IAAI,GAAGJ,KAFJ;AAEa;AAC3BA,MAAAA,KAAK,EAAE;AAHO,KAAlB;AAKH;AACJ,CAxBD;AA0BA;;;AACApD,MAAM,CAACiE,gBAAP,GAA0B,UAACb,KAAD,EAAsB;AAAA,MAAdb,KAAc,uEAAN,CAAM;AAC5C;AACA;AACAvC,EAAAA,MAAM,CAAC,aAAD,CAAN,IAAyBA,MAAM,CAAC,aAAD,CAAN,CAAsB,IAAtB,EAA4BoD,KAA5B,EAAmCb,KAAnC,CAAzB;AACH,CAJD;AAKA;;;AACAvC,MAAM,CAACkE,eAAP,GAAyB,UAACV,IAAD,EAAU;AAC/BW,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBZ,IAApB,EAD+B,CAE/B;AACA;;AACAxD,EAAAA,MAAM,CAAC,aAAD,CAAN,IAAyBA,MAAM,CAAC,aAAD,CAAN,CAAsB,IAAtB,EAA4BwD,IAA5B,CAAzB;AACH,CALD;AAMA;;;AACAxD,MAAM,CAACqE,gBAAP,GAA0B,UAACb,IAAD,EAAOc,MAAP,EAAkB;AACxCH,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBZ,IAApB,EAA0Bc,MAA1B,EADwC,CAExC;AACA;;AACAtE,EAAAA,MAAM,CAAC,aAAD,CAAN,IAAyBA,MAAM,CAAC,aAAD,CAAN,CAAsB,IAAtB,EAA4BwD,IAAI,GAAGc,MAAnC,CAAzB;AACH,CALD;;AASAtE,MAAM,CAAC0D,SAAP,GAAmB;AACf,QAAM,EADS;AACL,QAAM,EADD;AACK,QAAM,EADX;AACe,QAAM,EADrB;AACyB,QAAM,EAD/B;AACmC,QAAM,EADzC;AAC6C,QAAM,EADnD;AACuD,QAAM,EAD7D;AACiE,QAAM,EADvE;AAC2E,QAAM,EADjF;AACqF,QAAM;AAD3F,CAAnB","sourceRoot":"/","sourcesContent":["if (window.wx && !window.qq && !window.tt) {//只在微信上可以使用\n    exports.app_key = \"1b7ccc37831ee4699281e21a18137289\"; //请在此行填写从阿拉丁后台获取的appkey\n    exports.getLocation = false; //默认不获取用户坐标位置\n    exports.useOpen = false;\n    exports.openKey = \"\";\n}\n\nwindow.onGameInit = () => {\n    var storeID = 'test';\n    if (cc.sys.platform == cc.sys.OPPO_GAME) {\n        storeID = 'oppo';\n    } else if (cc.sys.platform == cc.sys.VIVO_GAME) {\n        storeID = 'vivo';\n    }\n    else if (cc.sys.platform == cc.sys.WECHAT_GAME) {\n        if (window['qq']) {\n            storeID = 'qq';\n        }\n        else if (window['tt']) {\n            storeID = 'tt';\n        }\n        else {\n            storeID = 'wx';\n        }\n    }\n    if (storeID != 'test') {\n        // 开启（关闭）本地日志的输出\n        cocosAnalytics.enableDebug(false);\n        cocosAnalytics.init({ appID: window['cocosAnalytics'][\"data\"].appID, storeID: storeID, channel: \"\", version: \"1.0.0\", engine: \"cocos\", appSecret: \"\", callNumber: \"\" });\n        // 开始登录方法\n        cocosAnalytics.CAAccount.loginStart({\n            // 获客渠道，指获取该客户的广告渠道信息 \n            channel: '99888',\n        });\n        cocosAnalytics.CAAccount.loginSuccess({\n            userID: 'dddddddd',\n            sex: 1,\n            age: 1,\n            channel: '99888',   // 获客渠道，指获取该客户的广告渠道信息   \n        });\n        /**进入后台 */\n        cc.game.on(cc.game.EVENT_HIDE, () => {\n            cocosAnalytics.CAAccount.logout();\n        });\n\n        /**后台返回游戏 */\n        cc.game.on(cc.game.EVENT_SHOW, () => {\n            cocosAnalytics.CAAccount.loginStart({\n                // 获客渠道，指获取该客户的广告渠道信息 \n                channel: '99888',\n            });\n            cocosAnalytics.CAAccount.loginSuccess({\n                userID: 'dddddddd',\n                sex: 1,\n                age: 1,\n                channel: '99888',   // 获客渠道，指获取该客户的广告渠道信息   \n            });\n        });\n    }\n}\n\n/** 游戏开始\n *  mode 游戏模式 从1开始\n *  level 关卡  从1开始\n *  name 自定义关卡标识  可以不传\n */\nwindow.onGameStart = (mode, level, name) => {\n    var levelId = mode * 10000 + level;\n    var levelName = name ? name : \"第\" + levelId + \"关\";\n    lieyou_SdkManager.gameBeginLevel(level, mode);\n    if (window.wx && !window.qq && !window.tt) {//只在微信上可以使用\n        wx.aldStage.onStart({\n            stageId: levelId,       //关卡ID 该字段必传\n            stageName: levelName    //关卡名称  该字段必传\n        })\n    }\n}\n/** 游戏成功\n *  mode 游戏模式 从1开始\n *  level 关卡  从1开始\n *  name 自定义关卡标识  可以不传\n */\nwindow.onGameSuccess = (mode, level, name) => {\n    var levelId = mode * 10000 + level;\n    var levelName = name ? name : \"第\" + levelId + \"关\";\n    lieyou_SdkManager.gameFinishLevel(level, mode);\n    if (window.wx && !window.qq && !window.tt) {//只在微信上可以使用\n        wx.aldStage.onEnd({\n            stageId: levelId,       //关卡ID 该字段必传\n            stageName: levelName,   //关卡名称  该字段必传\n            event: \"complete\"\n        })\n    }\n}\n/** 游戏失败\n *  mode 游戏模式 从1开始\n *  level 关卡  从1开始\n *  name 自定义关卡标识  可以不传\n */\nwindow.onGameFail = (mode, level, name) => {\n    var levelId = mode * 10000 + level;\n    var levelName = name ? name : \"第\" + levelId + \"关\";\n    lieyou_SdkManager.gameFailLevel(level, mode);\n    if (window.wx && !window.qq && !window.tt) {//只在微信上可以使用\n        wx.aldStage.onEnd({\n            stageId: levelId,       //关卡ID 该字段必传\n            stageName: levelName,   //关卡名称  该字段必传\n            event: \"fail\"\n        })\n    }\n}\n/** \n * 自定义游戏事件\n */\nwindow.onGameEvent = (type, event, level) => {\n    var id = window.event_key[type];\n    if (id == undefined) {\n        id = 30;\n    }\n    id *= 100000;\n    for (var i = 0; i < event.length; i++) {\n        id += Math.floor((event.charCodeAt(i) * (16 - i) * 16) / 1000);\n    }\n    if (level > 0) {\n        id += level;\n        event += level;\n    }\n    if (window.wx && !window.qq && !window.tt) {//只在微信上可以使用\n        wx.aldStage.onStart({\n            stageId: id,       //关卡ID 该字段必传\n            stageName: type + event    //关卡名称  该字段必传\n        })\n        wx.aldStage.onEnd({\n            stageId: id,       //关卡ID 该字段必传\n            stageName: type + event,   //关卡名称  该字段必传\n            event: \"complete\"\n        })\n    }\n}\n\n/** 其他事件 */\nwindow.onGameOtherEvent = (event, level = 0) => {\n    // cocosAnalytics && cocosAnalytics.CACustomEvent.onStarted('other', { type: event });\n    // window[\"mta\"] && window[\"mta\"].onEvent(\"other\", { event: event + level });\n    window[\"onGameEvent\"] && window[\"onGameEvent\"](\"其他\", event, level);\n}\n/** 打开事件 */\nwindow.onGameOpenEvent = (type) => {\n    console.log(\"打开弹窗\", type);\n    // cocosAnalytics && cocosAnalytics.CACustomEvent.onStarted('open', { type: type });\n    // window[\"mta\"] && window[\"mta\"].onEvent('open', { 'popup': type });\n    window[\"onGameEvent\"] && window[\"onGameEvent\"](\"打开\", type);\n}\n/** 视频事件 */\nwindow.onGameVideoEvent = (type, status) => {\n    console.log(\"视频广告\", type, status);\n    // cocosAnalytics && cocosAnalytics.CACustomEvent.onStarted('video', { type: type + status });\n    // window[\"mta\"] && window[\"mta\"].onEvent('video', { vtype: type + status });\n    window[\"onGameEvent\"] && window[\"onGameEvent\"](\"视频\", type + status);\n}\n\n\n\nwindow.event_key = {\n    \"视频\": 11, \"打开\": 12, \"停留\": 13, \"进入\": 20, \"签到\": 21, \"转盘\": 22, \"抽奖\": 23, \"皮肤\": 24, \"成就\": 25, \"商城\": 26, \"其他\": 27\n}"]}