{"version":3,"sources":["assets\\script\\Framework\\UIMgr.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport Constant, { PageName, SkinInfo, PanelName } from \"./Constant\";\r\nimport UIPage from \"../Ui/UIPage\";\r\nimport UiFailed from \"../Ui/UiFailed\";\r\nimport UiHome from \"../Ui/UiHome\";\r\nimport UiLoad from \"../Ui/UiLoad\";\r\nimport UiShop from \"../Ui/UiShop\";\r\nimport UiSucceed from \"../Ui/UiSucceed\";\r\nimport UiGame from \"../Ui/UiGame\";\r\nimport PausePanel from \"../Ui/PausePanel\";\r\n// import CoinTipsPanel from \"../Ui/CoinTipsPanel\";\r\nimport UISign from \"../Ui/UiSign\";\r\n// import TrialPanel from \"../Ui/TrialPanel\";\r\nimport UiSet from \"../Ui/UiSet\";\r\nimport LevelPanel from \"../Ui/LevelPanel\";\r\nimport UiLottery from \"../Ui/UiLottery\";\r\nimport UiBeforeSucceed from \"../Ui/UiBeforeSucceed\";\r\nimport UiResurrection from \"../Ui/UiResurrection\";\r\n// import UiLoadGame from \"../Ui/UiLoadGame\";\r\n\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UIMgr extends cc.Component {\r\n\r\n    \r\n\r\n    private static _inst: UIMgr;\r\n    public static get inst(): UIMgr {\r\n        if (!UIMgr._inst) {\r\n            UIMgr._inst = new UIMgr();\r\n        }\r\n        return UIMgr._inst;\r\n    }\r\n\r\n    private _pageDict: any = {};\r\n    private _panelDict: any = {};\r\n\r\n\r\n    /**打开界面*/\r\n    public openPage(name: string) {\r\n        this.closeAllPanel();\r\n        cc.log(name, \"----打开界面---------\");\r\n        for (let key in this._pageDict) {\r\n            if (key && this._pageDict[key]) {\r\n                this._pageDict[key].close();\r\n            }\r\n        }\r\n        if (this._pageDict[name] && this._pageDict[name].isValid()) {\r\n            this._pageDict[name].open();\r\n        } else {\r\n            let page: UIPage = this._createUI(name);\r\n            if (page) {\r\n                this._pageDict[name] = page;\r\n                page.open();\r\n            }\r\n        }\r\n    }\r\n    //打开弹窗\r\n    public openPanel(name: string) {\r\n        if (this._panelDict[name] && this._panelDict[name].isValid()) {\r\n            this._panelDict[name].open();\r\n        } else {\r\n            let panel: UIPage = this._createUI(name);\r\n            if (panel) {\r\n                this._panelDict[name] = panel;\r\n                panel.open();\r\n            }\r\n        }\r\n    }\r\n\r\n    public closeAllPanel() {\r\n        for (let key in this._panelDict) {\r\n            if (key && this._panelDict[key]) {\r\n                this._panelDict[key].close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public closePanel(name: string) {\r\n        if (this._panelDict[name] && this._panelDict[name].isValid()) {\r\n            this._panelDict[name].close();\r\n        }\r\n    }\r\n\r\n    private _createUI(name: string) {\r\n        switch (name) {\r\n            case PanelName.UiFailed: {\r\n                return new UiFailed();\r\n            }\r\n            case PageName.UiHome: {\r\n                return new UiHome();\r\n            }\r\n            case PageName.UiLoad: {\r\n                return new UiLoad();\r\n            }\r\n            case PanelName.UiSucceed: {\r\n                return new UiSucceed();\r\n            }\r\n            case PageName.UiGame: {\r\n                return new UiGame();\r\n            }\r\n            case PanelName.UiShop: {\r\n                return new UiShop();\r\n            }\r\n            case PanelName.UiSet: {\r\n                return new UiSet();\r\n            }\r\n            case PanelName.LevelPanel: {\r\n                return new LevelPanel();\r\n            }\r\n            case PanelName.PausePanel: {\r\n                return new PausePanel();\r\n            }\r\n            case PanelName.CoinTipsPanel: {\r\n                return new CoinTipsPanel();\r\n            }\r\n            case PanelName.UiSign: {\r\n                return new UISign();\r\n            }\r\n            case PanelName.TrialPanel: {\r\n                return new TrialPanel();\r\n            }\r\n            case PanelName.UiLottery: {\r\n                return new UiLottery();\r\n            }\r\n            case PanelName.UiBeforeSucceed: {\r\n                return new UiBeforeSucceed();\r\n            }\r\n            case PanelName.UiResurrection: {\r\n                return new UiResurrection();\r\n            }\r\n            case PageName.UiLoadGame: {\r\n                return new UiLoadGame();\r\n            }\r\n            default: {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}