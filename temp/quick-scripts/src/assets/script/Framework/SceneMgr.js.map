{"version":3,"sources":["assets\\script\\Framework\\SceneMgr.ts"],"names":[],"mappings":";;;;;AAAA,mCAAkC;AAG5B,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IADA;QAYY,iBAAY,GAAW,EAAE,CAAC;QAC1B,kBAAa,GAAW,CAAC,CAAC;QAC3B,cAAS,GAAW,EAAE,CAAC;IA2BlC,CAAC;iBAxCoB,QAAQ;IAIzB,sBAAkB,gBAAI;aAAtB;YACI,IAAI,CAAC,UAAQ,CAAC,KAAK,EAAE;gBACjB,UAAQ,CAAC,KAAK,GAAG,IAAI,UAAQ,EAAE,CAAC;aACnC;YACD,OAAO,UAAQ,CAAC,KAAK,CAAC;QAC1B,CAAC;;;OAAA;IAMM,4BAAS,GAAhB,UAAiB,IAAY,EAAE,OAAiB;QAC5C,0BAA0B;QAC1B,kCAAkC;QAClC,eAAM,CAAC,sBAAsB,EAAE,CAAC;QAChC,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YAC3B,IAAI,OAAO,GAAW,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;YAC7C,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,EAAE;gBACrC,OAAO;aACV;SACJ;QACD,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;QAC5C,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QACrC,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YAC3B,OAAO;SACV;QACD,IAAI,IAAI,IAAI,MAAM,EAAE;YAChB,6BAA6B;YAC7B,mCAAmC;SACtC;aAAM,IAAI,IAAI,IAAI,MAAM,EAAE;YACvB,mCAAmC;YACnC,mCAAmC;SACtC;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAA;IACtC,CAAC;;IAvCgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAwC5B;IAAD,eAAC;CAxCD,AAwCC,IAAA;kBAxCoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import { cocosz } from \"./CocosZ\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class SceneMgr {\r\n\r\n\r\n    private static _inst: SceneMgr;\r\n    public static get inst(): SceneMgr {\r\n        if (!SceneMgr._inst) {\r\n            SceneMgr._inst = new SceneMgr();\r\n        }\r\n        return SceneMgr._inst;\r\n    }\r\n\r\n    private _activeScene: string = \"\";\r\n    private _timeInterval: number = 0;\r\n    public sceneName: string = \"\";\r\n\r\n    public loadScene(name: string, onLunch: Function) {\r\n        // cocosz.gameMgr.Num = 0;\r\n        // cocosz.gameMgr.PlatformNum = 0;\r\n        cocosz.unscheduleAllCallbacks();\r\n        if (this._activeScene == name) {\r\n            let curTime: number = (new Date()).getTime();\r\n            if (curTime - this._timeInterval < 1000) {\r\n                return;\r\n            }\r\n        }\r\n        this._timeInterval = (new Date()).getTime();\r\n        cc.director.loadScene(name, onLunch);\r\n        if (this._activeScene == name) {\r\n            return;\r\n        }\r\n        if (name == \"Home\") {\r\n            // cocosz.audioMgr.stopAll();\r\n            // cocosz.audioMgr.playHomeMusic();\r\n        } else if (name == \"Game\") {\r\n            // cocosz.audioMgr.playGameMusic();\r\n            // cocosz.audioMgr.playHomeMusic();\r\n        }\r\n        this._activeScene = name;\r\n        this.sceneName = this._activeScene\r\n    }\r\n}\r\n"]}