{"version":3,"sources":["assets\\script\\Framework\\DataMgr.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { cocosz } from \"./CocosZ\";\r\nimport Constant, { SkinInfo, Levelitem } from \"./Constant\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class DataMgr {\r\n\r\n    private static _inst: DataMgr;\r\n    public static get inst(): DataMgr {\r\n        if (!DataMgr._inst) {\r\n            DataMgr._inst = new DataMgr();\r\n            DataMgr._inst._init();\r\n        }\r\n        return DataMgr._inst;\r\n    }\r\n    public IsEnd: boolean = null;\r\n\r\n    private _dataPool: any = {};\r\n\r\n    private _init() {\r\n        // cc.sys.localStorage.clear();\r\n\r\n        if (cc.sys.localStorage.getItem(Constant.ST_GameData)) {\r\n            this._dataPool = JSON.parse(cc.sys.localStorage.getItem(Constant.ST_GameData));\r\n        } else {\r\n            // 第一次进入游戏\r\n            // cc.log(\"第一次进入游戏----------\")\r\n            this._dataPool[Constant.ST_MaxUnlockLevelCount] = \"0\";\r\n            this._dataPool[Constant.ST_CurLevelId] = \"0\";\r\n            this._dataPool[Constant.ST_MaxLevelId] = \"0\";\r\n            this._dataPool[Constant.ST_ResetLevelId] = \"0\";\r\n            this._dataPool[Constant.ST_Game2Fraction] = \"0\";\r\n\r\n            this._dataPool[Constant.ST_IsGame2Novice] = \"0\";\r\n\r\n\r\n            this._dataPool[Constant.ST_AudioOn] = \"1\";\r\n            this._dataPool[Constant.ST_AudioEffectOn] = \"1\";\r\n            this._dataPool[Constant.ST_ShockOn] = \"1\";\r\n            // 初始金币\r\n            this._dataPool[Constant.ST_CoinCount] = \"0\";\r\n            // 初始奖励关卡\r\n            this._dataPool[Constant.ST_RewardType] = \"0\";\r\n            // 初始奖励关卡\r\n            this._dataPool[Constant.ST_Game2LevelList] = [];\r\n\r\n            //跳过卡数量\r\n            this._dataPool[Constant.ST_SkinVedioNum] = \"0\";\r\n            //炸弹数量\r\n            this._dataPool[Constant.ST_BoomNum] = \"3\";\r\n\r\n            this._dataPool[Constant.ST_CurSkinId] = \"0\";\r\n\r\n            this._dataPool[Constant.ST_CurBallbonSkinId] = \"0\";\r\n\r\n            this._dataPool[Constant.LastDailyBonusIndex] = \"0\";\r\n\r\n            let curDate = new Date();\r\n\r\n            this._dataPool[Constant.LastDailyBonusTime] = curDate.toDateString();\r\n            this._dataPool[Constant.SjShop] = \"0\";\r\n\r\n            this._dataPool[Constant.ST_Lottery] = \"1\";\r\n\r\n            this._initStarNum();\r\n            this._initSkinData();\r\n            this._initLevelData();\r\n            this._initFaceNum();\r\n            this._initSjShopData();\r\n\r\n            this._initRandomLevel1()\r\n            this._initRandomLevel2()\r\n            this._initRandomLevel3()\r\n\r\n\r\n            this._initGame2LevelList()\r\n\r\n            this._save();\r\n        }\r\n    }\r\n\r\n\r\n    public _initGame2LevelList() {\r\n        let list = [3, 12, 18, 19, 8, 11];\r\n        this._dataPool[Constant.ST_Game2LevelList] = JSON.stringify(list);\r\n\r\n    }\r\n\r\n    get Game2LevelList() {\r\n        cc.log(this._getItem(Constant.ST_Game2LevelList, \"\"))\r\n        if (!this._getItem(Constant.ST_Game2LevelList, \"\")) {\r\n            this._initGame2LevelList();\r\n            this._save()\r\n            return this.Game2LevelList;\r\n        }\r\n\r\n        let list = JSON.parse(this._getItem(Constant.ST_Game2LevelList, \"\"));\r\n\r\n        if (list.length > 0) {\r\n            cc.log(\"---------------拿无尽关卡数据\");\r\n            let a = list.shift();\r\n            this._dataPool[Constant.ST_Game2LevelList] = JSON.stringify(list);\r\n            this._save();\r\n            return a;\r\n        }\r\n        else {\r\n            cc.log(\"---------------重新随机无尽关卡数据\");\r\n            let c = [];\r\n            let b = 0;\r\n            while (b++ < 20) {\r\n                c.push(b);\r\n            }\r\n            c.sort((a, b) => { return Math.random() - 0.5 });\r\n            let a = c.shift();\r\n\r\n            this._dataPool[Constant.ST_Game2LevelList] = JSON.stringify(c);\r\n\r\n            this._save();\r\n            return a;\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    private _initRandomLevel1() {\r\n        let num = 20;\r\n        let list = [];\r\n        while (num++ < 110) {\r\n            list.push(num);\r\n        }\r\n        let sList = [];\r\n        for (let a = 0; a < list.length - 1; a++) {\r\n            if (Math.random() > 0.5) {\r\n                let k = list[a];\r\n                list[a] = list[a + 1];\r\n                list[a + 1] = k;\r\n            }\r\n            if (Math.random() > 0.6) {\r\n                sList.push(a);\r\n            }\r\n        }\r\n        for (let idx of sList) {\r\n            let a = list.splice(idx, 1);\r\n            if (Math.random() > 0.5) {\r\n                list.push(a[0]);\r\n            }\r\n            else {\r\n                list.unshift(a[0]);\r\n            }\r\n        }\r\n        // cc.log(list, \"----_initRandomLevel1--------\")\r\n        this._dataPool[Constant.ST_RamdomLevel1] = JSON.stringify(list);\r\n    }\r\n\r\n    private _initRandomLevel2() {\r\n        let num = 120;\r\n        let list = [];\r\n        while (num++ < 130) {\r\n            list.push(num);\r\n        }\r\n        let sList = [];\r\n        for (let a = 0; a < list.length - 1; a++) {\r\n            if (Math.random() > 0.5) {\r\n                let k = list[a];\r\n                list[a] = list[a + 1];\r\n                list[a + 1] = k;\r\n            }\r\n            if (Math.random() > 0.6) {\r\n                sList.push(a);\r\n            }\r\n        }\r\n        for (let idx of sList) {\r\n            let a = list.splice(idx, 1);\r\n            if (Math.random() > 0.5) {\r\n                list.push(a[0]);\r\n            }\r\n            else {\r\n                list.unshift(a[0]);\r\n            }\r\n        }\r\n        // cc.log(list, \"----_initRandomLevel2--------\")\r\n        this._dataPool[Constant.ST_RamdomLevel2] = JSON.stringify(list);\r\n    }\r\n\r\n    private _initRandomLevel3() {\r\n        let num = 130;\r\n        let list = [];\r\n        while (num++ < 140) {\r\n            list.push(num);\r\n        }\r\n        let sList = [];\r\n        for (let a = 0; a < list.length - 1; a++) {\r\n            if (Math.random() > 0.5) {\r\n                let k = list[a];\r\n                list[a] = list[a + 1];\r\n                list[a + 1] = k;\r\n            }\r\n            if (Math.random() > 0.6) {\r\n                sList.push(a);\r\n            }\r\n        }\r\n        for (let idx of sList) {\r\n            let a = list.splice(idx, 1);\r\n            if (Math.random() > 0.5) {\r\n                list.push(a[0]);\r\n            }\r\n            else {\r\n                list.unshift(a[0]);\r\n            }\r\n        }\r\n        // cc.log(list, \"----_initRandomLevel3--------\")\r\n\r\n        this._dataPool[Constant.ST_RamdomLevel3] = JSON.stringify(list);\r\n    }\r\n\r\n    public getRamdomLevel() {\r\n        // if (this.CurLevelId >= 140) {\r\n        this.CurLevelId -= 140;\r\n\r\n        this.CurLevelId %= 50;\r\n        // let num = this.CurLevelId % 10 + 1;\r\n        let num2 = this.CurLevelId % 5 + 1;\r\n        cc.log(this.CurLevelId, num2)\r\n\r\n        if (num2 == 1 || num2 == 2 || num2 == 3) {\r\n            return this.getLevelNum1()\r\n        }\r\n        else if (num2 == 4) {\r\n            return this.getLevelNum2()\r\n        }\r\n        else if (num2 == 5) {\r\n            // if (num == 5) {\r\n            //     return this.getLevelNum1()\r\n            // }\r\n            // else if (num == 10) {\r\n            return this.getLevelNum3()\r\n            // }\r\n        }\r\n        // }\r\n    }\r\n\r\n\r\n\r\n    getLevelNum1() {\r\n        let list = JSON.parse(this._getItem(Constant.ST_RamdomLevel1, \"\"))\r\n        if (list) {\r\n            // cc.log(list.length, list, \"-------getLevelNum1------list.length\")\r\n            // if (list.length <= 30) {\r\n            //     this._initRandomLevel1()\r\n            //     this._initRandomLevel2()\r\n            //     this._initRandomLevel3()\r\n\r\n            //     this._save();\r\n            //     this.getLevelNum1();\r\n            // }\r\n\r\n            // let idx = Math.floor(Math.random() * list.length);\r\n            // let num = list.splice(idx, 1)[0];\r\n\r\n            // cc.log(this.CurLevelId - 1, \"--------idx\")\r\n            // return list[this.CurLevelId - 2];\r\n\r\n            // cc.log(\"-----------------------是否刷新随机关卡\", this.ResetLevel, this.MaxUnlockLevelCount)\r\n            if (this.CurLevelId == 0 && this.ResetLevel != this.MaxUnlockLevelCount) {\r\n                this.ResetLevel = this.MaxUnlockLevelCount;\r\n                cc.log(\"-----------------------刷新随机关卡\", this.ResetLevel, this.MaxUnlockLevelCount)\r\n                this._initRandomLevel1()\r\n                this._initRandomLevel2()\r\n                this._initRandomLevel3()\r\n                this._save();\r\n                return this.getLevelNum1();\r\n            }\r\n\r\n\r\n            return list[this.CurLevelId];\r\n        }\r\n        else {\r\n            this._initRandomLevel1()\r\n            this._initRandomLevel2()\r\n            this._initRandomLevel3()\r\n\r\n            this._save();\r\n            return this.getLevelNum1();\r\n        }\r\n\r\n    }\r\n\r\n    getLevelNum2() {\r\n        let list = [];\r\n        if (this._getItem(Constant.ST_RamdomLevel2, \"\")) {\r\n            list = JSON.parse(this._getItem(Constant.ST_RamdomLevel2, \"\"))\r\n        }\r\n        cc.log(list);\r\n\r\n        if (list) {\r\n            cc.log(list.length, list, \"-------getLevelNum2------list.length\")\r\n\r\n            // let idx = Math.floor(Math.random() * list.length);\r\n            // let num = list.splice(idx, 1);\r\n\r\n            let idx = 0;\r\n            for (let a = 0; a < this.CurLevelId; a++) {\r\n\r\n                let num = a % 10 + 1;\r\n                let num2 = num % 5 + 1;\r\n\r\n                if (num2 == 3) {\r\n                    idx++;\r\n                }\r\n            }\r\n\r\n            cc.log(\"-----------------------是否刷新随机关卡\", this.ResetLevel, this.MaxUnlockLevelCount)\r\n            if ((idx == 0 && this.ResetLevel != this.MaxUnlockLevelCount) || list.length > 10) {\r\n                this.ResetLevel = this.MaxUnlockLevelCount;\r\n                cc.log(\"-----------------------刷新随机关卡\", this.ResetLevel, this.MaxUnlockLevelCount)\r\n                this._initRandomLevel1()\r\n                this._initRandomLevel2()\r\n                this._initRandomLevel3()\r\n                this._save();\r\n                return this.getLevelNum2();\r\n            }\r\n\r\n            cc.log(idx, \"--------idx\")\r\n\r\n            return list[idx];\r\n        }\r\n        else {\r\n            this._initRandomLevel1()\r\n            this._initRandomLevel2()\r\n            this._initRandomLevel3()\r\n\r\n            this._save();\r\n            return this.getLevelNum2();\r\n        }\r\n\r\n    }\r\n    getLevelNum3() {\r\n        let list = JSON.parse(this._getItem(Constant.ST_RamdomLevel3, \"\"))\r\n        if (list) {\r\n\r\n            cc.log(list.length, list, \"-------getLevelNum3------list.length\")\r\n\r\n            let idx = 0;\r\n            for (let a = 0; a < this.CurLevelId - 1; a++) {\r\n                let num = a % 10 + 1;\r\n                let num2 = num % 5 + 1;\r\n                if (num2 == 5) {\r\n                    idx++;\r\n                }\r\n            }\r\n            // cc.log(idx, \"--------idx\")\r\n            // if (idx == 6) {\r\n            //     this._initRandomLevel1()\r\n            //     this._initRandomLevel2()\r\n            //     this._initRandomLevel3()\r\n            //     this._save();\r\n            //     return this.getLevelNum3();\r\n            // }\r\n\r\n            cc.log(\"-----------------------是否刷新随机关卡\", this.ResetLevel, this.MaxUnlockLevelCount)\r\n            if ((idx == 0 && this.ResetLevel != this.MaxUnlockLevelCount) || list.length > 10) {\r\n                this.ResetLevel = this.MaxUnlockLevelCount;\r\n                cc.log(\"-----------------------刷新随机关卡\", this.ResetLevel, this.MaxUnlockLevelCount)\r\n                this._initRandomLevel1()\r\n                this._initRandomLevel2()\r\n                this._initRandomLevel3()\r\n                this._save();\r\n                return this.getLevelNum3();\r\n            }\r\n            return list[idx];\r\n\r\n\r\n        }\r\n        else {\r\n            this._initRandomLevel1()\r\n            this._initRandomLevel2()\r\n            this._initRandomLevel3()\r\n\r\n            this._save();\r\n            return this.getLevelNum3();\r\n        }\r\n\r\n    }\r\n\r\n    onReset() {\r\n\r\n        this._initRandomLevel1()\r\n        this._initRandomLevel2()\r\n        this._initRandomLevel3()\r\n\r\n        this._save();\r\n        return null;\r\n    }\r\n\r\n\r\n    /**拿随机关卡节点 */\r\n    public get ResetLevel() {\r\n        if (this._getItem(Constant.ST_ResetLevelId, \"\")) {\r\n            return JSON.parse(this._getItem(Constant.ST_ResetLevelId, \"\"));\r\n        }\r\n        else {\r\n            this._dataPool[Constant.ST_ResetLevelId] = \"0\";\r\n            this._save();\r\n            return JSON.parse(this._getItem(Constant.ST_ResetLevelId, \"\"));\r\n        }\r\n    }\r\n    /**拿随机关卡节点 */\r\n    public set ResetLevel(value: any) {\r\n        this._setItem(Constant.ST_ResetLevelId, value + \"\");\r\n    }\r\n\r\n\r\n\r\n    /**拿奖励关卡数据 */\r\n    public get rewardType() {\r\n        if (this._getItem(Constant.ST_RewardType, \"\")) {\r\n            return JSON.parse(this._getItem(Constant.ST_RewardType, \"\"));\r\n        }\r\n        else {\r\n            this._dataPool[Constant.ST_RewardType] = \"0\";\r\n            this._save();\r\n            return JSON.parse(this._getItem(Constant.ST_RewardType, \"\"));\r\n        }\r\n    }\r\n    /**存奖励关卡数据 */\r\n    public set rewardType(value: any) {\r\n        this._setItem(Constant.ST_RewardType, value + \"\");\r\n    }\r\n\r\n\r\n    /**拿转盘数据 */\r\n    public get Lottery() {\r\n        return JSON.parse(this._getItem(Constant.ST_Lottery, \"\"));\r\n    }\r\n    /**存转盘数据 */\r\n    public set Lottery(value: any) {\r\n        this._setItem(Constant.ST_Lottery, value + \"\");\r\n    }\r\n\r\n\r\n    /**拿跳过卡数据 */\r\n    public get SkinVedioNum() {\r\n        if (!this._dataPool[Constant.ST_SkinVedioNum]) {\r\n            this._dataPool[Constant.ST_SkinVedioNum] = \"0\";\r\n            this._save();\r\n        }\r\n        return JSON.parse(this._getItem(Constant.ST_SkinVedioNum, \"\"));\r\n    }\r\n    /**存跳过卡数据 */\r\n    public set SkinVedioNum(value: any) {\r\n        this._setItem(Constant.ST_SkinVedioNum, value + \"\");\r\n    }\r\n\r\n\r\n\r\n\r\n    /**拿炸弹数据 */\r\n    public get BoomNum() {\r\n        if (!this._dataPool[Constant.ST_BoomNum]) {\r\n            this._dataPool[Constant.ST_BoomNum] = \"0\";\r\n            this._save();\r\n        }\r\n        return JSON.parse(this._getItem(Constant.ST_BoomNum, \"\"));\r\n    }\r\n    /**存炸弹数据 */\r\n    public set BoomNum(value: any) {\r\n        this._setItem(Constant.ST_BoomNum, value + \"\");\r\n    }\r\n\r\n\r\n    /**拿无尽分数数据 */\r\n    public get fraction() {\r\n        if (!this._dataPool[Constant.ST_Game2Fraction]) {\r\n            this._dataPool[Constant.ST_Game2Fraction] = \"0\";\r\n            this._save();\r\n        }\r\n        return JSON.parse(this._getItem(Constant.ST_Game2Fraction, \"\"));\r\n    }\r\n    /**存无尽分数数据 */\r\n    public set fraction(value: any) {\r\n        this._setItem(Constant.ST_Game2Fraction, value + \"\");\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    /**初始化每关表情 */\r\n    private _initFaceNum() {\r\n        let FaceNum: number[] = [];\r\n        for (let index = 0; index < Constant.CT_TotalLevelCount; index++) {\r\n            FaceNum.push(0);\r\n        }\r\n        this._dataPool[Constant.ST_FaceNum] = JSON.stringify(FaceNum);\r\n    }\r\n    /**存表情数据 */\r\n    public setFaceNum(id: number, num: number) {\r\n        let FaceInfos: string = this._getItem(Constant.ST_FaceNum, \"1\");\r\n        if (FaceInfos) {\r\n            let FaceInfoArr: number[] = JSON.parse(FaceInfos);\r\n            FaceInfoArr[id] = num;\r\n            this._setItem(Constant.ST_FaceNum, JSON.stringify(FaceInfoArr));\r\n        }\r\n    }\r\n    /**\r\n     * 取表情数据\r\n     */\r\n    public getFaceInfo(id: number): number {\r\n        let FaceInfos: string = this._getItem(Constant.ST_FaceNum, \"\");\r\n        if (FaceInfos) {\r\n            let FaceInfoArr: number[] = JSON.parse(FaceInfos);\r\n            return FaceInfoArr[id];\r\n        }\r\n        return null;\r\n    }\r\n    /**初始化关卡星星数量 */\r\n    private _initStarNum() {\r\n        let StarNum: number[] = [];\r\n        for (let i = 0; i < Constant.CT_TotalLevelCount; i++) {\r\n            StarNum.push(0);\r\n        }\r\n        this._dataPool[Constant.ST_StarNum] = JSON.stringify(StarNum);\r\n    }\r\n    public setIsEnd(boolean: boolean) {\r\n        this.IsEnd = boolean;\r\n    }\r\n    public getIsEnd(boolean: boolean): boolean {\r\n        // cc.log(this.IsEnd, \"999999999999888888888\")\r\n        return this.IsEnd == boolean;\r\n    }    /**存关卡星星数 */\r\n    public setStarNum(id: number, num: number) {\r\n        let StarInfo: string = this._getItem(Constant.ST_StarNum, \"0\");\r\n        if (StarInfo) {\r\n            let StarInfoArr: number[] = JSON.parse(StarInfo);\r\n            // cc.log(StarInfoArr, StarInfo, \"00000000000000\")\r\n            StarInfoArr[id] = num;\r\n            this._setItem(Constant.ST_StarNum, JSON.stringify(StarInfoArr));\r\n        }\r\n    }\r\n    /**取关卡星星数 */\r\n    public getStarInfo(id: number): number {\r\n        let StarInfo: string = this._getItem(Constant.ST_StarNum, \"\");\r\n        // cc.log(StarInfo,id)\r\n        // cc.log(StarInfo);\r\n\r\n        if (StarInfo) {\r\n            let FaceInfoArr: number[] = JSON.parse(StarInfo);\r\n\r\n            // cc.log(FaceInfoArr[id]);\r\n            if (!FaceInfoArr[id]) {\r\n                let StarNum: number[] = [];\r\n                for (let i = 0; i < 80; i++) {\r\n                    StarNum.push(FaceInfoArr[i]);\r\n                }\r\n                for (let i = id; i < id + 400; i++) {\r\n                    StarNum.push(0);\r\n                }\r\n                FaceInfoArr = StarNum;\r\n\r\n                // cc.log(FaceInfoArr, FaceInfoArr[id],\" FaceInfoArr[id]\");\r\n                this._dataPool[Constant.ST_StarNum] = JSON.stringify(StarNum);\r\n                this._save()\r\n                // return this.getSkinInfo(id);\r\n\r\n                return FaceInfoArr[id];\r\n            }\r\n\r\n            return FaceInfoArr[id];\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n    * 初始化关卡信息\r\n    */\r\n    private _initLevelData() {\r\n        let levelitemArr: Levelitem[] = [];\r\n        let levelitem: Levelitem = new Levelitem(`{\"Id\":\"${0}\",\"State\":\"${1}\",\"fraction\":\"${0}\"}`);\r\n        levelitemArr.push(levelitem);\r\n\r\n        let LevelInfos: string = this._getItem(Constant.ST_LevelItem, \"\");\r\n\r\n        for (let i = 0; i < 300; i++) {\r\n            let n = 0;\r\n            if (LevelInfos[i]) {\r\n                n = LevelInfos[i][\"State\"];\r\n            }\r\n            let levelitem: Levelitem = new Levelitem(`{\"Id\":\"${i}\",\"State\":\"${0}\",\"fraction\":\"${0}\"}`);\r\n\r\n            if (n) {\r\n                levelitem = new Levelitem(`{\"Id\":\"${i}\",\"State\":\"${n}\",\"fraction\":\"${0}\"}`);\r\n            }\r\n            levelitemArr.push(levelitem);\r\n        }\r\n        this._dataPool[Constant.ST_LevelItem] = JSON.stringify(levelitemArr);\r\n    }\r\n\r\n    /**\r\n     * 过关时的关卡解锁\r\n     */\r\n    public LevelUnLock(id: number) {\r\n        let LevelInfos: string = this._getItem(Constant.ST_LevelItem, \"\");\r\n        if (LevelInfos) {\r\n            let LevelInfoArr: Levelitem[] = JSON.parse(LevelInfos);\r\n            // cc.log(LevelInfoArr.length, LevelInfoArr, \"------------LevelInfoArr----------\")\r\n            // if (id == 120 - 1) {\r\n            //     LevelInfoArr[id].State = 2;\r\n            //     this.setLevelInfo(id, LevelInfoArr[id]);\r\n            //     return;\r\n            // }\r\n            // cc.log(LevelInfoArr)\r\n            if (LevelInfoArr.length < 300) {\r\n                this._initLevelData();\r\n                this._save();\r\n                this.LevelUnLock(id)\r\n                return;\r\n            }\r\n            // console.log(LevelInfoArr[id + 1].State, LevelInfoArr[id].State, \"LevelInfoArr[id].State\")\r\n            if (id >= 0 && id < LevelInfoArr.length) {\r\n                if (LevelInfoArr[id + 1].State == 2 || LevelInfoArr[id + 1].State == 3) {//如果后一个关卡已解锁\r\n                    LevelInfoArr[id].State = 2;\r\n                    this.setLevelInfo(id, LevelInfoArr[id]);\r\n                } else if (LevelInfoArr[id].State == 2 && LevelInfoArr[id + 1].State == 0) {//如果当前关卡为失败\r\n                    LevelInfoArr[id].State = 2;\r\n                    LevelInfoArr[id + 1].State = 1;\r\n                    this.setLevelInfo(id, LevelInfoArr[id]);\r\n                    this.setLevelInfo(id + 1, LevelInfoArr[id + 1]);\r\n                } else if (LevelInfoArr[id].State == 1) {//如果当前关卡未完成\r\n                    LevelInfoArr[id].State = 2;\r\n                    LevelInfoArr[id + 1].State = 1;\r\n                    this.setLevelInfo(id, LevelInfoArr[id]);\r\n                    this.setLevelInfo(id + 1, LevelInfoArr[id + 1]);\r\n                } else if (LevelInfoArr[id].State == 3) {\r\n                    LevelInfoArr[id].State = 2;\r\n                    this.setLevelInfo(id, LevelInfoArr[id]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 过关时的失败关卡\r\n     */\r\n    public LevelFaild(id: number) {\r\n        let LevelInfos: string = this._getItem(Constant.ST_LevelItem, \"\");\r\n        if (LevelInfos) {\r\n            let LevelInfoArr: Levelitem[] = JSON.parse(LevelInfos);\r\n            if (id >= 0 && id < LevelInfoArr.length) {\r\n                if (LevelInfoArr[id].State == 3) {\r\n                    return;\r\n                }\r\n                LevelInfoArr[id].State = 3;\r\n                this.setLevelInfo(id, LevelInfoArr[id]);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n    * 跳关时的关卡解锁\r\n    */\r\n    public LevelSkipLock(id: number) {\r\n        let LevelInfos: string = this._getItem(Constant.ST_LevelItem, \"\");\r\n        if (LevelInfos) {\r\n            let LevelInfoArr: Levelitem[] = JSON.parse(LevelInfos);\r\n            if (id == Constant.CT_TotalLevelCount - 1) {\r\n                LevelInfoArr[id].State = 3;\r\n                this.setLevelInfo(id, LevelInfoArr[id]);\r\n                return;\r\n            }\r\n            if (id >= 0 && id < LevelInfoArr.length) {\r\n                if (LevelInfoArr[id + 1].State == 2 || LevelInfoArr[id + 1].State == 3) {\r\n                    return;\r\n                }\r\n                LevelInfoArr[id].State = 3;\r\n                LevelInfoArr[id + 1].State = 1;\r\n                this.setLevelInfo(id, LevelInfoArr[id]);\r\n                this.setLevelInfo(id + 1, LevelInfoArr[id + 1]);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 存关卡信息\r\n     * @param id 关卡ID\r\n     * @param info 关卡信息\r\n     */\r\n    public setLevelInfo(id: number, info: Levelitem) {\r\n        let LevelInfos: string = this._getItem(Constant.ST_LevelItem, \"\");\r\n        if (LevelInfos) {\r\n            let LevelInfoArr: Levelitem[] = JSON.parse(LevelInfos);\r\n            if (id >= 0 && id < LevelInfoArr.length) {\r\n                LevelInfoArr[id] = info;\r\n                this._setItem(Constant.ST_LevelItem, JSON.stringify(LevelInfoArr));\r\n            }\r\n            // else {\r\n            //     for (let i = id; i < Constant.CT_TotalLevelCount; i++) {\r\n            //         let levelitem: Levelitem = new Levelitem(`{\"Id\":\"${i}\",\"State\":\"${0}\",\"fraction\":\"${0}\"}`);\r\n            //         LevelInfoArr.push(levelitem);\r\n            //     }\r\n\r\n            //     LevelInfoArr[id] = info;\r\n            //     this._setItem(Constant.ST_LevelItem, JSON.stringify(LevelInfoArr));\r\n            // }\r\n\r\n        }\r\n    }\r\n    /**\r\n     * 取关卡信息\r\n     * @param id 关卡ID\r\n     */\r\n    public getLevelInfo(id: number): Levelitem {\r\n        let LevelInfos: string = this._getItem(Constant.ST_LevelItem, \"\");\r\n        if (LevelInfos) {\r\n            let LevelInfoArr: Levelitem[] = JSON.parse(LevelInfos);\r\n            if (LevelInfoArr.length < 300) {\r\n                cc.log(\"关卡不存在，创建一组数据!\")\r\n                cc.log(LevelInfoArr, \"-------getLevelInfo------\")\r\n                this._initLevelData();\r\n                this._save();\r\n                return this.getLevelInfo(id);\r\n            }\r\n            if (id >= 0 && id < LevelInfoArr.length) {\r\n                return LevelInfoArr[id];\r\n            }\r\n            // let levelitemArr: Levelitem[] = [];\r\n            // for (let i = 0; i < LevelInfoArr.length; i++) {\r\n            //     let info = this.getLevelInfo(i);\r\n            //     let id = info.Id;\r\n            //     let State = info.State;\r\n            //     let fraction = info.fraction;\r\n            //     let levelitem: Levelitem = new Levelitem(`{\"Id\":\"${id}\",\"State\":\"${State}\",\"fraction\":\"${fraction}\"}`);\r\n            //     levelitemArr.push(levelitem);\r\n            // }\r\n            // for (let i = 80; i < Constant.CT_TotalLevelCount; i++) {\r\n            //     let levelitem: Levelitem = new Levelitem(`{\"Id\":\"${i}\",\"State\":\"${0}\",\"fraction\":\"${0}\"}`);\r\n            //     levelitemArr.push(levelitem);\r\n            // }\r\n            // this._dataPool[Constant.ST_LevelItem] = JSON.stringify(levelitemArr);\r\n        }\r\n        // else {\r\n        //     cc.log(\"关卡不存在，创建一组数据!\")\r\n\r\n        // }\r\n\r\n\r\n        return null;\r\n    }\r\n    /**初始化皮肤 */\r\n    private _initSkinData() {\r\n        let price: number[] = [800, 1200, 2000, 3500, 5000, 8000];\r\n        let skinInfoArr: SkinInfo[] = [];\r\n        let skinInfo: SkinInfo = new SkinInfo(`{\"Id\":\"${0}\",\"State\":\"2\",\"Price\":\"${price[0]}\"}`);\r\n        skinInfoArr.push(skinInfo);\r\n        for (let i = 1; i < price.length; i++) {\r\n            let skinInfo: SkinInfo = new SkinInfo(`{\"Id\":\"${i}\",\"State\":\"0\",\"Price\":\"${price[i]}\"}`);\r\n            skinInfoArr.push(skinInfo);\r\n        }\r\n        // cc.log(\"初始化皮肤数据：\", JSON.stringify(skinInfoArr));\r\n        this._dataPool[Constant.ST_SkinInfo] = JSON.stringify(skinInfoArr);\r\n\r\n\r\n        let price2: number[] = [500, 1000, 1500, 2500, 4000, 6000, 9000];\r\n        let skinInfoArr2: SkinInfo[] = [];\r\n        let skinInfo2: SkinInfo = new SkinInfo(`{\"Id\":\"${0}\",\"State\":\"2\",\"Price\":\"${price2[0]}\"}`);\r\n        skinInfoArr2.push(skinInfo2);\r\n        for (let i = 1; i < price2.length; i++) {\r\n            let skinInfo2: SkinInfo = new SkinInfo(`{\"Id\":\"${i}\",\"State\":\"0\",\"Price\":\"${price2[i]}\"}`);\r\n            skinInfoArr2.push(skinInfo2);\r\n        }\r\n        // cc.log(\"初始化皮肤数据：\", JSON.stringify(skinInfoArr));\r\n        this._dataPool[Constant.ST_BallbonSkinInfo] = JSON.stringify(skinInfoArr2);\r\n\r\n    }\r\n\r\n\r\n    /**初始化店铺信息 */\r\n    private _initSjShopData() {\r\n        let data: any = { \"shop\": 1, \"zhuozi\": [1, 1, 1, 1,] };\r\n        this._dataPool[Constant.SjShop] = JSON.stringify(data);\r\n        // cc.log(this._dataPool[Constant.SjShop], \"99999999999999\")\r\n    }\r\n    /**存最后一次签到的时间 */\r\n    public set LastBonusTime(value: string) {\r\n\r\n        this._setItem(Constant.LastDailyBonusTime, value);\r\n    }\r\n\r\n    /**取最后一次签到的时间 */\r\n    public get LastBonusTime() {\r\n        let ret = this._getItem(Constant.LastDailyBonusTime, \"0\");\r\n        if (!ret) {\r\n            ret = \"0\";\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n\r\n    /**存无尽模式是否新手 */\r\n    public set isNovice(value: string) {\r\n\r\n        this._setItem(Constant.ST_IsGame2Novice, value);\r\n    }\r\n\r\n    /**取无尽模式是否新手 */\r\n    public get isNovice() {\r\n        let ret = this._getItem(Constant.ST_IsGame2Novice, \"0\");\r\n        if (!ret) {\r\n            ret = \"0\";\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n\r\n    /**存最后奖励的天数 */\r\n    public set LastBonusIndex(value: number) {\r\n        this._setItem(Constant.LastDailyBonusIndex, value.toString());\r\n    }\r\n\r\n\r\n    /**取最后奖励的天数 */\r\n    public get LastBonusIndex() {\r\n        let ret = this._getItem(Constant.LastDailyBonusIndex, \"0\");\r\n        if (!ret) {\r\n            ret = 0;\r\n        }\r\n        return parseInt(ret);\r\n    }\r\n\r\n    /**拿金币数据 */\r\n    public get CoinCount() {\r\n        return parseInt(this._getItem(Constant.ST_CoinCount, \"0\"));\r\n    }\r\n    /**存金币数据 */\r\n    public set CoinCount(value: number) {\r\n\r\n        this._setItem(Constant.ST_CoinCount, value + \"\");\r\n        cc.game.emit(Constant.E_UPDATE_COIN);\r\n        // cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_STAR_CHANGE });\r\n    }\r\n    /**拿店铺数据 */\r\n    public get SjShop() {\r\n\r\n        return JSON.parse(this._getItem(Constant.SjShop, \"\"));\r\n    }\r\n    /**存店铺数据 */\r\n    public set SjShop(value: number) {\r\n        this._setItem(Constant.SjShop, value.toString());\r\n    }\r\n\r\n\r\n    /**拿最大关卡数数据 */\r\n    public get MaxLevelId() {\r\n        if (this._getItem(Constant.ST_MaxLevelId, \"\")) {\r\n\r\n            return JSON.parse(this._getItem(Constant.ST_MaxLevelId, \"\"));\r\n        }\r\n        else {\r\n            this._dataPool[Constant.ST_MaxLevelId] = \"\" + this.CurLevelId;\r\n            this._setItem(Constant.ST_MaxLevelId, this.CurLevelId.toString());\r\n            return JSON.parse(this._getItem(Constant.ST_MaxLevelId, \"\"));\r\n        }\r\n    }\r\n    /**存最大关卡数据 */\r\n    public set MaxLevelId(value: number) {\r\n        this._setItem(Constant.ST_MaxLevelId, value.toString());\r\n    }\r\n\r\n\r\n\r\n    public get CurLevelId() {\r\n        return parseInt(this._getItem(Constant.ST_CurLevelId, \"0\"));\r\n    }\r\n    public set CurLevelId(value: number) {\r\n        // if (value >= 119) {\r\n        //     value = 119;//-1\r\n        // }\r\n        cc.log(this.MaxLevelId, value, \"----------this.MaxLevelId, value------\")\r\n        if (this.MaxLevelId < value) {\r\n            this.MaxLevelId = value\r\n        }\r\n        this._setItem(Constant.ST_CurLevelId, value + \"\");\r\n        cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.ST_CurLevelId });\r\n    }\r\n\r\n    public get MaxUnlockLevelCount() {\r\n        return parseInt(this._getItem(Constant.ST_MaxUnlockLevelCount, \"1\"));\r\n    }\r\n    public set MaxUnlockLevelCount(value: number) {\r\n        this._setItem(Constant.ST_MaxUnlockLevelCount, value + \"\");\r\n    }\r\n\r\n    public get AudioOn() {\r\n        return this._getItem(Constant.ST_AudioOn, \"1\") == \"1\";\r\n    }\r\n    public set AudioOn(value: boolean) {\r\n        this._setItem(Constant.ST_AudioOn, value ? \"1\" : \"0\");\r\n    }\r\n\r\n    public get AudioEffectOn() {\r\n        return this._getItem(Constant.ST_AudioEffectOn, \"1\") == \"1\";\r\n    }\r\n    public set AudioEffectOn(value: boolean) {\r\n        this._setItem(Constant.ST_AudioEffectOn, value ? \"1\" : \"0\");\r\n    }\r\n    public get ShockOn() {\r\n        return this._getItem(Constant.ST_ShockOn, \"1\") == \"1\";\r\n    }\r\n    public set ShockOn(value: boolean) {\r\n        this._setItem(Constant.ST_ShockOn, value ? \"1\" : \"0\");\r\n    }\r\n\r\n    public get CurSkinId() {\r\n        return parseInt(this._getItem(Constant.ST_CurSkinId, \"0\"));\r\n    }\r\n\r\n    public set CurSkinId(value: number) {\r\n        if (value == this.CurSkinId) {\r\n            return;\r\n        }\r\n\r\n        let preId: number = this.CurSkinId;\r\n        let skinInfo: SkinInfo = this.getSkinInfo(preId);\r\n        if (skinInfo) {\r\n            skinInfo.State = 1;\r\n            this.setSkinInfo(preId, skinInfo);\r\n        }\r\n\r\n        let curSkinInfo: SkinInfo = this.getSkinInfo(value);\r\n        if (curSkinInfo) {\r\n            curSkinInfo.State = 2;\r\n            this.setSkinInfo(value, curSkinInfo);\r\n        }\r\n\r\n        this._setItem(Constant.ST_CurSkinId, value + \"\");\r\n        //cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_SELECT_SKIN, skinId: value });\r\n    }\r\n\r\n\r\n\r\n    // 取人物皮肤信息\r\n    public getSkinInfo(id: number) {\r\n        let skinInfos: string = this._getItem(Constant.ST_SkinInfo, \"\");\r\n        // cc.log(skinInfos);\r\n\r\n        if (skinInfos) {\r\n            let skinInfoArr: SkinInfo[] = JSON.parse(skinInfos);\r\n            if (id >= 0 && id < skinInfoArr.length) {\r\n                return skinInfoArr[id];\r\n            }\r\n        } else {\r\n            this._initSkinData();\r\n            return this.getSkinInfo(id);\r\n        }\r\n    }\r\n    // 存人物皮肤信息\r\n    public setSkinInfo(id: number, info: SkinInfo) {\r\n        let skinInfos: string = this._getItem(Constant.ST_SkinInfo, \"\");\r\n        if (skinInfos) {\r\n            let skinInfoArr: SkinInfo[] = JSON.parse(skinInfos);\r\n            if (id >= 0 && id < skinInfoArr.length) {\r\n                skinInfoArr[id] = info;\r\n                this._setItem(Constant.ST_SkinInfo, JSON.stringify(skinInfoArr));\r\n                //cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_SKIN_STATE_CHANGE, skinId: id });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**气球皮肤id */\r\n    public get CurBallbonSkinId() {\r\n        return parseInt(this._getItem(Constant.ST_CurBallbonSkinId, \"0\"));\r\n    }\r\n\r\n    public set CurBallbonSkinId(value: number) {\r\n        if (value == this.CurBallbonSkinId) {\r\n            return;\r\n        }\r\n\r\n        cc.log(value, \"-------CurBallbonSkinId---\")\r\n        let preId: number = this.CurBallbonSkinId;\r\n        let skinInfo: SkinInfo = this.getBallbonSkinInfo(preId);\r\n        if (skinInfo) {\r\n            skinInfo.State = 1;\r\n            this.setBallbonSkinInfo(preId, skinInfo);\r\n        }\r\n\r\n        let curSkinInfo: SkinInfo = this.getBallbonSkinInfo(value);\r\n        if (curSkinInfo) {\r\n            curSkinInfo.State = 2;\r\n            this.setBallbonSkinInfo(value, curSkinInfo);\r\n        }\r\n\r\n        this._setItem(Constant.ST_CurBallbonSkinId, value + \"\");\r\n        //cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_SELECT_SKIN, skinId: value });\r\n    }\r\n\r\n\r\n\r\n    // 取气球皮肤信息\r\n    public getBallbonSkinInfo(id: number) {\r\n        let skinInfos: string = this._getItem(Constant.ST_BallbonSkinInfo, \"\");\r\n        // cc.log(skinInfos);\r\n\r\n        if (skinInfos) {\r\n            let skinInfoArr: SkinInfo[] = JSON.parse(skinInfos);\r\n            if (id >= 0 && id < skinInfoArr.length) {\r\n                return skinInfoArr[id];\r\n            }\r\n        } else {\r\n            this._initSkinData();\r\n            return this.getSkinInfo(id);\r\n        }\r\n    }\r\n    // 存气球皮肤信息\r\n    public setBallbonSkinInfo(id: number, info: SkinInfo) {\r\n        let skinInfos: string = this._getItem(Constant.ST_BallbonSkinInfo, \"\");\r\n        if (skinInfos) {\r\n            let skinInfoArr: SkinInfo[] = JSON.parse(skinInfos);\r\n            cc.log(info, skinInfoArr, \"setBallbonSkinInfo\")\r\n            if (id >= 0 && id < skinInfoArr.length) {\r\n                skinInfoArr[id] = info;\r\n                this._setItem(Constant.ST_BallbonSkinInfo, JSON.stringify(skinInfoArr));\r\n                //cc.game.emit(Constant.E_GAME_LOGIC, { type: Constant.E_SKIN_STATE_CHANGE, skinId: id });\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 随机获取一个未解锁的人物皮肤id\r\n     */\r\n    public getRandomLockSkin() {\r\n        let ids: number[] = [];\r\n        let skinInfos: string = this._getItem(Constant.ST_SkinInfo, \"\");\r\n        if (skinInfos) {\r\n            let skinInfoArr: SkinInfo[] = JSON.parse(skinInfos);\r\n            for (let i = 0; i < skinInfoArr.length; i++) {\r\n                if (skinInfoArr[i].State == 0) {\r\n                    ids.push(skinInfoArr[i].Id);\r\n                }\r\n            }\r\n            if (ids.length > 0) {\r\n                let idx: number = Math.floor(Math.random() * (ids.length));\r\n                return ids[idx];\r\n            }\r\n            return Math.floor(Math.random() * (skinInfoArr.length - 1)) + 1;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n    /**\r\n     * 随机获取一个未解锁的气球皮肤id\r\n     */\r\n    public getRandomLockBalloonSkin() {\r\n        let ids: number[] = [];\r\n        let skinInfos: string = this._getItem(Constant.ST_BallbonSkinInfo, \"\");\r\n        if (skinInfos) {\r\n            let skinInfoArr: SkinInfo[] = JSON.parse(skinInfos);\r\n            for (let i = 0; i < skinInfoArr.length; i++) {\r\n                if (skinInfoArr[i].State == 0) {\r\n                    ids.push(skinInfoArr[i].Id);\r\n                }\r\n            }\r\n            if (ids.length > 0) {\r\n                let idx: number = Math.floor(Math.random() * (ids.length));\r\n                return ids[idx];\r\n            }\r\n            return Math.floor(Math.random() * (skinInfoArr.length - 1)) + 1;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n\r\n    private _getItem(key: string, defaultValue: string) {\r\n        if (this._dataPool[key]) {\r\n            // this._dataPool[key]={};\r\n            return this._dataPool[key];\r\n        }\r\n        return defaultValue;\r\n    }\r\n\r\n    private _setItem(key: string, value: string) {\r\n        this._dataPool[key] = value;\r\n        this._save();\r\n    }\r\n\r\n    private _save() {\r\n        cc.sys.localStorage.setItem(Constant.ST_GameData, JSON.stringify(this._dataPool));\r\n    }\r\n\r\n}\r\n\r\n"]}