{"version":3,"sources":["assets\\script\\Game\\stone.ts"],"names":[],"mappings":";;;;;AAAA,8CAA6C;AAC7C,kDAA4C;AAEtC,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAmC,yBAAY;IAD/C;QAAA,qEA0DC;QAvDG,QAAE,GAAiB,IAAI,CAAC;QAExB,WAAK,GAAY,KAAK,CAAC;;IAqD3B,CAAC;IApDG,wBAAwB;IAExB,yBAAS,GAAT;QACI,EAAE,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAA;IAClC,CAAC;IAED,8BAAc,GAAd,UAAe,OAAO,EAAE,IAAI,EAAE,KAAK;QAAnC,iBAaC;QAZG,IAAI,eAAM,CAAC,QAAQ,CAAC,SAAS,IAAI,OAAO,EAAE;YAEtC,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,GAAG,CAAC;SAC9B;QACD,IAAI,KAAK,CAAC,GAAG,IAAI,cAAG,CAAC,MAAM,EAAE;YACzB,IAAI,IAAI,CAAC,KAAK;gBAAE,OAAO;YACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,YAAY,CAAC;gBACd,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACxB,CAAC,EAAE,IAAI,CAAC,CAAA;SACX;IAEL,CAAC;IACD,sBAAM,GAAN;QACI,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IACnD,CAAC;IAED,qBAAK,GAAL;QACI,IAAI,eAAM,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,IAAI,eAAM,CAAC,OAAO,CAAC,UAAU,IAAI,GAAG,EAAE;YACrE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;SAC5B;aACI,IAAI,eAAM,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE;YACtC,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;SAC5B;aACI,IAAI,eAAM,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,IAAI,eAAM,CAAC,OAAO,CAAC,UAAU,IAAI,GAAG,EAAE;YAC1E,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;SAC5B;aACI,IAAI,eAAM,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE;YACtC,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;SAC5B;aACI,IAAI,eAAM,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE;YACtC,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;SAC5B;QACD,8CAA8C;QAC9C,kCAAkC;QAClC,IAAI;IACR,CAAC;IAED,sBAAM,GAAN,UAAO,EAAE;QACL,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC;QAC/B,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,QAAQ,IAAI,EAAE;YAAE,OAAO;QAC5G,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YACb,IAAI,CAAC,EAAE,CAAC,cAAc,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAA;SAC1C;IACL,CAAC;IAxDgB,KAAK;QADzB,OAAO;OACa,KAAK,CAyDzB;IAAD,YAAC;CAzDD,AAyDC,CAzDkC,EAAE,CAAC,SAAS,GAyD9C;kBAzDoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["import { cocosz } from \"../Framework/CocosZ\";\r\nimport { tag } from \"../Framework/Constant\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class stone extends cc.Component {\r\n\r\n    rb: cc.RigidBody = null;\r\n\r\n    isDes: boolean = false;\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onDestroy() {\r\n        cc.log(\"------------stone被销毁\")\r\n    }\r\n\r\n    onBeginContact(contact, self, other) {\r\n        if (cocosz.sceneMgr.sceneName == \"Game2\") {\r\n\r\n            this.rb.gravityScale = 0.5;\r\n        }\r\n        if (other.tag == tag.bigFan) {\r\n            if (this.isDes) return;\r\n            this.isDes = true;\r\n            this.scheduleOnce(() => {\r\n                this.node.destroy();\r\n            }, 0.05)\r\n        }\r\n\r\n    }\r\n    onLoad() {\r\n        this.rb = this.node.getComponent(cc.RigidBody);\r\n    }\r\n\r\n    start() {\r\n        if (cocosz.dataMgr.CurLevelId == 55 || cocosz.dataMgr.CurLevelId == 136) {\r\n            this.rb.gravityScale = 9;\r\n        }\r\n        else if (cocosz.dataMgr.CurLevelId == 42) {\r\n            this.rb.gravityScale = 5;\r\n        }\r\n        else if (cocosz.dataMgr.CurLevelId == 35 || cocosz.dataMgr.CurLevelId == 124) {\r\n            this.rb.gravityScale = 5;\r\n        }\r\n        else if (cocosz.dataMgr.CurLevelId == 11) {\r\n            this.rb.gravityScale = 8;\r\n        }\r\n        else if (cocosz.dataMgr.CurLevelId == 94) {\r\n            this.rb.gravityScale = 1;\r\n        }\r\n        // else if (cocosz.dataMgr.CurLevelId == 80) {\r\n        //     this.rb.gravityScale = 0.3;\r\n        // }\r\n    }\r\n\r\n    update(dt) {\r\n        let v = this.rb.linearVelocity;\r\n        if (this.node.parent.name != \"levelMgr\" || this.node.parent.getComponent(\"levelNum\").curLevel == 13) return;\r\n        if (v.y <= -500) {\r\n            this.rb.linearVelocity = cc.v2(0, -500)\r\n        }\r\n    }\r\n}\r\n"]}