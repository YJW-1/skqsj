{"version":3,"sources":["assets\\script\\Game\\role.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { cocosz, } from \"../Framework/CocosZ\";\r\nimport Constant, { tag, PanelName, PageName } from \"../Framework/Constant\";\r\n\r\nimport Msg from \"../Framework/Msg\";\r\n\r\nimport { uiGame } from \"../Ui/UiGame\";\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class role extends cc.Component {\r\n\r\n\r\n\r\n    @property(cc.Sprite)\r\n    bodySp: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    right_armSp: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    left_armSp: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    right_legSp: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    left_legSp: cc.Sprite = null;\r\n\r\n\r\n    @property(cc.Node)\r\n    tie: cc.Node = null;\r\n    @property(cc.Node)\r\n    tie2: cc.Node = null;\r\n\r\n    gameBg: cc.Node = null;\r\n    ui: cc.Node = null\r\n\r\n\r\n    //最后停下在地图数组中位置\r\n    pos: any = null;\r\n    //地图数组\r\n    map: any = null;\r\n    //方向列表\r\n    angleList: any = null;\r\n    //是否在动作中\r\n    isAction: any = null;\r\n\r\n    //摄像机移动动画\r\n    cameraAction: any = null;\r\n    //摄像机\r\n    camera: cc.Node = null;\r\n    //监听\r\n    listen: cc.Node = null;\r\n    //主角身体\r\n    body: cc.Node = null;\r\n    //主角头部\r\n    head: cc.Node = null;\r\n\r\n\r\n    //界面摄像头\r\n    uiCamera: cc.Node = null;\r\n    //背景摄像头\r\n    bgCamera: cc.Node = null;\r\n\r\n    //主角表情动画\r\n    animation: cc.Animation = null;\r\n\r\n    //动作返回值\r\n    action: any = null;\r\n\r\n\r\n    //是否正在移动\r\n    isMove: boolean = false;\r\n\r\n    //是否正在移动\r\n    isMoveEffectType: boolean = false;\r\n\r\n\r\n    //是否失败\r\n    isFailed: boolean = false;\r\n\r\n    //是否成功\r\n    isSucceed: boolean = false;\r\n    //是否成功\r\n    isSucceed2: boolean = false;\r\n\r\n\r\n    //是否需要传送\r\n    isConveyorBelt: boolean = false;\r\n    //是否在复活中\r\n    isResurrection: boolean = false;\r\n\r\n\r\n    //摄像机是否跟随\r\n    isFollow: boolean = false;\r\n\r\n    //碰到弹簧的类型\r\n    springType: number = -1;\r\n\r\n    //复活等待时间\r\n    resurrectionDelayTime: number = 0;\r\n\r\n    //记录失败前的位置\r\n    lastPos: any = {};\r\n\r\n    //人物角度\r\n    angle: number = 0;\r\n\r\n    //关卡数据的长度\r\n    listLength1: number = 0;\r\n    //关卡数据的宽度\r\n    listLength2: number = 0;\r\n\r\n\r\n    //传送间隔\r\n    ConveyorBeltDelayTime: number = 0;\r\n\r\n    //盾牌持续时间\r\n    defTime: number = 0;\r\n\r\n    //改变值\r\n    changeDect: any = [];\r\n\r\n    aTime: number = 0;\r\n\r\n\r\n    levelNum: number = 2;\r\n\r\n\r\n    getMapByPosX(x: number) {\r\n        let num = 0;\r\n        let a = [];\r\n        while (num++ < 120) {\r\n            let data = cocosz.resMgr.getRes(\"map\" + num, cc.Prefab).data;\r\n            // cc.log(data, num);\r\n            for (let child of data.children) {\r\n                if (child.name == \"role\") {\r\n                    if (Math.abs(Math.round(child.x - x)) < 2) {\r\n                        cc.log(child.x)\r\n                        a.push(cocosz.resMgr.getRes(\"map\" + num, cc.Prefab));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let idx = Math.floor(a.length * Math.random());\r\n        cc.log(a, idx, \"---------------------idx\");\r\n        return a[idx];\r\n    }\r\n\r\n    private _initGame(map) {\r\n        let Game = cc.find(\"Canvas/Game\");\r\n        cc.log(Game)\r\n        for (let child of Game.children) {\r\n            if (child.name != \"role\") {\r\n                child.destroy();\r\n            }\r\n        }\r\n\r\n        Game.y += 3000;\r\n\r\n        cocosz.gameMgr.isGameOver = false;\r\n        cocosz.gameMgr.isLeftBalloon = false;\r\n        cocosz.gameMgr.isrightBalloon = false;\r\n        cocosz.gameMgr.isOpen = false;\r\n        cocosz.gameMgr.isFeed = false;\r\n\r\n\r\n        // let map: cc.Prefab = cocosz.resMgr.getRes(\"map\" + (cocosz.dataMgr.CurLevelId + 1), cc.Prefab);\r\n\r\n        for (let child of map.data.children) {\r\n            if (child.name == \"mapMaskPoint\") {\r\n                let component = child.getComponents(cc.PhysicsPolygonCollider);\r\n                let list = [];\r\n                for (let poly of component) {\r\n                    if (poly.points) {\r\n                        list.push(poly.points)\r\n                    }\r\n                }\r\n\r\n                let prefab = cocosz.resMgr.getRes(\"mapMask\", cc.Prefab)\r\n                let node = cc.instantiate(prefab);\r\n                Game.addChild(node);\r\n                node.zIndex -= 999;\r\n                let mask: cc.Mask = node.getComponent(cc.Mask);\r\n                let graphics = mask._graphics;\r\n                let graphics2: cc.Graphics = node.getChildByName(\"line\").getComponent(cc.Graphics);\r\n                let rb = node.addComponent(cc.RigidBody);\r\n                rb.type = cc.RigidBodyType.Static;\r\n\r\n                for (let point of list) {\r\n                    let collider = node.addComponent(cc.PhysicsPolygonCollider);\r\n                    // let collider = node.addComponent(cc.PhysicsChainCollider);\r\n                    cc.log(collider.tag, \"----------collider.tag\");\r\n                    collider.tag = 0;\r\n                    collider.points = [].concat(point);\r\n                    collider.apply();\r\n\r\n                    graphics.moveTo(point[0].x, point[0].y);\r\n\r\n                    for (let v2 of point) {\r\n                        graphics.lineTo(v2.x, v2.y);\r\n                    }\r\n                    graphics.fill();\r\n\r\n                    graphics2.lineWidth = 15;\r\n                    graphics2.strokeColor = new cc.Color(40, 33, 13, 255);\r\n                    graphics2.moveTo(point[0].x, point[0].y);\r\n                    for (let v2 of point) {\r\n                        graphics2.lineTo(v2.x, v2.y);\r\n                    }\r\n                    graphics2.lineTo(point[0].x, point[0].y);\r\n                    graphics2.stroke();\r\n                }\r\n\r\n\r\n            }\r\n            else if (child.name == \"sandMaskPoint\") {\r\n\r\n                // let point = child.getComponent(cc.PhysicsPolygonCollider).points;\r\n                let component = child.getComponents(cc.PhysicsPolygonCollider);\r\n                let list = [];\r\n                for (let poly of component) {\r\n                    if (poly.points) {\r\n                        list.push(poly.points)\r\n                    }\r\n                }\r\n\r\n                let prefab = cocosz.resMgr.getRes(\"sandMask\", cc.Prefab)\r\n                let node = cc.instantiate(prefab);\r\n                Game.addChild(node);\r\n                node.zIndex -= 998;\r\n                if (cocosz.dataMgr.CurLevelId == 119) {\r\n                    node.zIndex += 998;\r\n                };\r\n\r\n                let script = node.getChildByName(\"node_dirty\").getComponent(\"test\");\r\n                script.reset(list);\r\n                let mask: cc.Mask = node.getComponent(cc.Mask);\r\n                let graphics = mask._graphics;\r\n\r\n                // graphics.moveTo(point[0].x, point[0].y);\r\n                // for (let v2 of point) {\r\n                //     graphics.lineTo(v2.x, v2.y);\r\n                // }\r\n                // graphics.fill();\r\n\r\n                for (let point of list) {\r\n                    graphics.moveTo(point[0].x, point[0].y);\r\n                    for (let v2 of point) {\r\n                        graphics.lineTo(v2.x, v2.y);\r\n                    }\r\n                    graphics.fill();\r\n                }\r\n            }\r\n\r\n\r\n            else if (child.name == \"baffle\") {\r\n\r\n                let prefab = cocosz.resMgr.getRes(\"baffle\", cc.Prefab);\r\n                let node = cc.instantiate(prefab);\r\n                node.scale = child.scale;\r\n                node.angle = child.angle;\r\n                node.setPosition(child.getPosition());\r\n                Game.addChild(node);\r\n            }\r\n\r\n\r\n            else if (child.name == \"fan\") {\r\n                let prefab = cocosz.resMgr.getRes(\"fan\", cc.Prefab);\r\n                let node = cc.instantiate(prefab);\r\n                node.scale = child.scale;\r\n                node.angle = child.angle;\r\n                node.setPosition(child.getPosition());\r\n                Game.addChild(node);\r\n            }\r\n\r\n\r\n            else if (child.name == \"handTips\") {\r\n                let prefab = cocosz.resMgr.getRes(\"handTips\", cc.Prefab);\r\n                let node = cc.instantiate(prefab);\r\n                node.scale = child.scale;\r\n                node.angle = child.angle;\r\n                node.setPosition(child.getPosition());\r\n                Game.addChild(node);\r\n            }\r\n\r\n\r\n            else if (child.name == \"propMoveFloor\" || child.name == \"enemy\" || child.name == \"prop\") {\r\n                let parent = new cc.Node;\r\n                parent.name == child.name;\r\n                for (let child2 of child.children) {\r\n                    let prefab = cocosz.resMgr.getRes(child2.name, cc.Prefab);\r\n                    let node = cc.instantiate(prefab);\r\n                    if (child2.name == \"carton\") {\r\n                        parent.zIndex += 1003\r\n                    }\r\n                    node.scaleX = child2.scaleX;\r\n                    node.scaleY = child2.scaleY;\r\n                    node.width = child2.width;\r\n                    node.angle = child2.angle;\r\n                    if (child2.name == \"nimiCactus\") {\r\n                        node.angle += 800 * Math.random()\r\n                    }\r\n                    if (child2.name == \"floor11\") {\r\n                        node.getChildByName(\"rocket\").scaleX = child2.getChildByName(\"rocket\").scaleX;\r\n                        // node.getChildByName(\"rocket\").x = -child2.getChildByName(\"rocket\").x;\r\n                    }\r\n                    if (child2.name == \"floor17\") {\r\n                        let floor = child2.getChildByName(\"floor\");\r\n                        node.getChildByName(\"floor\").angle = floor.angle;\r\n                        node.getChildByName(\"floor\").scaleX = floor.scaleX;\r\n                        node.getChildByName(\"floor\").scaleY = floor.scaleY;\r\n                        node.getChildByName(\"floor\").x = floor.x;\r\n                        node.getChildByName(\"floor\").y = floor.y;\r\n                        // node.getChildByName(\"rocket\").x = -child2.getChildByName(\"rocket\").x;\r\n                    }\r\n                    if (child2.name == \"floorRotetaCom\") {\r\n                        let floor = child2.getChildByName(\"floor\");\r\n                        let direction = child2.getChildByName(\"direction\");\r\n                        node.getChildByName(\"floor\").angle = floor.angle;\r\n                        node.getChildByName(\"floor\").scaleX = floor.scaleX;\r\n                        node.getChildByName(\"floor\").scaleY = floor.scaleY;\r\n\r\n\r\n                        node.getChildByName(\"direction\").angle = direction.angle;\r\n                        node.getChildByName(\"direction\").scaleX = direction.scaleX;\r\n                        node.getChildByName(\"direction\").scaleY = direction.scaleY;\r\n                    }\r\n                    node.setPosition(child2.getPosition());\r\n                    parent.addChild(node);\r\n                }\r\n                Game.addChild(parent);\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n    onSucceed() {\r\n        cc.log(\"游戏胜利\");\r\n        if (cocosz.gameMgr.isGameOver) return;\r\n        cocosz.gameMgr.isGameOver = true;\r\n        cc.log(\"---------cocosz.gameMgr.surplusLevelNum----\", cocosz.gameMgr.surplusLevelNum);\r\n\r\n        if (cocosz.gameMgr.surplusLevelNum > 0) {\r\n            cocosz.gameMgr.surplusLevelNum--;\r\n            cocosz.gameMgr.touchNum++;\r\n            cc.find(\"Canvas/succeedPoint\").y += 1600;\r\n            cc.find(\"Canvas/beforeSucceedPoint\").y += 1600;\r\n            cocosz.gameMgr.isGameOver = false;\r\n            this.animation.play(\"normal\")\r\n            this.onRefreshTure();\r\n\r\n            cc.tween(this.camera)\r\n                .by(1, { position: cc.v2(0, 1600) })\r\n                .call(() => {\r\n                    this.onRefreshFalse();\r\n                })\r\n                .start()\r\n            // cc.tween(this.uiCamera)\r\n            //     .by(1, { position: cc.v2(0, 1600) })\r\n            //     .start()\r\n\r\n            return;\r\n        }\r\n        cocosz.gameMgr.fraction = uiGame.fraction;\r\n\r\n        this.scheduleOnce(() => {\r\n            if ((cc.sys.platform === cc.sys.VIVO_GAME || cc.sys.platform === cc.sys.OPPO_GAME) && cocosz.dataMgr.ShockOn) {\r\n                lieyou_SdkManager.vibrateLong();\r\n            }\r\n\r\n            if (cc.sys.platform === cc.sys.WECHAT_GAME && cocosz.dataMgr.ShockOn) {\r\n                window[\"wx\"].vibrateLong();\r\n            }\r\n        }, 0.1)\r\n        cocosz.audioMgr.playBeforeVectoryEffect();\r\n        cocosz.unscheduleAllCallbacks();\r\n        // if (cocosz.gameMgr.isOpenRewardLevel) {\r\n        //     cocosz.gameMgr.isGameOver = false;\r\n        //     if (cocosz.dataMgr.rewardType == 0) {\r\n        //         cocosz.dataMgr.rewardType = 1\r\n        //         cocosz.sceneMgr.loadScene(\"rewardLevel\", () => {\r\n        //             Msg.Show(\"奖励关卡来临\")\r\n        //         });\r\n        //     }\r\n        //     else {\r\n\r\n        //         cocosz.dataMgr.rewardType = 0;\r\n        //         cocosz.sceneMgr.loadScene(\"rewardLevel2\", () => {\r\n        //             Msg.Show(\"奖励关卡来临\")\r\n        //         });\r\n        //     }\r\n        //     return;\r\n        // }\r\n\r\n\r\n\r\n\r\n        if (cocosz.gameMgr.isOpenLottery) {\r\n            cocosz.gameMgr.isOpenLottery = false;\r\n            cocosz.gameMgr.LevelNum2 = 0;\r\n            cocosz.audioMgr.playbtnEffect();\r\n            cocosz.uiMgr.openPanel(PanelName.UiLottery);\r\n\r\n            Msg.Show(\"一直抽一直爽\");\r\n\r\n            return;\r\n        }\r\n\r\n        this.scheduleOnce(() => {\r\n            cocosz.uiMgr.openPanel(PanelName.UiBeforeSucceed);\r\n        }, 1.5)\r\n\r\n\r\n        // if (cc.sys.platform === cc.sys.VIVO_GAME && cocosz.dataMgr.ShockOn) {\r\n        //     lieyou_SdkManager.vibrateLong();\r\n        // }\r\n\r\n    }\r\n\r\n    onFailed() {\r\n        if (cocosz.gameMgr.isGameOver) return;\r\n        cocosz.gameMgr.isGameOver = true;\r\n        cocosz.unscheduleAllCallbacks();\r\n\r\n        this.scheduleOnce(() => {\r\n\r\n            if ((cc.sys.platform === cc.sys.VIVO_GAME || cc.sys.platform === cc.sys.OPPO_GAME) && cocosz.dataMgr.ShockOn) {\r\n                lieyou_SdkManager.vibrateLong();\r\n            }\r\n\r\n\r\n\r\n            if (cc.sys.platform === cc.sys.WECHAT_GAME && cocosz.dataMgr.ShockOn) {\r\n                window[\"wx\"].vibrateLong();\r\n            }\r\n        }, 0.1)\r\n        this.scheduleOnce(() => {\r\n            cocosz.uiMgr.openPanel(PanelName.UiFailed);\r\n        }, 1.5)\r\n    }\r\n\r\n\r\n    // onBeginContactByRole(contact, self, other) {\r\n    //     if (other.tag == tag.honeybee) {\r\n    //         this.onFailed();\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n    onSetPosition(pos) {\r\n        if (this.ConveyorBeltDelayTime > 0) return;\r\n        if (this.action) {\r\n            this.action.stop();\r\n            this.isAction = false;\r\n        }\r\n        this.ConveyorBeltDelayTime = 0.2\r\n        this.node.setPosition(pos);\r\n        this.pos[\"x\"] = Math.ceil(this.node.x / 100 + this.listLength1 / 2 - 1);\r\n        this.pos[\"y\"] = Math.ceil(Math.abs(this.node.y / 100 - this.listLength2 / 2));\r\n    }\r\n\r\n\r\n    getPosByAngle() {\r\n\r\n    }\r\n\r\n    onMoveBySpring() {\r\n\r\n    }\r\n\r\n    public onCollisionEnter(other, self) {\r\n        if (cocosz.gameMgr.isGameOver) return\r\n        if (other.tag == tag.beforeSucceedPoint) {\r\n            this.animation.play(\"smile\", 0);\r\n        }\r\n        else if (other.tag == tag.succeedPoint) {\r\n            this.onSucceed();\r\n        }\r\n        else if (other.tag == tag.thorn) {\r\n            if (this.aTime > 0) return\r\n            cocosz.audioMgr.playRoleGloomyEffect2();\r\n            this.aTime = 3;\r\n        }\r\n        else if (other.tag == tag.honeybee) {\r\n            this.animation.play(\"bee\", 1);\r\n            cocosz.audioMgr.playBeforeFeildEffect2();\r\n            this.onFailed();\r\n        }\r\n        else if (other.tag == tag.bigFan && other.node.getComponent(\"propBigFan\").intact == true) {\r\n            // if (other.node.getComponent(\"propBigFan\").intact.active == false) return;\r\n            cocosz.audioMgr.playBeforeFeildEffect3();\r\n            cc.tween(this.node)\r\n                .to(0.5, { scale: 0 })\r\n                .start()\r\n            this.onFailed();\r\n        }\r\n    }\r\n\r\n    initMap(map) {\r\n        this.map = [].concat(map);\r\n    }\r\n\r\n    onDef() {\r\n        let prefab = cocosz.resMgr.getRes(\"defEffect\", cc.Prefab);\r\n        let node = cc.instantiate(prefab);\r\n        this.node.addChild(node);\r\n    }\r\n\r\n    onRefreshTure() {\r\n\r\n        for (let child of this.node.parent.children) {\r\n            if (child.name == \"sandMask\" || child.name == \"mapMask\" || child.name == \"propMoveFloor\") {\r\n                cc.log(child.y, cocosz.gameMgr.touchNum * 1600, child.y != cocosz.gameMgr.touchNum * 1600, child.name, \"cocosz.gameMgr.touchNum * 1600\");\r\n\r\n                if (Math.floor(child.y) != cocosz.gameMgr.touchNum * 1600) {\r\n                }\r\n                else {\r\n                    cc.log(\"-------显示-----\", child.name, child.y)\r\n                    child.active = true;\r\n                }\r\n\r\n            }\r\n            else if (child.name == \"baffle\") {\r\n                if (Math.floor(child.y) > cocosz.gameMgr.touchNum * 1600 + 800 || Math.floor(child.y) < cocosz.gameMgr.touchNum * 1600 - 800) {\r\n                }\r\n                else {\r\n                    child.active = true;\r\n                }\r\n            }\r\n            else if (child.name == \"role\") continue;\r\n            else if (child.name == \"enemy\" || child.name == \"prop\") {\r\n                for (let child2 of child.children) {\r\n                    if (Math.floor(child2.y) > cocosz.gameMgr.touchNum * 1600 + 800 || Math.floor(child2.y) < cocosz.gameMgr.touchNum * 1600 - 800) {\r\n                    }\r\n                    else {\r\n                        cc.log(child2.y, child2.name, \"---------------child2.name\")\r\n                        child2.active = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onRefreshFalse() {\r\n        if (cocosz.dataMgr.CurLevelId == 135 && cocosz.gameMgr.touchNum == 0) return;\r\n        // if (cocosz.dataMgr.CurLevelId == 136) return;\r\n        for (let child of this.node.parent.children) {\r\n            if (child.name == \"sandMask\" || child.name == \"mapMask\" || child.name == \"propMoveFloor\") {\r\n\r\n                if (child.y != cocosz.gameMgr.touchNum * 1600) {\r\n                    cc.log(\"-------隐藏-----\", child.name, child.y)\r\n\r\n                    child.active = false;\r\n                }\r\n            }\r\n            else if (child.name == \"baffle\") {\r\n                if (child.y > cocosz.gameMgr.touchNum * 1600 + 800 || child.y < cocosz.gameMgr.touchNum * 1600 - 800) {\r\n                    child.active = false\r\n                    cc.log(\"-------隐藏-----\", child.name, child.y)\r\n                }\r\n            }\r\n            else if (child.name == \"role\") continue;\r\n            else if (child.name == \"enemy\" || child.name == \"prop\") {\r\n                for (let child2 of child.children) {\r\n                    if (child2.y > cocosz.gameMgr.touchNum * 1600 + 800 || child2.y < cocosz.gameMgr.touchNum * 1600 - 800) {\r\n                        child2.active = false\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // cocosz.gameMgr.touchNum++;\r\n        // this.onRefreshTure();\r\n    }\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onDestroy() {\r\n        this.unscheduleAllCallbacks();\r\n        cc.game.targetOff(this);\r\n    }\r\n\r\n    onLoad() {\r\n        cc.director.getCollisionManager().enabled = true;\r\n        this.camera = cc.find(\"Canvas/Main Camera\");\r\n        this.listen = this.node.getChildByName(\"body\").getChildByName(\"listen\");\r\n        this.body = this.node.getChildByName(\"body\");\r\n\r\n        this.animation = this.node.getChildByName(\"head\").getChildByName(\"head\").getComponent(cc.Animation);\r\n\r\n        this.uiCamera = cc.find(\"Canvas/uiCamera\");\r\n        this.bgCamera = cc.find(\"Canvas/bgCamera\");\r\n    }\r\n\r\n    start() {\r\n        this.gameBg = cc.find(\"Canvas/gameBG\");\r\n        this.ui = cc.find(\"Canvas/ui\");\r\n        this.node.zIndex += 1000;\r\n        this.listen.on(cc.Node.EventType.TOUCH_START, () => {\r\n            cc.game.emit(Constant.E_ROLE_MOVE);\r\n        })\r\n        cc.game.on(Constant.E_ROLE_COLLISIONENTER, (other, self) => {\r\n            this.onCollisionEnter(other, self);\r\n        }, this)\r\n        cc.game.on(Constant.E_PROP_ALLBALLOONDES, (other, self) => {\r\n            this.animation.play(\"terrified\");\r\n        }, this)\r\n\r\n        cc.game.on(Constant.E_GAME_FAID, (other, self) => {\r\n            this.onFailed();\r\n        }, this)\r\n\r\n        // cc.game.on(Constant.E_ROLE_CONTACTENTER, (contact, other, self) => {\r\n        // this.onBeginContactByRole(contact, other, self);\r\n        // }, this)\r\n\r\n        cc.log(cocosz.gameMgr.surplusLevelNum, \"--cocosz.gameMgr.surplusLevelNum\")\r\n\r\n        if ((cocosz.dataMgr.CurLevelId + 1) % 5 == 0 && cocosz.dataMgr.CurLevelId > 40) {\r\n            this.scheduleOnce(() => {\r\n                this.onRefreshFalse()\r\n            }, 1)\r\n        }\r\n\r\n        cc.log(cocosz.resMgr.getRes(\"body_\" + (cocosz.dataMgr.CurSkinId + 1), cc.SpriteFrame),)\r\n        this.bodySp.spriteFrame = cocosz.resMgr.getRes(\"body_\" + (cocosz.dataMgr.CurSkinId + 1), cc.SpriteFrame);\r\n        this.right_armSp.spriteFrame = cocosz.resMgr.getRes(\"right_arm_\" + (cocosz.dataMgr.CurSkinId + 1), cc.SpriteFrame);\r\n        this.right_legSp.spriteFrame = cocosz.resMgr.getRes(\"right_leg_\" + (cocosz.dataMgr.CurSkinId + 1), cc.SpriteFrame);\r\n        this.left_legSp.spriteFrame = cocosz.resMgr.getRes(\"left_leg_\" + (cocosz.dataMgr.CurSkinId + 1), cc.SpriteFrame);\r\n        this.left_armSp.spriteFrame = cocosz.resMgr.getRes(\"left_arm_\" + (cocosz.dataMgr.CurSkinId + 1), cc.SpriteFrame);\r\n\r\n        if (cocosz.dataMgr.CurSkinId == 0) {\r\n            this.tie.active = true;\r\n        }\r\n        else if (cocosz.dataMgr.CurSkinId == 4) {\r\n            this.tie2.active = true;\r\n        }\r\n    }\r\n\r\n\r\n    public upDataCameraPos(pos) {\r\n        var targetPos = cc.v2(pos.x, pos.y);\r\n        var selfPos = cc.v2(this.camera.x, this.camera.y);\r\n        selfPos = selfPos.lerp(targetPos, 0.1);\r\n        this.camera.y = selfPos.y;\r\n        this.camera.x = selfPos.x;\r\n    }\r\n\r\n    update(dt) {\r\n        // cc.log(this.body.y)\r\n        if (this.aTime > 0) {\r\n            this.aTime -= dt;\r\n        }\r\n        if (this.body.y <= -600 && this.body.getComponent(cc.RigidBody).linearVelocity.y < 0) {\r\n            this.onFailed();\r\n        }\r\n        if (this.body.getComponent(cc.RigidBody).linearVelocity.y > 200) {\r\n            let v = this.body.getComponent(cc.RigidBody).linearVelocity\r\n            v.y = 200\r\n            this.body.getComponent(cc.RigidBody).linearVelocity = v\r\n        }\r\n\r\n        // cc.log(this.body.y + this.node.y + this.node.parent.y)\r\n        if (this.body.y + this.node.y + this.node.parent.y + 400 < 0) return;\r\n        // this.camera.y += 1\r\n        if (cocosz.gameMgr.isGameOver) return;\r\n        // if (cocosz.sceneMgr.sceneName == \"Game2\") {\r\n        //     this.camera.setPosition(cc.v2(0, this.body.y + this.node.y + this.node.parent.y + 400))\r\n        //     this.ui.y = this.camera.y;\r\n        //     this.gameBg.y = this.camera.y;\r\n        // }\r\n\r\n        // this.uiCamera.setPosition(cc.v2(this.body.x, this.body.y + this.node.y + this.node.parent.y))\r\n        // if (this.isFollow) {\r\n        //     this.camera.setPosition(cc.v2(this.body.x, this.body.y))\r\n        // }\r\n    }\r\n}\r\n"]}