{"version":3,"sources":["assets\\resources\\SDK\\scripts\\BaiDuManager.js"],"names":["BaiDuManager","cc","Class","require","properties","bannerAd","getHaveVideo","baiduVideoId","getSysPlatform_string","getSysPlatform","init","obj","_super","showNativeBanner","top","self","baiduNativeId","showSpot","hideNativeBanner","hideBanner","destroy","showBanner","baiduBannerId","winWidth","width","swan","getSystemInfoSync","windowWidth","height","windowHeight","createBannerAd","adUnitId","appSid","baiduId_SDK","style","left","onLoad","show","onError","err","lieyou_showLog","JSON","stringify","showBannerCustom","showBannerByTop","id","showBannerByBottom","showRewardedVideoAd","closeCallBack","videoAd","createRewardedVideoAd","onClose","res","isEnded","offClose","baiduSpotADId","showSpotByPause","showSpotByBegin","showSpotByFinish","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\n\r\nlet BaiDuManager = cc.Class({\r\n\textends: require('BaseManager'),\r\n\tproperties:{\r\n        bannerAd: null,\r\n    },\r\n    getHaveVideo(){\r\n        if(baiduVideoId == '') {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    getSysPlatform_string(){\r\n\t\treturn 'baidu';\r\n    },\r\n    getSysPlatform(){\r\n\t\treturn 10;\r\n\t},\r\n    \r\n    init: function(obj){\r\n        this._super();\r\n    },\r\n\r\n    showNativeBanner(top){\r\n        var self = this;\r\n        if(baiduNativeId == '') {\r\n            self.showSpot();\r\n            return;\r\n        }\r\n        \r\n    },\r\n    hideNativeBanner(){\r\n\r\n    },\r\n\r\n    hideBanner(){\r\n        if(this.bannerAd){\r\n            this.bannerAd.destroy();\r\n            this.bannerAd = null;\r\n\t\t}\r\n    },\r\n    showBanner(obj){\r\n        if(baiduBannerId == '') {\r\n            return;\r\n        };\r\n        var winWidth = 300;//swan.getSystemInfoSync().windowWidth;//windowWidth 窗口宽度 screenWidth 屏幕宽度 240/960 Height\r\n        var width = (swan.getSystemInfoSync().windowWidth - 300) /2;\r\n        var height = swan.getSystemInfoSync().windowHeight - winWidth * 240/960;\r\n        this.bannerAd = swan.createBannerAd({\r\n            adUnitId: baiduBannerId,\r\n            appSid: baiduId_SDK,\r\n            style: {\r\n                left: width,\r\n                top: height,\r\n                width: winWidth\r\n            }\r\n        });\r\n\r\n          \r\n        this.bannerAd.onLoad(() => {\r\n            this.bannerAd.show()\r\n        });\r\n        this.bannerAd.onError(err => {\r\n            lieyou_showLog(\"baidu log------show banner fail-----  \" + JSON.stringify(err));\r\n        });\r\n    },\r\n    showBannerCustom(obj){\r\n        this.showBanner(obj);\r\n    },\r\n    showBannerByTop(id){\r\n        this.showBanner({});\r\n    },\r\n    showBannerByBottom(id){\r\n        this.showBanner({});\r\n    },\r\n    showRewardedVideoAd(id,closeCallBack){\r\n        if(baiduVideoId == '') {\r\n            closeCallBack(false);\r\n            return;\r\n        };\r\n        var videoAd = swan.createRewardedVideoAd({ \r\n            adUnitId: baiduVideoId, \r\n            appSid: baiduId_SDK \r\n        });\r\n        \r\n        videoAd.show();\r\n        videoAd.onError(err => {\r\n            closeCallBack(false);\r\n            lieyou_showLog(\"baidu log------show video fail-----  \" + JSON.stringify(err));\r\n        });\r\n        videoAd.onClose(res => {\r\n            lieyou_showLog('baidu log------video close-----  ' + res.isEnded);\r\n            if (res.isEnded) {\r\n                closeCallBack(true);\r\n            } else {\r\n                closeCallBack(false);\r\n                \r\n            }\r\n            videoAd.offClose(null);\r\n        });\r\n        \r\n    },\r\n    showSpot(){\r\n        if(baiduSpotADId =='') {\r\n            return;\r\n        }\r\n    },\r\n    showSpotByPause(){\r\n        this.showNativeBanner();\r\n    },\r\n    showSpotByBegin(){},\r\n    showSpotByFinish(){\r\n        this.showNativeBanner();\r\n    },\r\n})\r\nmodule.exports = BaiDuManager;\r\n\r\n\r\n\r\n\r\n"]}