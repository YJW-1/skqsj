{"version":3,"sources":["assets\\resources\\SDK\\scripts\\WxManager.js"],"names":["BaseManager","require","window","canExperienceGame","wxServerVersion","wxJumpBtnHaveMove","wxShareFailTips","wxJumpShowBannerDelayTime","WxManager","cc","Class","properties","already","haveGetAuthorize","banner","gameClubButton","bannerTimeOut","shareOnShow","isOnceShare","shareCallBack","shareBegTime","_shareQuery","isOpen","key","KEY_IS_SHENHE","getCanShare","getVersion","wxGameVersion","setOnlineData","data","wx","showMoreGameOrGrid","showMoreGameOrGridType","parseInt","gridAdTheme","serverVersion","undefined","serverVersoin","Number","base_IsShenHe","adData","theme","crossSwitch","bizData","ad_datas","getSDKVersionCanUse","setAdData","setSwitchData","initOnlineData","oppoGetOnlineDataId","lieyou_SdkManager","showToast","self","version","Userdefault","getIntForKey","time","sp","nowTime","getTime","response","getStringForKey","JSON","parse","dataVersion","url","getLoginUrl","setDataForHttp","jsonD","isMoreInfo","setDataForKey","server_data_version","stringify","error","lieyou_showLog","getSystemInfo","info","getSystemInfoSync","platformVersionCode","SDKVersion","androidVersion","system","model","getNetworkType","success","res","networkType","init","obj","prototype","call","setTimeout","jumpOtherGameTime","jumpOtherGameOnShowGetGold","triggerGC","shareAndVideoAllNum","canShowRedPack","showRedPackNum","shareSuccessProbability","shareOrVideoType","onShow","Math","random","quickGame","awardGoldTime","gold","awardGoldDouble","gold2","lieyou","Key_Gold","bind","getAuthorize","getUpdateManager","updateManager","onCheckForUpdate","onUpdateReady","applyUpdate","onUpdateFailed","login","setShareData","setMoreGameData","getOnlineData","vibrateShort","vibrateLong","getHaveVideo","wxVideoId","getSysPlatform_string","getSysPlatform","getJumpBtnHaveMove","wxBannerId","wxData","parseFloat","bannerDelayTime","bannerOnlindDelayTime","shareSwitch","shareOnlineData","forward","WXforward","spotControl","setSpotData","params","returnHomeJumpGame","navigateToMiniProgram","getParamByOnline","defaultV","v","interval","pauseSpotInterval","resultSpotInterval","intervalTime","pauseSpotTime","resultSpotTime","startInterval","pauseSpotStartIndex","resultSpotStartIndex","items","i","length","type","onHide","fun","jumpRefreshBanner","x","y","hideBanner","node","runAction","sequence","delayTime","callFunc","showBannerByBottom","moveTo","showBanner","_showBannerObj","_isShowBanner","moreGameBanner","isValid","destroy","adUnitId","clearInterval","createBannerAd","onResize","w","winSize","height","width","sys","os","OS_IOS","style","top","view","getFrameSize","_bannerAdStyle","show","onError","scene","director","getScene","name","errCode","url_n","serverUrl","wxAppId","openid","setInterval","refreshBanner","showBannerCustom","t","e","a","t2","scale","o","id","left","showBannerByTop","showRewardedVideoAd","closeCallBack","share","GameName","source","videoAd","createRewardedVideoAd","load","then","err","offClose","onClose","vivoPlayVDCallBack","audioEngine","stopAll","isEnded","offError","showForum","wxSys","widths","screenWidth","screenHeight","createGameClubButton","closeForum","hide","authorize","scope","getUserInfo","userInfo","uinfo","nick","nickName","icon","avatarUrl","sex","gender","province","city","country","query","getLaunchOptionsSync","laiyuan_appid","referrerInfo","appId","laiyuan_scene","str","putTouchShareDataUrl","gamerId","itemId","inviteFriend","getBoolForKey","canGetLocalCard","getLocalCareId","sef","getOpenId","code","getOpenIdUrl","appSecret","session_key","uid","wsurl","openShare","qudao","channel","putPlayerData","checkResurrNum","shareUrl","shareData","sysPlatform","moreGameUrl","moreGameData","screen","spotData","push","RecommendIconData","jumpData","jumpType","gameName","showAllRankingLayer","showFailRankingLayer","showMoreGameMiddle_one","gridCount","showMoreGameMiddle_two","moreGame","showMoreGameMiddle_three","showGridAd","fNode","lieyou_wxGridId","gridAd","createGridAd","adTheme","baseNodejs","addComponent","isShowBanner","offResize","_haveShowSpotAd","destroyCallBack","_haveShowGridAd","console","log","viewSize","updateCallBack","worldPos","convertToWorldSpaceAR","v2","xProportion","sdkWinSize","yProportion","showSpotByBegin","isHaveNative","showMySpot","showSpotByPause","showSpotByFinish","_alShowSpot","showMoreGameGrid","wxSpotId","spotAd","createInterstitialAd","onLoad","offLoad","setRankingData","score","setUserCloudStorage","KVDataList","fail","complete","shareHelpSuccess","level","adid","_title","_url","mode","item","title","replace","img","_query","putShareDataUrl","shareAppMessage","imageUrl","shareHelp","help","helpFriendSuccess","helpOpenId","getIsHaveFriendHelpMe","getGroupId","checkResurrNum_2","canGetNetCardNum","getNetCardTime","localCardNum","localCardKey","netCardNum","checkResurrDataUrl","useResurr","num","delNum","useResurrDataUrl","addLocalResurr","getHelpLevel","showShareMenu","withShareTicket","onShareAppMessage","jumpApp","page","path","forward_appid","errMsg","previewImage","current","urls","xhr","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","addToast","_node","_callBack","shareDialog","addGetLocakCardDialog","modifyInviteFriend","friendId","deleteInviteFriend","Id","getInviteFriendData","flag","showInviteFriend","showInviteFriendFailure","getOnlineSpriteFrame","loadFile","loader","tex","SpriteFrame","split","str1","showGameRecommend","callBack","timeLast","timeNow","loadRes","instantiate","find","addChild","getComponent","setData","getShareOrViedo","nShareAndVideoAllNum","retType","hours","Date","getHours","setWorldRankData","newJumpApp","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\r\n *   appid openid   \r\n *  1  appid openid scene appid \r\n * \r\n * \r\n * wx.triggerGC()\r\n * wx.openCustomerServiceConversation(Object object)\r\n *   wx.setClipboardData({data:'data'}); \r\n * wx.onMemoryWarning(function callback)\r\n * FeedbackButton wx.createFeedbackButton(Object object)\r\n * \r\n *     id || \r\n * \r\n * wx.onUserCaptureScreen(CALLBACK)  \r\n *  banner   ||banner appid openid yemian type\r\n */\r\n/**\r\n *  appidstring id openidstring id string   string int\r\n  string id int string id idstring id ||int 1||0\r\n  appidstring id openidstring id sceneint  appidint \r\n banner   ||bannerint 0||1 appidstring id openidstring id string  typeint\r\n\r\n\tscene\t\t\t\tappId \r\n1020\t profile \t\t\r\n1035\t\t\t\t\r\n1036\tApp \t\t\tApp\r\n1037\t\t\t\t\r\n1038\t\t\t\t\r\n1043\t\t\t\t\r\n\r\ntype\r\n1000\t\r\n1001\t\r\n1002\t\r\n1003\t\r\n1004\t\r\n1005\t\r\n1006\t\r\n1007\t\r\n1008\t\r\n */\r\nconst BaseManager = require('BaseManager');\r\nwindow.canExperienceGame = 0;// \r\nwindow.wxServerVersion = 0;// \r\nwindow.wxJumpBtnHaveMove = 1;// \r\nwindow.wxShareFailTips = ''// \r\nwindow.wxJumpShowBannerDelayTime = 1.5;// \r\nlet WxManager = cc.Class({\r\n\textends: require('BaseManager'),\r\n\tproperties:{\r\n\t\talready:false,\r\n\t\thaveGetAuthorize: false,\r\n\t\tbanner:null,\r\n\t\tgameClubButton:null,\r\n\t\tbannerTimeOut:-1,\r\n\t\tshareOnShow: false,\r\n\t\tisOnceShare: true,\r\n\t\tshareCallBack: null,\r\n\t\tshareBegTime: 0,\r\n\t\t_shareQuery:'',//\r\n\t},\r\n\t\r\n\tisOpen(key){\r\n\t\t\r\n\t\tif(key == KEY_IS_SHENHE){\r\n\t\t\treturn !getCanShare();\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tgetVersion(){\r\n        return wxGameVersion;\r\n    },\r\n\tsetOnlineData(data){\r\n        if(data.wx){\r\n\t\t\tif(data.wx.showMoreGameOrGrid){\r\n\t\t\t\tthis.showMoreGameOrGridType = parseInt(data.wx.showMoreGameOrGrid);\r\n\t\t\t}\r\n\t\t\tif(data.wx.gridAdTheme){\r\n\t\t\t\tthis.gridAdTheme = data.wx.gridAdTheme;\r\n\t\t\t}\r\n\t\t\tif(data.wx.serverVersion != undefined){\r\n\t\t\t\tvar serverVersoin = Number(data.wx.serverVersion);\r\n\t\t\t\twxServerVersion = parseInt(data.wx.serverVersion);\r\n                if(serverVersoin >= wxGameVersion) {\r\n                    this.base_IsShenHe = false;\r\n                }else{\r\n                    this.base_IsShenHe = true;\r\n                }\r\n            }\r\n\t\t\tvar adData = {};\r\n\t\t\tif(data.wx.theme){\r\n                adData.theme = data.wx.theme;\r\n            }\r\n            if(data.wx.crossSwitch){\r\n                adData.crossSwitch = data.wx.crossSwitch;\r\n            }\r\n            if(data.wx.bizData){\r\n                adData.bizData = data.wx.bizData;\r\n            }\r\n            if(data.wx.ad_datas){\r\n                adData.ad_datas = data.wx.ad_datas;\r\n\t\t\t}\r\n\t\t\tif(data.wx.switch){\r\n                adData.switch = data.wx.switch;\r\n            }\r\n            if(this.getSDKVersionCanUse('2.2.0')){\r\n                this.setAdData(adData);\r\n\t\t\t}\r\n\t\t\tthis.setSwitchData(data.wx);\r\n        }\r\n    },\r\n    initOnlineData(){\r\n        \r\n        if(oppoGetOnlineDataId == ''){\r\n            lieyou_SdkManager.showToast('qgID');\r\n            return;\r\n        }\r\n        var self = this;\r\n        var version = Userdefault.getIntForKey('sdk_wx_online_version',0);\r\n        var time = Userdefault.getIntForKey('sdk_wx_online_time',0);\r\n        var sp = Userdefault.getIntForKey('sdk_wx_online_sp',0);\r\n        var nowTime = getTime()/1000;\r\n        if(nowTime - time < sp && nowTime > time){\r\n            var response = Userdefault.getStringForKey('sdk_wx_online_data','');\r\n            var data = JSON.parse(response);\r\n            self.setOnlineData(data);\r\n            return;\r\n        }\r\n        this.dataVersion = version;\r\n        var url = this.getLoginUrl();\r\n\t\tthis.setDataForHttp(url,function(response){\r\n\t\t\tif(response == \"\") {\r\n\t\t\t\treturn;\r\n            }\r\n            try {\r\n                \r\n                var jsonD = JSON.parse(response);\r\n                \r\n                if(jsonD.isMoreInfo != undefined){\r\n                    self.isMoreInfo = jsonD.isMoreInfo;\r\n                }\r\n                if(jsonD.sp){\r\n                    Userdefault.setDataForKey('sdk_wx_online_sp',jsonD.sp);\r\n                }\r\n                Userdefault.setDataForKey('sdk_wx_online_time',nowTime);\r\n                \r\n                if(jsonD.server_data_version == version){\r\n                    var response = Userdefault.getStringForKey('sdk_wx_online_data','');\r\n                    var data = JSON.parse(response);\r\n                    self.setOnlineData(data);\r\n                    return;\r\n                }\r\n                var data = JSON.parse(response).data;\r\n                if(!data){\r\n                    return;\r\n                }\r\n                self.setOnlineData(data);\r\n                if(jsonD.server_data_version){\r\n                    Userdefault.setDataForKey('sdk_wx_online_version',jsonD.server_data_version);\r\n                }\r\n                Userdefault.setDataForKey('sdk_wx_online_data',JSON.stringify(data));\r\n            } catch (error) {\r\n                    lieyou_showLog('wxlog------error  initOnlineData + ' + error);\r\n            }\r\n\t\t});\r\n    },\r\n\tgetSystemInfo(){\r\n\t\tvar info = wx.getSystemInfoSync();\r\n        this.platformVersionCode = info.SDKVersion;\r\n        this.androidVersion = info.system;\r\n        this.model = info.model;\r\n        wx.getNetworkType({\r\n            success:(res)=>{\r\n                this.networkType = res.networkType;\r\n            }\r\n        });\r\n\t},\r\n\t/**\r\n\t * {getAuthorize:true}\r\n\t */\r\n\tinit: function(obj){\r\n\t\t// BaseManager.prototype.init(obj);\r\n\t\tBaseManager.prototype.init.call(this,obj);\r\n\t\t// this._super();\r\n\t\tthis.getSystemInfo();\r\n\t\tsetTimeout(() => {\r\n            this.initOnlineData();    \r\n        }, 1000);\r\n\t\tthis.jumpOtherGameTime = 0;\r\n\t\tthis.jumpOtherGameOnShowGetGold = false;\r\n\t\tvar self = this;\r\n\t\twx.triggerGC();\r\n\t\t// this._beginGameTime = getTime()/1000;\r\n\t\t// wx.exitMiniProgram({success:function(){\r\n\t\t// \tvar time = getTime()/1000;\r\n\t\t// \tvar runTime = time - self._beginGameTime;//\r\n\t\t// \tself._beginGameTime = time;\r\n\t\t// \tlieyou_showLog('');\r\n\t\t// }});\r\n\t\t// wx.onUserCaptureScreen(function(){\r\n\t\t// \tlieyou_showLog('');//\r\n\t\t// });\r\n\t\tthis.shareAndVideoAllNum = 0;\r\n\t\tthis.gridAdTheme = \"white\";\r\n\t\tthis.showMoreGameOrGridType = 1;//1  2  3  4 \r\n\t\tthis.canShowRedPack = 1; // \r\n\t\tthis.showRedPackNum = 10; // \r\n\t\tthis.shareSuccessProbability = 100;// \r\n\t\tthis.shareOrVideoType = 4;//     \r\n\t\t//1 2 3 4- 5- 60-10  10-24 - \r\n\t\tlieyou_SdkManager.onShow(function(){\r\n\t\t\tif(this.shareOnShow){\r\n\t\t\t\tvar nowTime = getTime()/1000;\r\n\t\t\t\tif(nowTime - this.shareBegTime > 5){\r\n\t\t\t\t\tif(this.shareCallBack){\r\n\t\t\t\t\t\tthis.shareCallBack(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setDataForHttp(this._shareQuery);\r\n\t\t\t\t}else if(nowTime - this.shareBegTime > 2){\r\n\t\t\t\t\tif(this.isOnceShare) {\r\n\t\t\t\t\t\tif(Math.random() > 0.5) {\r\n\t\t\t\t\t\t\tif(this.shareCallBack){\r\n\t\t\t\t\t\t\t\tthis.shareCallBack(1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.setDataForHttp(this._shareQuery);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(this.shareCallBack){\r\n\t\t\t\t\t\t\t\tthis.shareCallBack(0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(Math.random() * 100 > this.shareSuccessProbability) {\r\n\t\t\t\t\t\t\tif(this.shareCallBack){\r\n\t\t\t\t\t\t\t\tthis.shareCallBack(0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(this.shareCallBack){\r\n\t\t\t\t\t\t\t\tthis.shareCallBack(1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.setDataForHttp(this._shareQuery);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(this.shareCallBack){\r\n\t\t\t\t\t\tthis.shareCallBack(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.isOnceShare = !this.isOnceShare;\r\n\t\t\t}\r\n\t\t\tif(this.jumpOtherGameOnShowGetGold){\r\n\t\t\t\tvar nowTime = getTime()/1000;\r\n\t\t\t\tif(nowTime - this.jumpOtherGameTime > quickGame.awardGoldTime){\r\n\t\t\t\t\tvar gold = 10*quickGame.awardGoldDouble;\r\n\t\t\t\t\tvar gold2 = Userdefault.getIntForKey(lieyou.Key_Gold,0);\r\n    \t\t\t\tUserdefault.setDataForKey(lieyou.Key_Gold,gold2 + gold);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.jumpOtherGameOnShowGetGold = false;\r\n            this.shareOnShow = false;\r\n        }.bind(this));\r\n\t\t// this._super();\r\n\t\tif(obj && obj.getAuthorize)\r\n\t\t\tthis.haveGetAuthorize = obj.getAuthorize;\r\n\t\tif (typeof wx.getUpdateManager === 'function') {\r\n\t\t\tconst updateManager = wx.getUpdateManager()\r\n\t\t\tupdateManager.onCheckForUpdate(function (res) {\r\n\t\t\t\t// \r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tupdateManager.onUpdateReady(function () {\r\n\t\t\t\t//  applyUpdate \r\n\t\t\t\tupdateManager.applyUpdate()\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tupdateManager.onUpdateFailed(function () {\r\n\t\t\t\t// \r\n\t\t\t})\r\n\t\t}\r\n\t\tthis.login();\r\n\t\tthis.setShareData();\r\n\t\tthis.setMoreGameData();\r\n\t\tthis.getOnlineData();\r\n\t\t//this.openShare(); id\r\n\t},\r\n\tvibrateShort(){\r\n        wx.vibrateShort();\r\n    },\r\n    vibrateLong(){\r\n\t\twx.vibrateLong();\r\n\t},\r\n\tgetHaveVideo(){\r\n        if(wxVideoId != \"\" || !this.isOpen(KEY_IS_SHENHE)){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tgetSysPlatform_string(){\r\n\t\treturn 'wx';\r\n    },\r\n\tgetSysPlatform(){\r\n\t\treturn 0;\r\n\t},\r\n\tgetJumpBtnHaveMove(){\r\n\t\tif(!getCanShare() || wxBannerId == \"\"){\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn wxJumpBtnHaveMove;\r\n\t},\r\n\tgetOnlineData(){\r\n\t\tvar self = this;\r\n\t\tthis.setDataForHttp(wxData.getOnlineData,function(response){\r\n\t\t\tif(response == \"\") {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar data = JSON.parse(response).data;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tif(data.wxJumpShowBannerDelayTime){\r\n\t\t\t\t\twxJumpShowBannerDelayTime = parseFloat(data.wxJumpShowBannerDelayTime);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.wxShareFailTips){\r\n\t\t\t\t\twxShareFailTips = data.wxShareFailTips;\r\n\t\t\t\t}\r\n\t\t\t\tif(data.wxJumpBtnHaveMove) {\r\n\t\t\t\t\twxJumpBtnHaveMove = parseInt(data.wxJumpBtnHaveMove);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.wxServerVersion) {\r\n\t\t\t\t\twxServerVersion = parseInt(data.wxServerVersion);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.canShowRedPack) {\r\n\t\t\t\t\tself.canShowRedPack = parseInt(data.canShowRedPack);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.showRedPackNum) {\r\n\t\t\t\t\tself.showRedPackNum = parseInt(data.showRedPackNum);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.canExperienceGame) {\r\n\t\t\t\t\tcanExperienceGame = parseInt(data.canExperienceGame);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.shareOrVideoType) {\r\n\t\t\t\t\tself.shareOrVideoType = parseInt(data.shareOrVideoType);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.shareSuccessProbability) {\r\n\t\t\t\t\tself.shareSuccessProbability = parseInt(data.shareSuccessProbability);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.bannerDelayTime && parseInt(data.bannerDelayTime) >= 5) {\r\n\t\t\t\t\twxData.bannerOnlindDelayTime = parseInt(data.bannerDelayTime);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.shareSwitch)\r\n\t\t\t\t\twxData.shareOnlineData = data.shareSwitch;\r\n\t\t\t\tif(data.wxVideoId && data.wxVideoId != \"\") {\r\n\t\t\t\t\twxVideoId = data.wxVideoId;\r\n\t\t\t\t}\r\n\t\t\t\tif(data.wxBannerId && data.wxBannerId != \"\") {\r\n\t\t\t\t\twxBannerId = data.wxBannerId;\r\n\t\t\t\t}\r\n\t\t\t\tif(data.forward) {\r\n\t\t\t\t\twxData.WXforward = JSON.parse(data.forward);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.spotControl) {\r\n\t\t\t\t\tself.setSpotData(data.spotControl);\r\n\t\t\t\t}\r\n\t\t\t\twxData.params = data;\r\n\t\t\t} catch (error) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t},\r\n\treturnHomeJumpGame(){\r\n\t\tif(wxData.WXforward != \"\") {\r\n\t\t\tif(this.getSDKVersionCanUse('2.2.0')){\r\n\t\t\t\twx.navigateToMiniProgram(wxData.WXforward);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgetParamByOnline(key,defaultV){\r\n\t\tif(!wxData.params) {\r\n\t\t\treturn defaultV;\r\n\t\t}\r\n\t\tvar v = wxData.params[key];\r\n\t\tif(v){\r\n\t\t\treturn wxData.params[key];\r\n\t\t}\r\n\r\n\t\treturn defaultV;\r\n\t},\r\n\t/**\r\n\t * \r\n\t */\r\n\tsetSpotData(data){\r\n\t\tif(data.interval) {\r\n\t\t\tpauseSpotInterval = data.interval;\r\n\t\t\tresultSpotInterval = data.interval;\r\n\t\t}\r\n\t\tif(data.intervalTime) {\r\n\t\t\tpauseSpotTime = data.intervalTime;\r\n\t\t\tresultSpotTime = data.intervalTime;\r\n\t\t}\r\n\t\tif(data.startInterval) {\r\n\t\t\tpauseSpotStartIndex = data.startInterval;\r\n\t\t\tresultSpotStartIndex = data.startInterval;\r\n\t\t}\r\n\r\n\t\tif(data.items) {\r\n\t\t\tfor(var i = 0;i < data.items.length;i++) {\r\n\t\t\t\tif(data.items[i].type && data.items[i].type == 'pause') {\r\n\t\t\t\t\tif(data.items[i].interval) {\r\n\t\t\t\t\t\tpauseSpotInterval = data.items[i].interval;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.items[i].intervalTime) {\r\n\t\t\t\t\t\tpauseSpotTime = data.items[i].intervalTime;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.items[i].startInterval) {\r\n\t\t\t\t\t\tpauseSpotStartIndex = data.items[i].startInterval;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(data.items[i].type && data.items[i].type == 'result') {\r\n\t\t\t\t\tif(data.items[i].interval) {\r\n\t\t\t\t\t\tresultSpotInterval = data.items[i].interval;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.items[i].intervalTime) {\r\n\t\t\t\t\t\tresultSpotTime = data.items[i].intervalTime;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.items[i].startInterval) {\r\n\t\t\t\t\t\tresultSpotStartIndex = data.items[i].startInterval;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tonHide:function(fun){\r\n\t\twx.onHide(fun);\r\n\t},\r\n\tonShow:function(fun){\r\n\t\twx.onShow(fun);\r\n\t},\r\n\tjumpRefreshBanner: function(obj){\r\n\t\tvar self = this;\r\n\t\tif(!obj.x) {\r\n\t\t\tobj.x = 0;\r\n\t\t}\r\n\t\tif(!obj.y) {\r\n\t\t\tobj.y = 0;\r\n\t\t}\r\n\t\tif(this.getJumpBtnHaveMove()) {\r\n\t\t\tthis.hideBanner();\r\n\t\t\tif(obj.node){\r\n\t\t\t\tobj.node.runAction(cc.sequence(cc.delayTime(wxJumpShowBannerDelayTime),cc.callFunc(function(){\r\n\t\t\t\t\tself.showBannerByBottom(wxBannerId);\r\n\t\t\t\t}),cc.delayTime(0.5),cc.moveTo(0.2,obj.x,obj.y)));\r\n\t\t\t}else{\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tself.showBannerByBottom(wxBannerId);\r\n\t\t\t\t},wxJumpShowBannerDelayTime*1000);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\tthis.showBannerByBottom(wxBannerId);\r\n\t\t\tif(obj.node) {\r\n\t\t\t\tobj.node.x = obj.x;\r\n\t\t\t\tobj.node.y = obj.y;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t},\r\n\tshowBanner:function(obj){\r\n\t\t\r\n\t\tthis._showBannerObj = obj;\r\n\t\tthis._isShowBanner = true;\r\n\t\tif(this.moreGameBanner && this.moreGameBanner.isValid){\r\n            this.moreGameBanner.destroy();\r\n            this.moreGameBanner = null;\r\n        }\r\n\t\tvar self = this;\r\n\t\tif(!this.getSDKVersionCanUse('2.0.4')){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobj.adUnitId = wxBannerId;\r\n\t\tif(obj.adUnitId == \"\") \r\n\t\t\treturn;\r\n\t\tclearInterval(this.bannerTimeOut);\r\n\t\tif(this.banner)\t\r\n\t\t   this.banner.destroy()\r\n\t\tthis.banner = wx.createBannerAd(obj);\r\n\t\t// this.banner.style.width = obj.style.width;\r\n\t\tthis.banner.onResize(res => {\r\n\t\t\t// lieyou_showLog(res.width, res.height)\r\n\t\t\tvar w = 0;\r\n\t\t\tif(cc.winSize.height / cc.winSize.width > 2 && cc.sys.os == cc.sys.OS_IOS){\r\n\t\t\t\tw = 20;\r\n\t\t\t}\r\n\t\t\tthis.banner.style.top = cc.view.getFrameSize().height - res.height - w;\r\n\t\t\tif(this._bannerAdStyle&&this._bannerAdStyle.y!=undefined){\r\n\t\t\t\tthis.banner.style.top = this._bannerAdStyle.y;\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.banner.show();\r\n\t\tthis.banner.onError(function(res){\r\n\t\t\tvar scene = cc.director.getScene().name;\r\n\t\t\tvar type = -1;\r\n\t\t\tif(self.getSDKVersionCanUse('2.2.2')){\r\n\t\t\t\ttype = res.errCode;\r\n\t\t\t}\r\n\t\t\tvar url_n = serverUrl+'lieyou/wxdata/addGameVideoAdvertis?ad_type='+1+'&appid='+wxAppId+'&openid='+openid+'&page='+scene+'&type='+type;\r\n\t\t\tself.setDataForHttp(url_n);\r\n\t\t});\r\n\r\n\t\tthis.bannerTimeOut = setInterval(this.refreshBanner.bind(this,obj),1000 * wxData.bannerOnlindDelayTime);//\r\n\r\n\t},\r\n\tshowBannerCustom:function(obj){\r\n\t\tif(!this.getSDKVersionCanUse('2.0.4')){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(obj.adUnitId == \"\") \r\n\t\t\treturn;\r\n\t\tclearInterval(this.bannerTimeOut);\r\n\t\tif(this.banner)\t\r\n\t\t   this.banner.destroy()\r\n\t\tvar t = 0, e = 0, a = cc.view.getFrameSize();\r\n\t\tt = a.width, e = a.height, lieyou_showLog(a);\r\n\t\tvar t2 = t;\r\n\t\tt = t * obj.scale;\r\n\r\n\t\tvar i = e - t / 3.5 - 0, o = (t2 - t) / 2;\r\n\r\n\t\tvar x = obj.x?obj.x:o;\r\n\t\tvar y = obj.y?obj.y:i;\r\n\t\tvar w = 0;\r\n\t\tif(cc.winSize.height / cc.winSize.width > 2){\r\n\t\t\tw = 20;\r\n\t\t}\r\n\t\tthis.showBanner({adUnitId:obj.id,style:{ left: x,top: y-20-2,width: t}})\r\n\r\n\t},\r\n\trefreshBanner(obj){\r\n\t\tif(this.banner)\t{\r\n\t\t   \tthis.banner.destroy()\r\n\t\t\tthis.banner = wx.createBannerAd(obj);\r\n\t\t\tthis.banner.onResize(res => {\r\n\t\t\t\tvar w = 0;\r\n\t\t\t\tif(cc.winSize.height / cc.winSize.width > 2 && cc.sys.os == cc.sys.OS_IOS){\r\n\t\t\t\t\tw = 20;\r\n\t\t\t\t}\r\n\t\t\t\tthis.banner.style.top = cc.view.getFrameSize().height - res.height - w;\r\n\t\t\t\tif(this._bannerAdStyle&&this._bannerAdStyle.y!=undefined){\r\n\t\t\t\t\tthis.banner.style.top = this._bannerAdStyle.y;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.banner.show();\r\n\t\t\tthis.banner.onError(function(res){\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tshowBannerByBottom:function(id){\r\n\t\tvar t = 0, e = 0, a = cc.view.getFrameSize();\r\n\t\tt = a.width, e = a.height, lieyou_showLog(a);\r\n\t\tvar i = e - t / 3.5 - 20, o = (t - t) / 2;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\tvar w = 0;\t\r\n\t\tif(cc.winSize.height / cc.winSize.width > 2){\r\n\t\t\tw = 20;\r\n\t\t}\t\t\t\r\n\t  \tthis.showBanner({adUnitId:id,style:{ left: o,top: i-w,width: t}})\r\n\t},\r\n\tshowBannerByTop:function(id){\r\n    \tvar t = 0, e = 0, a = cc.view.getFrameSize();\r\n\t\tt = a.width, e = a.height, lieyou_showLog(a);\r\n\t\tvar i = e - t / 3.5 - 10, o = (t - t) / 2;\r\n\t  \tthis.showBanner({adUnitId:id,style:{ left: o,top: 0,width: t}});\r\n\t},\r\n\thideBanner:function(){\r\n\t\t\r\n\t\tthis._isShowBanner = false;\r\n\t\tif(this.banner)\t{\r\n\t\t\tclearInterval(this.bannerTimeOut);\r\n\t\t   \tthis.banner.destroy();\r\n\t\t   \tthis.banner = null;\r\n\t\t}\r\n\t},\r\n\tshowRewardedVideoAd: function(id,closeCallBack){\r\n\t\tthis.shareAndVideoAllNum++;\r\n\t\tif(!this.getSDKVersionCanUse('2.0.4') || wxVideoId == ''){\r\n\t\t\tthis.share({name:GameName,source:10,success:closeCallBack});\r\n\t\t\t// closeCallBack(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar self = this;\r\n\t\t\r\n\t\t// this.hideBanner();\r\n\t\t\r\n\t\tvar videoAd = wx.createRewardedVideoAd({ adUnitId: wxVideoId });\r\n\t\tvideoAd.load().then(()=>videoAd.show()).catch(err=>lieyou_showLog(\"s\"));\r\n\t\tvideoAd.offClose();\r\n\t\tvideoAd.onClose(function(res){\r\n\t\t\tif(window.vivoPlayVDCallBack){\r\n\t\t\t\tcc.audioEngine.stopAll();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.vivoPlayVDCallBack();\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(self.getSDKVersionCanUse('2.1.0')){\r\n\t\t\t\t// closeCallBack(res.isEnded);\r\n\t\t\t\tif(res.isEnded){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\tcloseCallBack(res.isEnded);\r\n\t\t\t\t\t}catch(err){}\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tcloseCallBack(false);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// closeCallBack(false);\r\n\t\t\t\t\t}catch(err){}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcloseCallBack(true);\r\n\t\t});\r\n\t\tvideoAd.offError();\r\n\t\tvideoAd.onError(function(res){\r\n\t\t\tvar scene = cc.director.getScene().name;\r\n\t\t\tvar type = -1;\r\n\t\t\tif(self.getSDKVersionCanUse('2.2.2')){\r\n\t\t\t\ttype = res.errCode;\r\n\t\t\t}\r\n\t\t\tvar url_n = serverUrl+'lieyou/wxdata/addGameVideoAdvertis?ad_type='+0+'&appid='+wxAppId+'&openid='+openid+'&page='+scene+'&type='+type;\r\n\t\t\tself.setDataForHttp(url_n);\r\n\t\t\t// closeCallBack(false);\r\n\t\t\tcloseCallBack(false);\r\n\t\t\t\r\n\t\t})\r\n\t},\r\n\tshowForum : function(obj){\r\n\t\tvar wxSys = wx.getSystemInfoSync();\r\n\t\tif(!this.getSDKVersionCanUse('2.0.3')){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar widths =wxSys.screenWidth;\r\n\t\tvar height =wxSys.screenHeight;\r\n\t\tif(!this.gameClubButton){\r\n\t\t\tthis.gameClubButton = wx.createGameClubButton(obj);\r\n\t\t}else{\r\n\t\t\tthis.gameClubButton.show()\r\n\t\t}\r\n\t},\r\n\tcloseForum : function(){\r\n\t\tif(!this.getSDKVersionCanUse('2.0.3')){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.gameClubButton)\r\n\t\t\tthis.gameClubButton.hide();\r\n\t},\r\n\t//\r\n\tgetAuthorize: function(){\r\n\t\tvar self = this;\r\n\t\twx.authorize({\r\n            scope:'scope.userInfo',\r\n            success: function(){\r\n                wx.getUserInfo({success:function(res){\r\n\t\t\t\t\tvar userInfo = res.userInfo\r\n                    uinfo.nick = userInfo.nickName//\r\n                    uinfo.icon = userInfo.avatarUrl//\r\n                    uinfo.sex = userInfo.gender // 012\r\n                    uinfo.province = userInfo.province//\r\n                    uinfo.city = userInfo.city//\r\n\t\t\t\t\tuinfo.country = userInfo.country//\r\n\t\t\t\t\t//\r\n\r\n\t\t\t\t\tvar query = wx.getLaunchOptionsSync().query;\r\n\r\n\t\t\t\t\tvar laiyuan_appid = 0;\r\n\t\t\t\t\tif(wx.getLaunchOptionsSync().referrerInfo && wx.getLaunchOptionsSync().referrerInfo.appId){\r\n\t\t\t\t\t\tlaiyuan_appid = wx.getLaunchOptionsSync().referrerInfo.appId;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar laiyuan_scene = wx.getLaunchOptionsSync().scene;\r\n\t\t\t\t\tvar url_n = serverUrl+'lieyou/wxdata/addGameSourceInfo?appid='+wxAppId+'&openid='+openid+'&scence='+laiyuan_scene+'&s_appid='+laiyuan_appid+'&s_path='+JSON.stringify(query);\r\n\t\t\t\t\tself.setDataForHttp(url_n);\r\n\t\t\t\t\tif(query.source){\r\n\t\t\t\t\t\tvar str = wxData.putTouchShareDataUrl+\"?\"+\"appId=\"+query.appId +\"&principal_gamerId=\"+query.gamerId+\"&assistant_gamerId=\"+openid+\"&itemId=\"+query.itemId+\"&source=\"+query.source;\r\n\t\t\t\t\t\tif(query.inviteFriend) {\r\n\t\t\t\t\t\t\tstr += \"&name=\" + userInfo.nickName + \"&icon=\" + userInfo.avatarUrl + \"&inviteFriend=\" + query.inviteFriend;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.setDataForHttp(str);\r\n\t\t\t\t\t\tif(!Userdefault.getBoolForKey(query.gamerId,false)){\r\n\t\t\t\t\t\t\tcanGetLocalCard = true;\r\n\t\t\t\t\t\t\tgetLocalCareId = \"\" + query.gamerId;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t}\r\n                    \r\n                }});\r\n            }\r\n        });\r\n\t},\r\n\t//\r\n\tlogin: function(){\r\n\t\tvar sef = this;\r\n\t\twx.login({success:function(res){\r\n\t\t\tsef.getOpenId(res.code);\r\n\t\t}});\r\n\t},\r\n\r\n\tgetOpenId: function(code) {\r\n\t\t//openid\r\n\t\tvar self = this;\r\n\t\tthis.setDataForHttp(wxData.getOpenIdUrl + '?appid=' + wxData.appId + '&secret=' + wxData.appSecret + '&js_code=' + code + '&grant_type=authorization_code',function(response){\r\n\t\t\tvar data = JSON.parse(response);\r\n\t\t\topenid = data.openid;\r\n\t\t\twxData.session_key = data.session_key;\r\n\t\t\tuinfo.uid = openid;\r\n\t\t\twsurl += openid;\r\n\t\t\tif(self.already){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tself.openShare();\r\n\t\t\tif(self.haveGetAuthorize)\r\n\t\t\t\tself.getAuthorize();\r\n\t\t\tvar query = wx.getLaunchOptionsSync().query;\r\n\r\n\t\t\tvar laiyuan_appid = 0;\r\n\t\t\tif(wx.getLaunchOptionsSync().referrerInfo && wx.getLaunchOptionsSync().referrerInfo.appId){\r\n\t\t\t\tlaiyuan_appid = wx.getLaunchOptionsSync().referrerInfo.appId;\r\n\t\t\t}\r\n\t\t\tvar laiyuan_scene = wx.getLaunchOptionsSync().scene;\r\n\t\t\tvar url_n = serverUrl+'lieyou/wxdata/addGameSourceInfo?appid='+wxAppId+'&openid='+openid+'&scence='+laiyuan_scene+'&s_appid='+laiyuan_appid+'&s_path='+JSON.stringify(query);\r\n\t\t\tself.setDataForHttp(url_n);\r\n\t\t\tvar qudao = 'lieyou';\r\n\t\t\tif(query.channel) \r\n\t\t\t\tqudao = query.channel;\r\n\t\t\tself.setDataForHttp(wxData.putPlayerData + openid + '/' + qudao);\r\n\t\t\t// self.setDataForHttp(wxData.putPlayerData + openid);\r\n\t\t\t\r\n\t\t\tself.checkResurrNum();\r\n\t\t\tself.already = true;\r\n\t\t});\r\n\t},\r\n\r\n\tsetShareData: function() {\r\n\t\t//\r\n\t\tthis.setDataForHttp(wxData.shareUrl,function(response){\r\n\t\t\twxData.shareData = JSON.parse(response);\r\n\t\t});\r\n\t},\r\n\tsetMoreGameData: function() {\r\n\t\t//\r\n\t\tvar sysPlatform = 'android'\r\n\t\tif(cc.sys.os == cc.sys.OS_IOS){\r\n\t\t\tsysPlatform = 'ios';\r\n\t\t}\r\n\t\tthis.setDataForHttp(wxData.moreGameUrl+'&sysPlatForm='+sysPlatform,function(response){\r\n\t\t\twxData.moreGameData = JSON.parse(response);\r\n\t\t\tfor(var i = 0;i < wxData.moreGameData.length;i++) {\r\n\t\t\t\tif(wxData.moreGameData[i].screen && wxData.moreGameData[i].screen.length > 0 && wxData.moreGameData[i].screen[0].length > 0) {\r\n\t\t\t\t\tspotData.push(wxData.moreGameData[i]);\r\n\t\t\t\t}\r\n\t\t\t\tquickGame.RecommendIconData[i] = {jumpData:wxData.moreGameData[i].jumpType,url:wxData.moreGameData[i].icon,gameName:''};\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t\r\n\tshowAllRankingLayer: function(obj){\r\n\t\t\r\n\t},\r\n\tshowFailRankingLayer: function(obj){\r\n\t\t\r\n\t},\r\n\r\n\tshowMoreGameMiddle_one(obj){\r\n\t\tobj.gridCount = 5;\r\n\t\tvar fun = ()=>{\r\n\t\t\treturn BaseManager.prototype.showMoreGameMiddle_one.call(this,obj);\r\n\t\t}\r\n\t\treturn this.showMoreGameOrGrid(obj,fun);\r\n\t},\r\n\tshowMoreGameMiddle_two(obj){\r\n\t\tif(obj.moreGame){\r\n\t\t\treturn BaseManager.prototype.showMoreGameMiddle_two.call(this,obj);\r\n\t\t}\r\n\t\tobj.gridCount = 8;\r\n\t\tvar fun = ()=>{\r\n\t\t\treturn BaseManager.prototype.showMoreGameMiddle_two.call(this,obj);\r\n\t\t}\r\n\t\treturn this.showMoreGameOrGrid(obj,fun);\r\n\t},\r\n\tshowMoreGameMiddle_three(obj){\r\n\t\tobj.gridCount = 8;\r\n\t\tvar fun = ()=>{\r\n\t\t\treturn BaseManager.prototype.showMoreGameMiddle_three.call(this,obj);\r\n\t\t}\r\n\t\treturn this.showMoreGameOrGrid(obj,fun);\r\n\t},\r\n\tshowMoreGameOrGrid(obj,fun){\r\n\t\tvar type = this.showMoreGameOrGridType%2?1:2;\r\n\t\tswitch(this.showMoreGameOrGridType){\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.showMoreGameOrGridType++;\r\n\t\t\t\tthis.showMoreGameOrGridType = this.showMoreGameOrGridType%2?1:2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.showMoreGameOrGridType++;\r\n\t\t\t\tthis.showMoreGameOrGridType = this.showMoreGameOrGridType%2?1:2;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif(type == 1){\r\n\t\t\tif(fun()){\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\treturn this.showGridAd(obj);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\treturn this.showGridAd(obj,fun);\r\n\t\t}\r\n\t},\r\n\tshowGridAd(obj,fun = null){\r\n\t\tvar fNode = obj.node?obj.node:cc.director.getScene();\r\n\t\t\r\n\t\tif(this.getSDKVersionCanUse('2.9.2') && lieyou_wxGridId != \"\"){\r\n\t\t\tvar gridAd = wx.createGridAd({\r\n\t\t\t\tadUnitId:lieyou_wxGridId,\r\n\t\t\t\tstyle:{\r\n\t\t\t\t\tleft:0,\r\n\t\t\t\t\ttop:0,\r\n\t\t\t\t\twidth:100,\r\n\t\t\t\t\theight:100\r\n\t\t\t\t},\r\n\t\t\t\tadTheme:this.gridAdTheme,\r\n\t\t\t\tgridCount:obj.gridCount\r\n\t\t\t});\r\n\t\t\tgridAd.show();\r\n\t\t\tgridAd.onError((res)=>{\r\n\t\t\t\tif(fun){\r\n\t\t\t\t\tfun();\r\n\t\t\t\t}\r\n\t\t\t\tlieyou_showLog(\"wxlog----- show gridad fail \"+JSON.stringify(res));\r\n\t\t\t});\r\n\t\t\tvar baseNodejs = fNode.addComponent('lieyou_baseNode');\r\n\t\t\tvar isShowBanner = this._isShowBanner;\r\n\t\t\tgridAd.onResize((res)=>{\r\n\t\t\t\tgridAd.offResize();\r\n\t\t\t\tif(this._haveShowSpotAd){\r\n\t\t\t\t\tgridAd.destroy();\r\n\t\t\t\t\tbaseNodejs.destroyCallBack = null;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis._haveShowGridAd = true;\r\n\t\t\t\tconsole.log(\">>>>>>>>>>>>> grid hideBanenr\");\r\n\t\t\t\tthis.hideBanner();\r\n\t\t\t\tvar viewSize = cc.view.getFrameSize();\r\n\t\t\t\tlet updateCallBack = ()=>{\r\n                    var worldPos = fNode.convertToWorldSpaceAR(cc.v2(obj.x?obj.x:0, obj.y?obj.y:0));\r\n\t\t\t\t\tvar xProportion = worldPos.x / lieyou_SdkManager.sdkWinSize.width;\r\n\t\t\t\t\tvar yProportion = 1- (worldPos.y / lieyou_SdkManager.sdkWinSize.height);\r\n\t\t\t\t\tgridAd.style.left = viewSize.width*xProportion - res.width/2;\r\n\t\t\t\t\tgridAd.style.top = viewSize.height*yProportion - res.height/2;\r\n\t\t\t\t}\r\n\t\t\t\tupdateCallBack();\r\n                baseNodejs.updateCallBack = updateCallBack;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tbaseNodejs.destroyCallBack = ()=>{\r\n\t\t\t\tthis._haveShowGridAd = false;\r\n\t\t\t\tif(isShowBanner){\r\n\t\t\t\t\tconsole.log(\">>>>>>>>>>>>> grid showBanenr\");\r\n\t\t\t\t\tthis.showBanner(this._showBannerObj);\r\n\t\t\t\t}\r\n\t\t\t\tlieyou_showLog('wxlog---------- gridAd destroy');\r\n\t\t\t\tgridAd.destroy();\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\tif(fun){\r\n\t\t\t\treturn fun();\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t\tlieyou_showLog(\"wxlog----- show gridad version low \");\r\n\t\t}\r\n\t},\r\n\tshowSpotByBegin: function(isHaveNative,top){\r\n\t\tthis.showMySpot();\r\n\t},\r\n\tshowSpotByPause: function(isHaveNative,top){\r\n\t\tthis.showMySpot();\r\n\t},\r\n\tshowSpotByFinish: function(isHaveNative,top){\r\n\t\tthis.showMySpot();\r\n\t},\r\n\tshowMySpot(){\r\n\t\tif(this._alShowSpot){\r\n\t\t\tlieyou_SdkManager.showMoreGameGrid();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._alShowSpot = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis._alShowSpot = false;\r\n\t\t}, 10*1000);\r\n\t\tif(!this.getSDKVersionCanUse('2.6.0')){\r\n\t\t\tlieyou_SdkManager.showMoreGameGrid();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(wxSpotId == ''){\r\n\t\t\tlieyou_SdkManager.showMoreGameGrid();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar self = this;\r\n\t\tvar spotAd = wx.createInterstitialAd({\r\n\t\t\tadUnitId:wxSpotId\r\n\t\t});\r\n\t\tif(this.getSDKVersionCanUse('2.8.0')){\r\n\t\t\tspotAd.load();\r\n\t\t}\r\n\t\tvar isShowBanner = this._isShowBanner;\r\n\t\tspotAd.onLoad(()=>{\r\n\t\t\tspotAd.offLoad();\r\n\t\t\tif(this._haveShowGridAd){\r\n\t\t\t\tlieyou_SdkManager.showMoreGameGrid();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._haveShowSpotAd = true;\r\n\t\t\tconsole.log(\">>>>>>>>>>>>> spot hideBanenr\");\r\n\t\t\tthis.hideBanner();\r\n\t\t\tspotAd.show();\r\n\t\t});\r\n\t\tspotAd.onClose(()=>{\r\n\t\t\t//spot\r\n\t\t\tthis._haveShowSpotAd = false;\r\n\t\t\tif(isShowBanner){\r\n\t\t\t\tconsole.log(\">>>>>>>>>>>>> spot showBanenr\");\r\n\t\t\t\tthis.showBanner(this._showBannerObj);\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tspotAd.onError(function(res){\r\n\t\t\tlieyou_SdkManager.showMoreGameGrid();\r\n\t\t\tspotAd.offClose();\r\n\t\t\tspotAd.offError();\r\n\t\t\tspotAd.offLoad();\r\n\t\t\tif(self.getSDKVersionCanUse('2.8.0')){\r\n\t\t\t\tspotAd.destroy();\r\n\t\t\t}\r\n\t\t\tlieyou_showLog('show spot ad fail   '+JSON.stringify(res));\r\n\t\t});\r\n\t},\r\n\tsetRankingData: function(key,score){\r\n\t\tif(!this.getSDKVersionCanUse('1.9.92')){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\twx.setUserCloudStorage({\r\n            KVDataList:[{\"key\":key,\"value\":\"\" + score}],\r\n            success:function(){lieyou_showLog(\"success\")},\r\n            fail:function(){lieyou_showLog(\"fail\")},\r\n            complete:function(){lieyou_showLog(\"complete\")}\r\n        });\r\n\t},\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tshareHelpSuccess(level){\r\n\t\tthis.shareOnShow = true;\r\n\t\tthis.shareBegTime = getTime()/1000;\r\n\t\tthis.shareCallBack = null;\r\n\t\t//source 9\r\n\t\tvar self = this;\r\n\t\tif(wxData.shareData.length > 0 && getCanShare()){\r\n\t\t\tvar adid = 0;\r\n\t\t\tvar _title = \"\";\r\n\t\t\tvar _url = \"\";\r\n\r\n\t\t\tfor(var i = 0; i < wxData.shareData.length;i++){\r\n\t\t\t\tif(wxData.shareData[i].mode == GameName){\r\n\t\t\t\t\tvar data = wxData.shareData[i].item;\r\n\t\t\t\t\tif(wxData.shareData[i].level && wxData.shareData[i].level.success) {\r\n\t\t\t\t\t\tdata = wxData.shareData[i].level.success;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar random = parseInt(Math.random() * data.length);\r\n\t\t\t\t\tadid = data[random].id;\r\n\t\t\t\t\t_title = data[random].title;\r\n\t\t\t\t\r\n\t\t\t\t\t_title = _title.replace(/%d/g, level + 1);\r\n\t\t\t\t\t_url = data[random].img;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar _query =wxData.putShareDataUrl+\"?dsadsa=dsdsd\"+\"&appId=\"+wxData.appId+\"&gamerId=\"+openid+\"&itemId=\" + adid + \"&source=9\";\r\n\t\t\tthis._shareQuery = _query;\r\n\t\t\twx.shareAppMessage({\r\n\t\t\t\ttitle:_title,\r\n\t\t\t\timageUrl:_url,\r\n\t\t\t\tquery:_query\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tvar _query =wxData.putShareDataUrl+\"?dsadsa=dsdsd\"+\"&appId=\"+wxData.appId+\"&gamerId=\"+openid+\"&itemId=\" + -1 + \"&source=9\";\r\n\t\t\tthis._shareQuery = _query;\r\n\t\t\twx.shareAppMessage({\r\n\t\t\t\ttitle:\"\",\r\n\t\t\t\timageUrl:\"https://res.igame58.com/wxxyx/commom/shareIcon.png\",\r\n\t\t\t\tquery:_query\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * \r\n\t */\r\n\tshareHelp(level){\r\n\t\tthis.shareOnShow = true;\r\n\t\tthis.shareBegTime = getTime()/1000;\r\n\t\tthis.shareCallBack = null;\r\n\t\t//source 8\r\n\t\tvar self = this;\r\n\t\tif(wxData.shareData.length > 0 && getCanShare()){\r\n\t\t\tvar adid = 0;\r\n\t\t\tvar _title = \"\";\r\n\t\t\tvar _url = \"\";\r\n\r\n\t\t\tfor(var i = 0; i < wxData.shareData.length;i++){\r\n\t\t\t\tif(wxData.shareData[i].mode == GameName){\r\n\t\t\t\t\tvar data = wxData.shareData[i].item;\r\n\t\t\t\t\tif(wxData.shareData[i].level && wxData.shareData[i].level.help) {\r\n\t\t\t\t\t\tdata = wxData.shareData[i].level.help;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar random = parseInt(Math.random() * data.length);\r\n\t\t\t\t\tadid = data[random].id;\r\n\t\t\t\t\t_title = data[random].title;\r\n\t\t\t\t\t_title = _title.replace(/%d/g, level + 1);\r\n\t\t\t\t\t_url = data[random].img;\r\n\t\t\t\t}\r\n\t\t\t}\r\n        \t\r\n\r\n\t\t\tvar _query =wxData.putShareDataUrl+\"?dsadsa=dsdsd\"+\"&appId=\"+wxData.appId+\"&gamerId=\"+openid+\"&itemId=\" + adid + \"&source=8\" + \"&level=\" + level;\r\n\t\t\tthis._shareQuery = _query;\r\n\t\t\twx.shareAppMessage({\r\n\t\t\t\ttitle:_title,\r\n\t\t\t\timageUrl:_url,\r\n\t\t\t\tquery:_query\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tvar _query =wxData.putShareDataUrl+\"?dsadsa=dsdsd\"+\"&appId=\"+wxData.appId+\"&gamerId=\"+openid+\"&itemId=\" + -1 + \"&source=8\" + \"&level=\" + level;\r\n\t\t\tthis._shareQuery = _query;\r\n\t\t\twx.shareAppMessage({\r\n\t\t\t\ttitle:\"\",\r\n\t\t\t\timageUrl:\"https://res.igame58.com/wxxyx/commom/shareIcon.png\",\r\n\t\t\t\tquery:_query\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\thelpFriendSuccess(level){\r\n\t\t//wxAppId helpOpenId level uinfo.icon uinfo.nick\r\n\t\tvar url = serverUrl + \"lieyou/wxdata/addHelpRecord?wxGameId=\" + wxAppId + \"&gamerId=\" + helpOpenId + \"&level=\" + level + \"&icon=\" + uinfo.icon + \"&name=\" + uinfo.nick;\r\n\t\tthis.setDataForHttp(url);\r\n\t},\r\n\tgetIsHaveFriendHelpMe(level,fun){\r\n\t\t//level openid wxAppId   \r\n\t\tvar url = serverUrl + \"lieyou/wxdata/getClickInfo/\" + wxAppId + \"/\" + openid + \"/\" + level;\r\n\t\tthis.setDataForHttp(url,function(response){\r\n\t\t\tvar data = JSON.parse(response);\r\n\t\t\tif(data.name && data.name != \"\") {\r\n\t\t\t\tfun({level:level,name:data.name,icon:data.icon});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * \r\n\t */\r\n\tshare: function(obj){\r\n\t\tthis.shareAndVideoAllNum++;\r\n\t\tthis.shareOnShow = true;\r\n\t\tthis.shareBegTime = getTime()/1000;\r\n\t\tif(obj.success){\r\n\t\t\tthis.shareCallBack = obj.success;\r\n\t\t}else{\r\n\t\t\tthis.shareCallBack = null\r\n\t\t}\r\n\t\tvar getGroupId = obj.getGroupId?obj.getGroupId:true;\r\n\t\tvar self = this;\r\n\t\tif(wxData.shareData.length <= 0 || !getCanShare()){\r\n\t\t\tvar _query =wxData.putShareDataUrl+\"?dsadsa=dsdsd\"+\"&appId=\"+wxData.appId+\"&gamerId=\"+openid+\"&itemId=\"+-1+\"&source=\"+obj.source;\r\n\t\t\tif(obj.inviteFriend) {\r\n\t\t\t\t_query += \"&inviteFriend=\" + obj.inviteFriend;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tthis._shareQuery = _query;\r\n\t\t\twx.shareAppMessage({\r\n\t\t\t\ttitle:\"\",\r\n\t\t\t\timageUrl:\"https://res.igame58.com/wxxyx/commom/shareIcon.png\",\r\n\t\t\t\tquery:_query\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//obj = {name:sss,source:1,success:fun}\r\n\t\tvar adid = 0;\r\n\t\tvar _title = \"\";\r\n\t\tvar _url = \"\";\r\n\t\tfor(var i = 0; i < wxData.shareData.length;i++){\r\n\t\t\tif(wxData.shareData[i].mode == obj.name){\r\n\t\t\t\tvar data = wxData.shareData[i].item;\r\n\t\t\t\tvar random = parseInt(Math.random() * data.length);\r\n\t\t\t\tadid = data[random].id;\r\n\t\t\t\t_title = data[random].title;\r\n\t\t\t\t_url = data[random].img;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar _query =wxData.putShareDataUrl+\"?dsadsa=dsdsd\"+\"&appId=\"+wxData.appId+\"&gamerId=\"+openid+\"&itemId=\"+adid+\"&source=\"+obj.source;\r\n\t\tif(obj.inviteFriend) {\r\n\t\t\t_query += \"&inviteFriend=\" + obj.inviteFriend;\r\n\t\t\t\r\n\t\t}\r\n\t\tthis._shareQuery = _query;\r\n\t\twx.shareAppMessage({\r\n            title:_title,\r\n            imageUrl:_url,\r\n            query:_query\r\n            \r\n        });\r\n\t},\r\n\tcheckResurrNum_2: function(){\r\n\t\tif(canGetNetCardNum){\r\n\t\t\tcanGetNetCardNum = false;\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tcanGetNetCardNum = true;\r\n\t\t\t},getNetCardTime);\r\n\t\t\treturn this.checkResurrNum();\r\n\t\t}\r\n\r\n\t\tvar localCardNum = Userdefault.getIntForKey(localCardKey,0);\r\n\t\treturn localCardNum + netCardNum > 5?5:localCardNum + netCardNum;\r\n\t},\r\n\tcheckResurrNum: function(){\r\n\t\t// \r\n\t\tthis.setDataForHttp(wxData.checkResurrDataUrl +  \"?appId=\" + wxData.appId + \"&gamerId=\"+openid,function(response){\r\n\t\t\tnetCardNum = parseInt(response);\r\n\t\t});\r\n\t\t\r\n\t\tvar localCardNum = Userdefault.getIntForKey(localCardKey,0);\r\n\t\treturn localCardNum + netCardNum > 5?5:localCardNum + netCardNum;\r\n\t},\r\n\tuseResurr: function(){\r\n\t\tvar localCardNum = Userdefault.getIntForKey(localCardKey,0);\r\n        if(localCardNum > 0) {\r\n\t\t\tvar num = localCardNum + netCardNum;\r\n\t\t\tvar delNum = 1;\r\n\t\t\tif(num >= 5) {\r\n\t\t\t\tdelNum = num - 4;\r\n\t\t\t}\r\n\t\t\tUserdefault.setDataForKey(localCardKey,localCardNum - delNum);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tnetCardNum--;\r\n\t\t//\r\n\t\tvar url = wxData.useResurrDataUrl + \"?appId=\" + wxData.appId + \"&gamerId=\"+openid;\r\n\t\tthis.setDataForHttp(url);\r\n\t},\r\n\taddLocalResurr: function(){\r\n\t\tvar localCardNum = Userdefault.getIntForKey(localCardKey,0);\r\n       \r\n\t\tUserdefault.setDataForKey(localCardKey,localCardNum + 1);\r\n\t\t\t\r\n\t},\r\n\t/**\r\n\t *  -1\r\n\t */\r\n\tgetHelpLevel(){\r\n\t\tvar query = wx.getLaunchOptionsSync().query;\r\n\t\tif(query.level && query.source == 8) {\r\n\t\t\thelpOpenId = query.gamerId;\r\n\t\t\treturn parseInt(query.level);\r\n\t\t}\r\n\t\treturn -1;\r\n\t},\r\n\topenShare: function(){\r\n\t\t//\r\n\t\tvar self = this;\r\n\t\tif(!this.haveGetAuthorize) {\r\n\t\t\tvar query = wx.getLaunchOptionsSync().query;\r\n\t\t\tif(query.source){\r\n\t\t\t\tvar str = wxData.putTouchShareDataUrl+\"?\"+\"appId=\"+query.appId +\"&principal_gamerId=\"+query.gamerId+\"&assistant_gamerId=\"+openid+\"&itemId=\"+query.itemId+\"&source=\"+query.source;\r\n\t\t\t\tthis.setDataForHttp(str);\r\n\t\t\t\tif(!Userdefault.getBoolForKey(query.gamerId,false)){\r\n\t\t\t\t\tcanGetLocalCard = true;\r\n\t\t\t\t\tgetLocalCareId = \"\" + query.gamerId;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t}\r\n\t\t}\r\n        wx.showShareMenu({withShareTicket: true});\r\n        wx.onShareAppMessage(function(){\r\n\r\n\t\t\tself.shareOnShow = true;\r\n\t\t\tself.shareBegTime = getTime()/1000;\r\n\t\t\tself.shareCallBack = null\r\n\r\n\t\t\tvar adid = -1;\r\n\t\t\tvar _title = \"\";\r\n\t\t\tvar _url = \"https://res.igame58.com/wxxyx/commom/shareIcon.png\";\r\n\t\t\tfor(var i = 0; i < wxData.shareData.length;i++){\r\n\t\t\t\tif(wxData.shareData[i].mode == GameName){\r\n\t\t\t\t\tvar data = wxData.shareData[i].item;\r\n\t\t\t\t\tvar random = parseInt(Math.random() * data.length);\r\n\t\t\t\t\tadid = data[random].id;\r\n\t\t\t\t\t_title = data[random].title;\r\n\t\t\t\t\t_url = data[random].img;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n            var _query =wxData.putShareDataUrl+\"?sdsdsds=dsds\"+\"&appId=\"+wxData.appId+\"&gamerId=\"+openid+\"&itemId=\"+adid+\"&source=1\";\r\n\t\t\tself._shareQuery = _query;\r\n\t\t\treturn {\r\n                title: _title,\r\n                imageUrl: _url,\r\n                query:_query\r\n            }\r\n        });\r\n\t},\r\n\t// 1  2  3  4  5  6 banner 7 banner 8  9  10 icon\r\n\tjumpApp(data,url,page,num){\r\n\t\tvar self = this;\r\n\t\tif(this.getSDKVersionCanUse('2.2.0')){\r\n\t\t\twx.navigateToMiniProgram({appId:data.appId,path:data.path,fail:function(err){\r\n\t\t\t\tvar forward_appid = data.appId;\r\n\t\t\t\tvar url_n = serverUrl+'lieyou/wxdata/addGamePromotion?page='+page+'&appid='+wxAppId+'&s_number='+num+'&forward_appid='+forward_appid+'&openid='+openid+'&status='+0;\r\n\t\t\t\tself.setDataForHttp(url_n);\r\n\t\t\t\tif(err.errMsg != 'navigateToMiniProgram:fail cancel'){\r\n\t\t\t\t\twx.previewImage({\r\n\t\t\t\t\t\tcurrent: url[0], // http \r\n\t\t\t\t\t\turls: url, // http \r\n\t\t\t\t\t\tsuccess: function(){}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},success:function(err){\r\n\t\t\t\tvar forward_appid = data.appId;\r\n\t\t\t\tvar url_n = serverUrl+'lieyou/wxdata/addGamePromotion?page='+page+'&appid='+wxAppId+'&s_number='+num+'&forward_appid='+forward_appid+'&openid='+openid+'&status='+1;\r\n\t\t\t\tself.setDataForHttp(url_n);\r\n\t\t\t}});\r\n\t\t}else{\r\n\t\t\twx.previewImage({\r\n\t\t\t\tcurrent: url[0], // http \r\n\t\t\t\turls: url, // http \r\n\t\t\t\tsuccess: function(){}\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tsetDataForHttp: function(url,fun){\r\n\t\t//  \r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.onreadystatechange = function () {\r\n\t\t\tif (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 400)) {\r\n\t\t\t\tvar response = xhr.responseText;\r\n\t\t\t\tif(response=='-1'){\r\n\t\t\t\t}\r\n\t\t\t\telse if(response=='-2'){\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(fun){\r\n\t\t\t\t\t\tfun(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\txhr.open(\"GET\", url, true);\r\n\t\txhr.send();\r\n\t},\r\n\r\n\taddToast(_node,str,_callBack){\r\n\t\t\r\n\t\t\r\n\t},\r\n\tshareDialog(_node){\r\n\t\t\r\n\t},\r\n\taddGetLocakCardDialog(_node){\r\n\t\t\r\n\t},\r\n\tmodifyInviteFriend(friendId){\r\n\t\tvar url = serverUrl + 'lieyou/wxdata/modifyFlag/' + wxAppId + \"/\" + openid + \"/\" + friendId;\r\n\t\tthis.setDataForHttp(url);\r\n\t},\r\n\tdeleteInviteFriend(Id){\r\n\t\tvar url = serverUrl + 'lieyou/wxdata/delFriendInfo/' + Id;\r\n\t\tthis.setDataForHttp(url);\r\n\t},\r\n\tgetInviteFriendData(flag,fun){\r\n\t\tvar url = serverUrl + 'lieyou/wxdata/getFriendInfo/' + wxAppId + \"/\" + openid + \"/\" + flag;\r\n\t\tthis.setDataForHttp(url,function(response){\r\n\t\t\tvar data = JSON.parse(response);\r\n\t\t\tfun(data);\r\n\t\t});\r\n\t},\r\n\t\r\n\tshowInviteFriend(_node,_callBack){\r\n\t\t\r\n\t},\r\n\tshowInviteFriendFailure(_node){\r\n\t\t\r\n\t},\r\n\tgetOnlineSpriteFrame(url,fun){\r\n\t\tif(url == \"\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar loadFile = {\r\n            url: url,\r\n            type: \"image\"\r\n        };\r\n\t\tcc.loader.load(loadFile, function (err, tex) {\r\n            if (err) {\r\n                return;\r\n            }\r\n            fun(new cc.SpriteFrame(tex));\r\n        });\r\n\t},\r\n\r\n\tgetSDKVersionCanUse: function(data){\r\n\t\tvar wxSys = wx.getSystemInfoSync();\r\n\t\tvar version = wxSys.SDKVersion;\r\n\t\tvar str = data.split(\".\");\r\n\t\tvar str1 = version.split(\".\");\r\n\t\tfor(var i = 0;i<3;i++) {\r\n\t\t\tif(parseInt(str1[i])<parseInt(str[i])) {   \r\n\t\t\t\treturn false;\r\n\t\t\t}else if(parseInt(str1[i])>parseInt(str[i])) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n        return true;\r\n\t},\r\n\t\r\n\tshowGameRecommend(callBack = null){\r\n\t\tif(!canExperienceGame) {\r\n\t\t\tif(callBack){\r\n\t\t\t\tcallBack(false);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.isOpen(KEY_IS_SHENHE)){\r\n\t\t\tif(callBack){\r\n\t\t\t\tcallBack(false);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar timeLast = Userdefault.getIntForKey('SKD_showRecommendDialogTime',0);\r\n\t\tvar timeNow = parseInt(getTime()/1000);\r\n\t\tif(timeNow - timeLast < 10) {\r\n\t\t\tif(callBack){\r\n\t\t\t\tcallBack(false);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tUserdefault.setDataForKey('SKD_showRecommendDialogTime',timeNow);\r\n\t\tvar self = this;\r\n        cc.loader.loadRes('SDK/module/RecommendGame/Recommend_playVD',function(err,res){\r\n\t\t\tvar node = cc.instantiate(res); \r\n\t\t\tvar fNode = cc.find('Canvas');\r\n\t\t\tfNode.addChild(node,999);  \r\n\t\t\tnode.getComponent('RecommendGame_playVD').setData(callBack);\r\n        })\r\n\t},\r\n\r\n\tgetShareOrViedo(){\r\n\t\tif(this.isOpen(KEY_IS_SHENHE)){\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tvar nShareAndVideoAllNum = this.shareAndVideoAllNum;\r\n\t\t\r\n\t\tvar retType = 0;\r\n\t\t//1 2 3 4- 5- 60-10  10-24 -\r\n\t\tif(this.shareOrVideoType == 1) {\r\n\t\t\tretType = 0;\r\n\t\t}else if(this.shareOrVideoType == 2) {\r\n\t\t\tretType = 1;\r\n\t\t}else if(this.shareOrVideoType == 3) {\r\n\t\t\tretType = 2;\r\n\t\t}else if(this.shareOrVideoType == 4) {\r\n\t\t\tif(nShareAndVideoAllNum%2 == 0){\r\n\t\t\t\tretType = 1;\r\n\t\t\t}else{\r\n\t\t\t\tretType = 2;\r\n\t\t\t}\r\n\t\t}else if(this.shareOrVideoType == 5) {\r\n\t\t\tif(nShareAndVideoAllNum%2 == 0){\r\n\t\t\t\tretType = 2;\r\n\t\t\t}else{\r\n\t\t\t\tretType = 1;\r\n\t\t\t}\r\n\t\t}else if(this.shareOrVideoType == 6) {\r\n\t\t\tvar hours = (new Date()).getHours();\r\n\t\t\tif(hours>=0 && hours < 10) {\r\n\t\t\t\tretType = 2;\r\n\t\t\t}\r\n\t\t\tif(nShareAndVideoAllNum%2 == 0){\r\n\t\t\t\tretType = 2;\r\n\t\t\t}else{\r\n\t\t\t\tretType = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(retType == 2) {\r\n\t\t\tif(wxVideoId == \"\"){\r\n\t\t\t\tif(!this.isOpen(KEY_IS_SHENHE)){\r\n\t\t\t\t\tretType = 1;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tretType = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else if(retType == 1) {\r\n\t\t\tif(this.isOpen(KEY_IS_SHENHE)){\r\n\t\t\t\tif(wxVideoId != \"\"){\r\n\t\t\t\t\tretType = 2;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tretType = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn retType;\r\n\t},\r\n\r\n\tsetWorldRankData(key,score){\r\n\t\tvar url_n = serverUrl+'lieyou/wxdata/addRankList?wxGameId='+wxAppId+'&gamerId='+openid+'&nikeName='+uinfo.nick+'&headImagePath='+uinfo.icon+'&score='+score+'&rankKey='+key;\r\n\t\tthis.setDataForHttp(url_n);\r\n\t},\r\n\r\n\t//new \r\n\tnewJumpApp(obj){\r\n\t\tvar self = this;\r\n\t\tif(this.getSDKVersionCanUse('2.2.0')){\r\n\t\t\twx.navigateToMiniProgram({appId:obj.data.appId,path:obj.data.path,fail:function(err){\r\n\t\t\t\tif(err.errMsg != 'navigateToMiniProgram:fail cancel'){\r\n\t\t\t\t\tif(obj.data.url){\r\n\t\t\t\t\t\tif(obj.success){\r\n\t\t\t\t\t\t\tobj.success();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twx.previewImage({\r\n\t\t\t\t\t\t\tcurrent: obj.data.url[0], // http \r\n\t\t\t\t\t\t\turls: obj.data.url // http \r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},success:function(err){\r\n\t\t\t\tif(obj.success){\r\n\t\t\t\t\tobj.success();\r\n\t\t\t\t}\r\n\t\t\t}.bind(this)});\r\n\t\t}else{\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n})\r\nmodule.exports = WxManager;"]}