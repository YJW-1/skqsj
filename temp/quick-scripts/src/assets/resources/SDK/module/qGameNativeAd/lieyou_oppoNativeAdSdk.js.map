{"version":3,"sources":["assets\\resources\\SDK\\module\\qGameNativeAd\\lieyou_oppoNativeAdSdk.js"],"names":["cc","Class","Component","properties","touchLabel","Label","titleLabel","wordLabel","bgNode","Node","iconNode","titleNode","onLoad","_SDKNativeAdLoadServerRes","touchButton","find","node","loader","load","err","texture","getComponent","Sprite","spriteFrame","SpriteFrame","close","self","winSize","winsizeWidth","height","width","scale","nowTime","parseInt","getTime","lashTime","Userdefault","getIntForKey","oppo_waitT","oppo_nativeArea","start","setData","obj","closeBtnNode","closeNode","active","closeShow","opacity","closeAlpha","closeRange","closeSize","bannerHeight","undefined","y","touchCallBack","closeCallBack","title","string","desc","clickBtnTxt","sys","platform","OPPO_GAME","imgUrlList","length","getOnlineSpriteFrame","Math","random","iconUrlList","logoUrl","lieyou_load","error","lieyou_showLog","url","loadFile","type","tex","isValid","callBackTouch","callBackClose","destroy","onDisable"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        touchLabel: cc.Label,\r\n        titleLabel: cc.Label,\r\n        wordLabel: cc.Label,\r\n        bgNode: cc.Node,\r\n        iconNode: cc.Node,\r\n        titleNode: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        if(this.titleNode && _SDKNativeAdLoadServerRes){\r\n            var touchButton = cc.find('myNode/touchButton',this.node);\r\n            cc.loader.load('http://idata.igame58.com/oppo/q_ad/touch.png', (err, texture) => {\r\n                touchButton.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n            });\r\n            var close = cc.find('myNode/closeButton/close',this.node);\r\n            cc.loader.load('http://idata.igame58.com/oppo/q_ad/close.png', (err, texture) => {\r\n                close.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n            });\r\n        }\r\n        var self = this;\r\n        var winSize = cc.winSize;\r\n        var winsizeWidth = winSize.height>winSize.width?winSize.width:winSize.height;\r\n        cc.find('myNode',this.node).scale = winsizeWidth/720;\r\n        var nowTime = parseInt(getTime()/1000);\r\n        var lashTime = Userdefault.getIntForKey('oppo_oncePlayGameTime',nowTime);\r\n        if(nowTime - lashTime > oppo_waitT){\r\n            cc.find('myNode/touch',this.node).width *= oppo_nativeArea;\r\n            cc.find('myNode/touch',this.node).height *= oppo_nativeArea;\r\n        }else{\r\n            // cc.find('myNode/touch',this.node).active = false;\r\n        }\r\n    },\r\n\r\n    start () {\r\n    },\r\n\r\n    setData(obj = {}){\r\n        try {\r\n            var closeBtnNode = cc.find('myNode/closeButton',this.node);\r\n            var closeNode = cc.find('myNode/closeButton/close',this.node);\r\n            closeBtnNode.active = obj.closeShow;\r\n            closeBtnNode.opacity = obj.closeAlpha;\r\n            closeBtnNode.width = obj.closeRange;\r\n            closeBtnNode.height = obj.closeRange;\r\n            closeNode.width = obj.closeSize;\r\n            closeNode.height = obj.closeSize;\r\n            if(obj.bannerHeight != undefined){\r\n                cc.find('myNode/bg',this.node).height = obj.bannerHeight;\r\n                closeBtnNode.y = obj.bannerHeight;\r\n                cc.find('myNode/bannerNativeAD',this.node).y = obj.bannerHeight;\r\n                cc.find('myNode/icon',this.node).y = obj.bannerHeight/2;\r\n                cc.find('myNode/touchButton',this.node).y = obj.bannerHeight/2; \r\n                cc.find('myNode/titleLabel',this.node).y = obj.bannerHeight/3*2; \r\n                cc.find('myNode/label',this.node).y = obj.bannerHeight/3; \r\n            }\r\n\r\n            this.touchCallBack = obj.touchCallBack;\r\n            this.closeCallBack = obj.closeCallBack;\r\n            if(obj.title)\r\n                this.titleLabel.string = obj.title;\r\n            if(obj.desc)\r\n                this.wordLabel.string = obj.desc;\r\n            if(this.touchLabel && obj.clickBtnTxt)\r\n                this.touchLabel.string = obj.clickBtnTxt;\r\n            if(cc.sys.platform == cc.sys.OPPO_GAME){\r\n                this.touchLabel.string = '查看广告';\r\n            }\r\n            \r\n            if(obj.imgUrlList.length > 0){\r\n                this.getOnlineSpriteFrame(obj.imgUrlList[parseInt(Math.random() * obj.imgUrlList.length)],cc.find('myNode/image',this.node));\r\n            }else if(obj.iconUrlList.length > 0){\r\n                this.getOnlineSpriteFrame(obj.iconUrlList[parseInt(Math.random() * obj.iconUrlList.length)],this.iconNode);\r\n            }\r\n            if(this.titleNode && obj.logoUrl){\r\n                this.getOnlineSpriteFrame(obj.logoUrl,this.titleNode);\r\n            }else if(this.titleNode){\r\n                lieyou_load('q_ad/SpotNativeAD.png', (err, texture) => {\r\n                    this.titleNode.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\r\n                });\r\n            }\r\n        } catch (error) {\r\n            lieyou_showLog('-------- show native fail ' + error);\r\n        }\r\n        \r\n    },\r\n    getOnlineSpriteFrame(url,node){\r\n\t\tif(url == \"\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar loadFile = {\r\n            url: url,\r\n            type: \"image\"\r\n        };\r\n\t\tcc.loader.load(loadFile, function (err, tex) {\r\n            if (err) {\r\n                return;\r\n            }\r\n            if(node && node.isValid)\r\n                node.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(tex);\r\n        });\r\n\t},\r\n    callBackTouch(){\r\n        this.touchCallBack();\r\n    },\r\n    callBackClose(){\r\n        if(!this.titleNode){\r\n            this.closeCallBack();\r\n        }\r\n        this.node.destroy();\r\n    },\r\n    onDisable(){\r\n        if(this.titleNode){\r\n            this.closeCallBack();\r\n        }\r\n    },\r\n    \r\n    \r\n\r\n    // update (dt) {},\r\n});\r\n\r\n\r\n// \"is_local_pos_id\": false,\r\n// \"spot_first_ad\": \"native\",\r\n// \"banner_first_ad\": \"native\",\r\n// \"awardid\": [\"98278\"],\r\n// \"bid\": [\"98277\"],\r\n// \"nativeid\": [\"98298\", \"98300\", \"98304\", \"98305\"],\r\n// \"nativeBannerid\": [\"55307\", \"98295\", \"98296\", \"98297\"],\r\n// \"spoid\": [\"98282\"],\r\n// \"banner_close_but_alpha\": 120,\r\n// \"banner_close_but_size\": 60,\r\n// \"banner_close_but_range\": 80,\r\n// \"spot_close_but_alpha\": 100,\r\n// \"spot_close_but_size\": 70,\r\n// \"spot_close_but_range\": 90,\r\n// \"canShowNativeBanner\",true\r\n// \"nativeDelayShowTime\":1\r\n// \"nativeDelayDestroyTime\":0\r\n// \"refreshBannerTime\":15\r\n\r\n// \"banner_click_refresh\": false,\r\n// \"spot_click_count\": 8,\r\n\r\n// \"banner_close_but_show\": true,\r\n\r\n// \"spot_click_close\": true,\r\n// \"banner_show_height\": 220,\r\n// \"spot_show_interval\": 2,"]}