
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/utils/ald-game-conf.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '85f5bL7Wx1HBqzISc3AQwmY', 'ald-game-conf');
// script/utils/ald-game-conf.js

"use strict";

if (window.wx && !window.qq && !window.tt) {
  //只在微信上可以使用
  exports.app_key = "1b7ccc37831ee4699281e21a18137289"; //请在此行填写从阿拉丁后台获取的appkey

  exports.getLocation = false; //默认不获取用户坐标位置

  exports.useOpen = false;
  exports.openKey = "";
}

window.onGameInit = function () {
  var storeID = 'test';

  if (cc.sys.platform == cc.sys.OPPO_GAME) {
    storeID = 'oppo';
  } else if (cc.sys.platform == cc.sys.VIVO_GAME) {
    storeID = 'vivo';
  } else if (cc.sys.platform == cc.sys.WECHAT_GAME) {
    if (window['qq']) {
      storeID = 'qq';
    } else if (window['tt']) {
      storeID = 'tt';
    } else {
      storeID = 'wx';
    }
  }

  if (storeID != 'test') {
    // 开启（关闭）本地日志的输出
    cocosAnalytics.enableDebug(false);
    cocosAnalytics.init({
      appID: window['cocosAnalytics']["data"].appID,
      storeID: storeID,
      channel: "",
      version: "1.0.0",
      engine: "cocos",
      appSecret: "",
      callNumber: ""
    }); // 开始登录方法

    cocosAnalytics.CAAccount.loginStart({
      // 获客渠道，指获取该客户的广告渠道信息 
      channel: '99888'
    });
    cocosAnalytics.CAAccount.loginSuccess({
      userID: 'dddddddd',
      sex: 1,
      age: 1,
      channel: '99888' // 获客渠道，指获取该客户的广告渠道信息   

    });
    /**进入后台 */

    cc.game.on(cc.game.EVENT_HIDE, function () {
      cocosAnalytics.CAAccount.logout();
    });
    /**后台返回游戏 */

    cc.game.on(cc.game.EVENT_SHOW, function () {
      cocosAnalytics.CAAccount.loginStart({
        // 获客渠道，指获取该客户的广告渠道信息 
        channel: '99888'
      });
      cocosAnalytics.CAAccount.loginSuccess({
        userID: 'dddddddd',
        sex: 1,
        age: 1,
        channel: '99888' // 获客渠道，指获取该客户的广告渠道信息   

      });
    });
  }
};
/** 游戏开始
 *  mode 游戏模式 从1开始
 *  level 关卡  从1开始
 *  name 自定义关卡标识  可以不传
 */


window.onGameStart = function (mode, level, name) {
  var levelId = mode * 10000 + level;
  var levelName = name ? name : "第" + levelId + "关";
  lieyou_SdkManager.gameBeginLevel(level, mode);

  if (window.wx && !window.qq && !window.tt) {
    //只在微信上可以使用
    wx.aldStage.onStart({
      stageId: levelId,
      //关卡ID 该字段必传
      stageName: levelName //关卡名称  该字段必传

    });
  }
};
/** 游戏成功
 *  mode 游戏模式 从1开始
 *  level 关卡  从1开始
 *  name 自定义关卡标识  可以不传
 */


window.onGameSuccess = function (mode, level, name) {
  var levelId = mode * 10000 + level;
  var levelName = name ? name : "第" + levelId + "关";
  lieyou_SdkManager.gameFinishLevel(level, mode);

  if (window.wx && !window.qq && !window.tt) {
    //只在微信上可以使用
    wx.aldStage.onEnd({
      stageId: levelId,
      //关卡ID 该字段必传
      stageName: levelName,
      //关卡名称  该字段必传
      event: "complete"
    });
  }
};
/** 游戏失败
 *  mode 游戏模式 从1开始
 *  level 关卡  从1开始
 *  name 自定义关卡标识  可以不传
 */


window.onGameFail = function (mode, level, name) {
  var levelId = mode * 10000 + level;
  var levelName = name ? name : "第" + levelId + "关";
  lieyou_SdkManager.gameFailLevel(level, mode);

  if (window.wx && !window.qq && !window.tt) {
    //只在微信上可以使用
    wx.aldStage.onEnd({
      stageId: levelId,
      //关卡ID 该字段必传
      stageName: levelName,
      //关卡名称  该字段必传
      event: "fail"
    });
  }
};
/** 
 * 自定义游戏事件
 */


window.onGameEvent = function (type, event, level) {
  var id = window.event_key[type];

  if (id == undefined) {
    id = 30;
  }

  id *= 100000;

  for (var i = 0; i < event.length; i++) {
    id += Math.floor(event.charCodeAt(i) * (16 - i) * 16 / 1000);
  }

  if (level > 0) {
    id += level;
    event += level;
  }

  if (window.wx && !window.qq && !window.tt) {
    //只在微信上可以使用
    wx.aldStage.onStart({
      stageId: id,
      //关卡ID 该字段必传
      stageName: type + event //关卡名称  该字段必传

    });
    wx.aldStage.onEnd({
      stageId: id,
      //关卡ID 该字段必传
      stageName: type + event,
      //关卡名称  该字段必传
      event: "complete"
    });
  }
};
/** 其他事件 */


window.onGameOtherEvent = function (event) {
  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // cocosAnalytics && cocosAnalytics.CACustomEvent.onStarted('other', { type: event });
  // window["mta"] && window["mta"].onEvent("other", { event: event + level });
  window["onGameEvent"] && window["onGameEvent"]("其他", event, level);
};
/** 打开事件 */


window.onGameOpenEvent = function (type) {
  console.log("打开弹窗", type); // cocosAnalytics && cocosAnalytics.CACustomEvent.onStarted('open', { type: type });
  // window["mta"] && window["mta"].onEvent('open', { 'popup': type });

  window["onGameEvent"] && window["onGameEvent"]("打开", type);
};
/** 视频事件 */


window.onGameVideoEvent = function (type, status) {
  console.log("视频广告", type, status); // cocosAnalytics && cocosAnalytics.CACustomEvent.onStarted('video', { type: type + status });
  // window["mta"] && window["mta"].onEvent('video', { vtype: type + status });

  window["onGameEvent"] && window["onGameEvent"]("视频", type + status);
};

window.event_key = {
  "视频": 11,
  "打开": 12,
  "停留": 13,
  "进入": 20,
  "签到": 21,
  "转盘": 22,
  "抽奖": 23,
  "皮肤": 24,
  "成就": 25,
  "商城": 26,
  "其他": 27
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFx1dGlsc1xcYWxkLWdhbWUtY29uZi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJ3eCIsInFxIiwidHQiLCJleHBvcnRzIiwiYXBwX2tleSIsImdldExvY2F0aW9uIiwidXNlT3BlbiIsIm9wZW5LZXkiLCJvbkdhbWVJbml0Iiwic3RvcmVJRCIsImNjIiwic3lzIiwicGxhdGZvcm0iLCJPUFBPX0dBTUUiLCJWSVZPX0dBTUUiLCJXRUNIQVRfR0FNRSIsImNvY29zQW5hbHl0aWNzIiwiZW5hYmxlRGVidWciLCJpbml0IiwiYXBwSUQiLCJjaGFubmVsIiwidmVyc2lvbiIsImVuZ2luZSIsImFwcFNlY3JldCIsImNhbGxOdW1iZXIiLCJDQUFjY291bnQiLCJsb2dpblN0YXJ0IiwibG9naW5TdWNjZXNzIiwidXNlcklEIiwic2V4IiwiYWdlIiwiZ2FtZSIsIm9uIiwiRVZFTlRfSElERSIsImxvZ291dCIsIkVWRU5UX1NIT1ciLCJvbkdhbWVTdGFydCIsIm1vZGUiLCJsZXZlbCIsIm5hbWUiLCJsZXZlbElkIiwibGV2ZWxOYW1lIiwibGlleW91X1Nka01hbmFnZXIiLCJnYW1lQmVnaW5MZXZlbCIsImFsZFN0YWdlIiwib25TdGFydCIsInN0YWdlSWQiLCJzdGFnZU5hbWUiLCJvbkdhbWVTdWNjZXNzIiwiZ2FtZUZpbmlzaExldmVsIiwib25FbmQiLCJldmVudCIsIm9uR2FtZUZhaWwiLCJnYW1lRmFpbExldmVsIiwib25HYW1lRXZlbnQiLCJ0eXBlIiwiaWQiLCJldmVudF9rZXkiLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIiwiTWF0aCIsImZsb29yIiwiY2hhckNvZGVBdCIsIm9uR2FtZU90aGVyRXZlbnQiLCJvbkdhbWVPcGVuRXZlbnQiLCJjb25zb2xlIiwibG9nIiwib25HYW1lVmlkZW9FdmVudCIsInN0YXR1cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxNQUFNLENBQUNDLEVBQVAsSUFBYSxDQUFD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dCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpZiAod2luZG93Lnd4ICYmICF3aW5kb3cucXEgJiYgIXdpbmRvdy50dCkgey8v5Y+q5Zyo5b6u5L+h5LiK5Y+v5Lul5L2/55SoXG4gICAgZXhwb3J0cy5hcHBfa2V5ID0gXCIxYjdjY2MzNzgzMWVlNDY5OTI4MWUyMWExODEzNzI4OVwiOyAvL+ivt+WcqOatpOihjOWhq+WGmeS7jumYv+aLieS4geWQjuWPsOiOt+WPlueahGFwcGtleVxuICAgIGV4cG9ydHMuZ2V0TG9jYXRpb24gPSBmYWxzZTsgLy/pu5jorqTkuI3ojrflj5bnlKjmiLflnZDmoIfkvY3nva5cbiAgICBleHBvcnRzLnVzZU9wZW4gPSBmYWxzZTtcbiAgICBleHBvcnRzLm9wZW5LZXkgPSBcIlwiO1xufVxuXG53aW5kb3cub25HYW1lSW5pdCA9ICgpID0+IHtcbiAgICB2YXIgc3RvcmVJRCA9ICd0ZXN0JztcbiAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5PUFBPX0dBTUUpIHtcbiAgICAgICAgc3RvcmVJRCA9ICdvcHBvJztcbiAgICB9IGVsc2UgaWYgKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuVklWT19HQU1FKSB7XG4gICAgICAgIHN0b3JlSUQgPSAndml2byc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUpIHtcbiAgICAgICAgaWYgKHdpbmRvd1sncXEnXSkge1xuICAgICAgICAgICAgc3RvcmVJRCA9ICdxcSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAod2luZG93Wyd0dCddKSB7XG4gICAgICAgICAgICBzdG9yZUlEID0gJ3R0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlSUQgPSAnd3gnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzdG9yZUlEICE9ICd0ZXN0Jykge1xuICAgICAgICAvLyDlvIDlkK/vvIjlhbPpl63vvInmnKzlnLDml6Xlv5fnmoTovpPlh7pcbiAgICAgICAgY29jb3NBbmFseXRpY3MuZW5hYmxlRGVidWcoZmFsc2UpO1xuICAgICAgICBjb2Nvc0FuYWx5dGljcy5pbml0KHsgYXBwSUQ6IHdpbmRvd1snY29jb3NBbmFseXRpY3MnXVtcImRhdGFcIl0uYXBwSUQsIHN0b3JlSUQ6IHN0b3JlSUQsIGNoYW5uZWw6IFwiXCIsIHZlcnNpb246IFwiMS4wLjBcIiwgZW5naW5lOiBcImNvY29zXCIsIGFwcFNlY3JldDogXCJcIiwgY2FsbE51bWJlcjogXCJcIiB9KTtcbiAgICAgICAgLy8g5byA5aeL55m75b2V5pa55rOVXG4gICAgICAgIGNvY29zQW5hbHl0aWNzLkNBQWNjb3VudC5sb2dpblN0YXJ0KHtcbiAgICAgICAgICAgIC8vIOiOt+Wuoua4oOmBk++8jOaMh+iOt+WPluivpeWuouaIt+eahOW5v+WRiua4oOmBk+S/oeaBryBcbiAgICAgICAgICAgIGNoYW5uZWw6ICc5OTg4OCcsXG4gICAgICAgIH0pO1xuICAgICAgICBjb2Nvc0FuYWx5dGljcy5DQUFjY291bnQubG9naW5TdWNjZXNzKHtcbiAgICAgICAgICAgIHVzZXJJRDogJ2RkZGRkZGRkJyxcbiAgICAgICAgICAgIHNleDogMSxcbiAgICAgICAgICAgIGFnZTogMSxcbiAgICAgICAgICAgIGNoYW5uZWw6ICc5OTg4OCcsICAgLy8g6I635a6i5rig6YGT77yM5oyH6I635Y+W6K+l5a6i5oi355qE5bm/5ZGK5rig6YGT5L+h5oGvICAgXG4gICAgICAgIH0pO1xuICAgICAgICAvKirov5vlhaXlkI7lj7AgKi9cbiAgICAgICAgY2MuZ2FtZS5vbihjYy5nYW1lLkVWRU5UX0hJREUsICgpID0+IHtcbiAgICAgICAgICAgIGNvY29zQW5hbHl0aWNzLkNBQWNjb3VudC5sb2dvdXQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoq5ZCO5Y+w6L+U5Zue5ri45oiPICovXG4gICAgICAgIGNjLmdhbWUub24oY2MuZ2FtZS5FVkVOVF9TSE9XLCAoKSA9PiB7XG4gICAgICAgICAgICBjb2Nvc0FuYWx5dGljcy5DQUFjY291bnQubG9naW5TdGFydCh7XG4gICAgICAgICAgICAgICAgLy8g6I635a6i5rig6YGT77yM5oyH6I635Y+W6K+l5a6i5oi355qE5bm/5ZGK5rig6YGT5L+h5oGvIFxuICAgICAgICAgICAgICAgIGNoYW5uZWw6ICc5OTg4OCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvY29zQW5hbHl0aWNzLkNBQWNjb3VudC5sb2dpblN1Y2Nlc3Moe1xuICAgICAgICAgICAgICAgIHVzZXJJRDogJ2RkZGRkZGRkJyxcbiAgICAgICAgICAgICAgICBzZXg6IDEsXG4gICAgICAgICAgICAgICAgYWdlOiAxLFxuICAgICAgICAgICAgICAgIGNoYW5uZWw6ICc5OTg4OCcsICAgLy8g6I635a6i5rig6YGT77yM5oyH6I635Y+W6K+l5a6i5oi355qE5bm/5ZGK5rig6YGT5L+h5oGvICAgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vKiog5ri45oiP5byA5aeLXG4gKiAgbW9kZSDmuLjmiI/mqKHlvI8g5LuOMeW8gOWni1xuICogIGxldmVsIOWFs+WNoSAg5LuOMeW8gOWni1xuICogIG5hbWUg6Ieq5a6a5LmJ5YWz5Y2h5qCH6K+GICDlj6/ku6XkuI3kvKBcbiAqL1xud2luZG93Lm9uR2FtZVN0YXJ0ID0gKG1vZGUsIGxldmVsLCBuYW1lKSA9PiB7XG4gICAgdmFyIGxldmVsSWQgPSBtb2RlICogMTAwMDAgKyBsZXZlbDtcbiAgICB2YXIgbGV2ZWxOYW1lID0gbmFtZSA/IG5hbWUgOiBcIuesrFwiICsgbGV2ZWxJZCArIFwi5YWzXCI7XG4gICAgbGlleW91X1Nka01hbmFnZXIuZ2FtZUJlZ2luTGV2ZWwobGV2ZWwsIG1vZGUpO1xuICAgIGlmICh3aW5kb3cud3ggJiYgIXdpbmRvdy5xcSAmJiAhd2luZG93LnR0KSB7Ly/lj6rlnKjlvq7kv6HkuIrlj6/ku6Xkvb/nlKhcbiAgICAgICAgd3guYWxkU3RhZ2Uub25TdGFydCh7XG4gICAgICAgICAgICBzdGFnZUlkOiBsZXZlbElkLCAgICAgICAvL+WFs+WNoUlEIOivpeWtl+auteW/heS8oFxuICAgICAgICAgICAgc3RhZ2VOYW1lOiBsZXZlbE5hbWUgICAgLy/lhbPljaHlkI3np7AgIOivpeWtl+auteW/heS8oFxuICAgICAgICB9KVxuICAgIH1cbn1cbi8qKiDmuLjmiI/miJDlip9cbiAqICBtb2RlIOa4uOaIj+aooeW8jyDku44x5byA5aeLXG4gKiAgbGV2ZWwg5YWz5Y2hICDku44x5byA5aeLXG4gKiAgbmFtZSDoh6rlrprkuYnlhbPljaHmoIfor4YgIOWPr+S7peS4jeS8oFxuICovXG53aW5kb3cub25HYW1lU3VjY2VzcyA9IChtb2RlLCBsZXZlbCwgbmFtZSkgPT4ge1xuICAgIHZhciBsZXZlbElkID0gbW9kZSAqIDEwMDAwICsgbGV2ZWw7XG4gICAgdmFyIGxldmVsTmFtZSA9IG5hbWUgPyBuYW1lIDogXCLnrKxcIiArIGxldmVsSWQgKyBcIuWFs1wiO1xuICAgIGxpZXlvdV9TZGtNYW5hZ2VyLmdhbWVGaW5pc2hMZXZlbChsZXZlbCwgbW9kZSk7XG4gICAgaWYgKHdpbmRvdy53eCAmJiAhd2luZG93LnFxICYmICF3aW5kb3cudHQpIHsvL+WPquWcqOW+ruS/oeS4iuWPr+S7peS9v+eUqFxuICAgICAgICB3eC5hbGRTdGFnZS5vbkVuZCh7XG4gICAgICAgICAgICBzdGFnZUlkOiBsZXZlbElkLCAgICAgICAvL+WFs+WNoUlEIOivpeWtl+auteW/heS8oFxuICAgICAgICAgICAgc3RhZ2VOYW1lOiBsZXZlbE5hbWUsICAgLy/lhbPljaHlkI3np7AgIOivpeWtl+auteW/heS8oFxuICAgICAgICAgICAgZXZlbnQ6IFwiY29tcGxldGVcIlxuICAgICAgICB9KVxuICAgIH1cbn1cbi8qKiDmuLjmiI/lpLHotKVcbiAqICBtb2RlIOa4uOaIj+aooeW8jyDku44x5byA5aeLXG4gKiAgbGV2ZWwg5YWz5Y2hICDku44x5byA5aeLXG4gKiAgbmFtZSDoh6rlrprkuYnlhbPljaHmoIfor4YgIOWPr+S7peS4jeS8oFxuICovXG53aW5kb3cub25HYW1lRmFpbCA9IChtb2RlLCBsZXZlbCwgbmFtZSkgPT4ge1xuICAgIHZhciBsZXZlbElkID0gbW9kZSAqIDEwMDAwICsgbGV2ZWw7XG4gICAgdmFyIGxldmVsTmFtZSA9IG5hbWUgPyBuYW1lIDogXCLnrKxcIiArIGxldmVsSWQgKyBcIuWFs1wiO1xuICAgIGxpZXlvdV9TZGtNYW5hZ2VyLmdhbWVGYWlsTGV2ZWwobGV2ZWwsIG1vZGUpO1xuICAgIGlmICh3aW5kb3cud3ggJiYgIXdpbmRvdy5xcSAmJiAhd2luZG93LnR0KSB7Ly/lj6rlnKjlvq7kv6HkuIrlj6/ku6Xkvb/nlKhcbiAgICAgICAgd3guYWxkU3RhZ2Uub25FbmQoe1xuICAgICAgICAgICAgc3RhZ2VJZDogbGV2ZWxJZCwgICAgICAgLy/lhbPljaFJRCDor6XlrZfmrrXlv4XkvKBcbiAgICAgICAgICAgIHN0YWdlTmFtZTogbGV2ZWxOYW1lLCAgIC8v5YWz5Y2h5ZCN56ewICDor6XlrZfmrrXlv4XkvKBcbiAgICAgICAgICAgIGV2ZW50OiBcImZhaWxcIlxuICAgICAgICB9KVxuICAgIH1cbn1cbi8qKiBcbiAqIOiHquWumuS5iea4uOaIj+S6i+S7tlxuICovXG53aW5kb3cub25HYW1lRXZlbnQgPSAodHlwZSwgZXZlbnQsIGxldmVsKSA9PiB7XG4gICAgdmFyIGlkID0gd2luZG93LmV2ZW50X2tleVt0eXBlXTtcbiAgICBpZiAoaWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlkID0gMzA7XG4gICAgfVxuICAgIGlkICo9IDEwMDAwMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlkICs9IE1hdGguZmxvb3IoKGV2ZW50LmNoYXJDb2RlQXQoaSkgKiAoMTYgLSBpKSAqIDE2KSAvIDEwMDApO1xuICAgIH1cbiAgICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgICAgIGlkICs9IGxldmVsO1xuICAgICAgICBldmVudCArPSBsZXZlbDtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy53eCAmJiAhd2luZG93LnFxICYmICF3aW5kb3cudHQpIHsvL+WPquWcqOW+ruS/oeS4iuWPr+S7peS9v+eUqFxuICAgICAgICB3eC5hbGRTdGFnZS5vblN0YXJ0KHtcbiAgICAgICAgICAgIHN0YWdlSWQ6IGlkLCAgICAgICAvL+WFs+WNoUlEIOivpeWtl+auteW/heS8oFxuICAgICAgICAgICAgc3RhZ2VOYW1lOiB0eXBlICsgZXZlbnQgICAgLy/lhbPljaHlkI3np7AgIOivpeWtl+auteW/heS8oFxuICAgICAgICB9KVxuICAgICAgICB3eC5hbGRTdGFnZS5vbkVuZCh7XG4gICAgICAgICAgICBzdGFnZUlkOiBpZCwgICAgICAgLy/lhbPljaFJRCDor6XlrZfmrrXlv4XkvKBcbiAgICAgICAgICAgIHN0YWdlTmFtZTogdHlwZSArIGV2ZW50LCAgIC8v5YWz5Y2h5ZCN56ewICDor6XlrZfmrrXlv4XkvKBcbiAgICAgICAgICAgIGV2ZW50OiBcImNvbXBsZXRlXCJcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbi8qKiDlhbbku5bkuovku7YgKi9cbndpbmRvdy5vbkdhbWVPdGhlckV2ZW50ID0gKGV2ZW50LCBsZXZlbCA9IDApID0+IHtcbiAgICAvLyBjb2Nvc0FuYWx5dGljcyAmJiBjb2Nvc0FuYWx5dGljcy5DQUN1c3RvbUV2ZW50Lm9uU3RhcnRlZCgnb3RoZXInLCB7IHR5cGU6IGV2ZW50IH0pO1xuICAgIC8vIHdpbmRvd1tcIm10YVwiXSAmJiB3aW5kb3dbXCJtdGFcIl0ub25FdmVudChcIm90aGVyXCIsIHsgZXZlbnQ6IGV2ZW50ICsgbGV2ZWwgfSk7XG4gICAgd2luZG93W1wib25HYW1lRXZlbnRcIl0gJiYgd2luZG93W1wib25HYW1lRXZlbnRcIl0oXCLlhbbku5ZcIiwgZXZlbnQsIGxldmVsKTtcbn1cbi8qKiDmiZPlvIDkuovku7YgKi9cbndpbmRvdy5vbkdhbWVPcGVuRXZlbnQgPSAodHlwZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwi5omT5byA5by556qXXCIsIHR5cGUpO1xuICAgIC8vIGNvY29zQW5hbHl0aWNzICYmIGNvY29zQW5hbHl0aWNzLkNBQ3VzdG9tRXZlbnQub25TdGFydGVkKCdvcGVuJywgeyB0eXBlOiB0eXBlIH0pO1xuICAgIC8vIHdpbmRvd1tcIm10YVwiXSAmJiB3aW5kb3dbXCJtdGFcIl0ub25FdmVudCgnb3BlbicsIHsgJ3BvcHVwJzogdHlwZSB9KTtcbiAgICB3aW5kb3dbXCJvbkdhbWVFdmVudFwiXSAmJiB3aW5kb3dbXCJvbkdhbWVFdmVudFwiXShcIuaJk+W8gFwiLCB0eXBlKTtcbn1cbi8qKiDop4bpopHkuovku7YgKi9cbndpbmRvdy5vbkdhbWVWaWRlb0V2ZW50ID0gKHR5cGUsIHN0YXR1cykgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwi6KeG6aKR5bm/5ZGKXCIsIHR5cGUsIHN0YXR1cyk7XG4gICAgLy8gY29jb3NBbmFseXRpY3MgJiYgY29jb3NBbmFseXRpY3MuQ0FDdXN0b21FdmVudC5vblN0YXJ0ZWQoJ3ZpZGVvJywgeyB0eXBlOiB0eXBlICsgc3RhdHVzIH0pO1xuICAgIC8vIHdpbmRvd1tcIm10YVwiXSAmJiB3aW5kb3dbXCJtdGFcIl0ub25FdmVudCgndmlkZW8nLCB7IHZ0eXBlOiB0eXBlICsgc3RhdHVzIH0pO1xuICAgIHdpbmRvd1tcIm9uR2FtZUV2ZW50XCJdICYmIHdpbmRvd1tcIm9uR2FtZUV2ZW50XCJdKFwi6KeG6aKRXCIsIHR5cGUgKyBzdGF0dXMpO1xufVxuXG5cblxud2luZG93LmV2ZW50X2tleSA9IHtcbiAgICBcIuinhumikVwiOiAxMSwgXCLmiZPlvIBcIjogMTIsIFwi5YGc55WZXCI6IDEzLCBcIui/m+WFpVwiOiAyMCwgXCLnrb7liLBcIjogMjEsIFwi6L2s55uYXCI6IDIyLCBcIuaKveWlllwiOiAyMywgXCLnmq7ogqRcIjogMjQsIFwi5oiQ5bCxXCI6IDI1LCBcIuWVhuWfjlwiOiAyNiwgXCLlhbbku5ZcIjogMjdcbn0iXX0=